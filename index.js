var A$=Object.create;var yh=Object.defineProperty;var T$=Object.getOwnPropertyDescriptor;var M$=Object.getOwnPropertyNames;var R$=Object.getPrototypeOf,k$=Object.prototype.hasOwnProperty;var M=(t,e)=>()=>(t&&(e=t(t=0)),e);var V=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),si=(t,e)=>{for(var i in e)yh(t,i,{get:e[i],enumerable:!0})},N1=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of M$(e))!k$.call(t,n)&&n!==i&&yh(t,n,{get:()=>e[n],enumerable:!(r=T$(e,n))||r.enumerable});return t};var pe=(t,e,i)=>(i=t!=null?A$(R$(t)):{},N1(e||!t||!t.__esModule?yh(i,"default",{value:t,enumerable:!0}):i,t)),Dc=t=>N1(yh({},"__esModule",{value:!0}),t);function mo(t,e){for(var i in e)t[i]=e[i];return t}function sy(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Tt(t,e,i){var r,n,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?n=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?zc.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return Lc(t,a,r,n,null)}function Lc(t,e,i,r,n){var o={type:t,props:e,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++F1,__i:-1,__u:0};return n==null&&Je.vnode!=null&&Je.vnode(o),o}function me(){return{current:null}}function te(t){return t.children}function se(t,e){this.props=t,this.context=e}function Fl(t,e){if(e==null)return t.__?Fl(t.__,t.__i+1):null;for(var i;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?Fl(t):null}function W1(t){var e,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return W1(t)}}function ny(t){(!t.__d&&(t.__d=!0)&&ka.push(t)&&!wh.__r++||O1!==Je.debounceRendering)&&((O1=Je.debounceRendering)||z1)(wh)}function wh(){for(var t,e,i,r,n,o,a,l=1;ka.length;)ka.length>l&&ka.sort(H1),t=ka.shift(),l=ka.length,t.__d&&(i=void 0,n=(r=(e=t).__v).__e,o=[],a=[],e.__P&&((i=mo({},r)).__v=r.__v+1,Je.vnode&&Je.vnode(i),ay(e.__P,i,r,e.__n,e.__P.namespaceURI,32&r.__u?[n]:null,o,n??Fl(r),!!(32&r.__u),a),i.__v=r.__v,i.__.__k[i.__i]=i,j1(o,i,a),i.__e!=n&&W1(i)));wh.__r=0}function V1(t,e,i,r,n,o,a,l,c,d,m){var f,v,b,_,E,C,I=r&&r.__k||B1,N=e.length;for(c=O$(i,e,I,c,N),f=0;f<N;f++)(b=i.__k[f])!=null&&(v=b.__i===-1?Fc:I[b.__i]||Fc,b.__i=f,C=ay(t,b,v,n,o,a,l,c,d,m),_=b.__e,b.ref&&v.ref!=b.ref&&(v.ref&&ly(v.ref,null,b),m.push(b.ref,b.__c||_,b)),E==null&&_!=null&&(E=_),4&b.__u||v.__k===b.__k?c=$1(b,c,t):typeof b.type=="function"&&C!==void 0?c=C:_&&(c=_.nextSibling),b.__u&=-7);return i.__e=E,c}function O$(t,e,i,r,n){var o,a,l,c,d,m=i.length,f=m,v=0;for(t.__k=new Array(n),o=0;o<n;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(c=o+v,(a=t.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Lc(null,a,null,null,null):qc(a)?Lc(te,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Lc(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,l=null,(d=a.__i=D$(a,i,c,f))!==-1&&(f--,(l=i[d])&&(l.__u|=2)),l==null||l.__v===null?(d==-1&&(n>m?v--:n<m&&v++),typeof a.type!="function"&&(a.__u|=4)):d!=c&&(d==c-1?v--:d==c+1?v++:(d>c?v--:v++,a.__u|=4))):t.__k[o]=null;if(f)for(o=0;o<m;o++)(l=i[o])!=null&&!(2&l.__u)&&(l.__e==r&&(r=Fl(l)),K1(l,l));return r}function $1(t,e,i){var r,n;if(typeof t.type=="function"){for(r=t.__k,n=0;r&&n<r.length;n++)r[n]&&(r[n].__=t,e=$1(r[n],e,i));return e}t.__e!=e&&(e&&t.type&&!i.contains(e)&&(e=Fl(t)),i.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function go(t,e){return e=e||[],t==null||typeof t=="boolean"||(qc(t)?t.some(function(i){go(i,e)}):e.push(t)),e}function D$(t,e,i,r){var n,o,a=t.key,l=t.type,c=e[i];if(c===null&&t.key==null||c&&a==c.key&&l===c.type&&!(2&c.__u))return i;if(r>(c!=null&&!(2&c.__u)?1:0))for(n=i-1,o=i+1;n>=0||o<e.length;){if(n>=0){if((c=e[n])&&!(2&c.__u)&&a==c.key&&l===c.type)return n;n--}if(o<e.length){if((c=e[o])&&!(2&c.__u)&&a==c.key&&l===c.type)return o;o++}}return-1}function D1(t,e,i){e[0]=="-"?t.setProperty(e,i??""):t[e]=i==null?"":typeof i!="number"||N$.test(e)?i:i+"px"}function bh(t,e,i,r,n){var o;e:if(e=="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||D1(t.style,e,"");if(i)for(e in i)r&&i[e]===r[e]||D1(t.style,e,i[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(q1,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=i,i?r?i.t=r.t:(i.t=oy,t.addEventListener(e,o?ry:iy,o)):t.removeEventListener(e,o?ry:iy,o);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&i==1?"":i))}}function L1(t){return function(e){if(this.l){var i=this.l[e.type+t];if(e.u==null)e.u=oy++;else if(e.u<i.t)return;return i(Je.event?Je.event(e):e)}}}function ay(t,e,i,r,n,o,a,l,c,d){var m,f,v,b,_,E,C,I,N,D,F,z,G,Y,L,Z,$,j=e.type;if(e.constructor!==void 0)return null;128&i.__u&&(c=!!(32&i.__u),o=[l=e.__e=i.__e]),(m=Je.__b)&&m(e);e:if(typeof j=="function")try{if(I=e.props,N="prototype"in j&&j.prototype.render,D=(m=j.contextType)&&r[m.__c],F=m?D?D.props.value:m.__:r,i.__c?C=(f=e.__c=i.__c).__=f.__E:(N?e.__c=f=new j(I,F):(e.__c=f=new se(I,F),f.constructor=j,f.render=F$),D&&D.sub(f),f.props=I,f.state||(f.state={}),f.context=F,f.__n=r,v=f.__d=!0,f.__h=[],f._sb=[]),N&&f.__s==null&&(f.__s=f.state),N&&j.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=mo({},f.__s)),mo(f.__s,j.getDerivedStateFromProps(I,f.__s))),b=f.props,_=f.state,f.__v=e,v)N&&j.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),N&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(N&&j.getDerivedStateFromProps==null&&I!==b&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(I,F),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(I,f.__s,F)===!1||e.__v==i.__v)){for(e.__v!=i.__v&&(f.props=I,f.state=f.__s,f.__d=!1),e.__e=i.__e,e.__k=i.__k,e.__k.some(function(ie){ie&&(ie.__=e)}),z=0;z<f._sb.length;z++)f.__h.push(f._sb[z]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(I,f.__s,F),N&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(b,_,E)})}if(f.context=F,f.props=I,f.__P=t,f.__e=!1,G=Je.__r,Y=0,N){for(f.state=f.__s,f.__d=!1,G&&G(e),m=f.render(f.props,f.state,f.context),L=0;L<f._sb.length;L++)f.__h.push(f._sb[L]);f._sb=[]}else do f.__d=!1,G&&G(e),m=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++Y<25);f.state=f.__s,f.getChildContext!=null&&(r=mo(mo({},r),f.getChildContext())),N&&!v&&f.getSnapshotBeforeUpdate!=null&&(E=f.getSnapshotBeforeUpdate(b,_)),Z=m,m!=null&&m.type===te&&m.key==null&&(Z=G1(m.props.children)),l=V1(t,qc(Z)?Z:[Z],e,i,r,n,o,a,l,c,d),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),C&&(f.__E=f.__=null)}catch(ie){if(e.__v=null,c||o!=null)if(ie.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,e.__e=l}else for($=o.length;$--;)sy(o[$]);else e.__e=i.__e,e.__k=i.__k;Je.__e(ie,e,i)}else o==null&&e.__v==i.__v?(e.__k=i.__k,e.__e=i.__e):l=e.__e=L$(i.__e,e,i,r,n,o,a,c,d);return(m=Je.diffed)&&m(e),128&e.__u?void 0:l}function j1(t,e,i){for(var r=0;r<i.length;r++)ly(i[r],i[++r],i[++r]);Je.__c&&Je.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(o){o.call(n)})}catch(o){Je.__e(o,n.__v)}})}function G1(t){return typeof t!="object"||t==null?t:qc(t)?t.map(G1):mo({},t)}function L$(t,e,i,r,n,o,a,l,c){var d,m,f,v,b,_,E,C=i.props,I=e.props,N=e.type;if(N=="svg"?n="http://www.w3.org/2000/svg":N=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),o!=null){for(d=0;d<o.length;d++)if((b=o[d])&&"setAttribute"in b==!!N&&(N?b.localName==N:b.nodeType==3)){t=b,o[d]=null;break}}if(t==null){if(N==null)return document.createTextNode(I);t=document.createElementNS(n,N,I.is&&I),l&&(Je.__m&&Je.__m(e,o),l=!1),o=null}if(N===null)C===I||l&&t.data===I||(t.data=I);else{if(o=o&&zc.call(t.childNodes),C=i.props||Fc,!l&&o!=null)for(C={},d=0;d<t.attributes.length;d++)C[(b=t.attributes[d]).name]=b.value;for(d in C)if(b=C[d],d!="children"){if(d=="dangerouslySetInnerHTML")f=b;else if(!(d in I)){if(d=="value"&&"defaultValue"in I||d=="checked"&&"defaultChecked"in I)continue;bh(t,d,null,b,n)}}for(d in I)b=I[d],d=="children"?v=b:d=="dangerouslySetInnerHTML"?m=b:d=="value"?_=b:d=="checked"?E=b:l&&typeof b!="function"||C[d]===b||bh(t,d,b,C[d],n);if(m)l||f&&(m.__html===f.__html||m.__html===t.innerHTML)||(t.innerHTML=m.__html),e.__k=[];else if(f&&(t.innerHTML=""),V1(e.type==="template"?t.content:t,qc(v)?v:[v],e,i,r,N=="foreignObject"?"http://www.w3.org/1999/xhtml":n,o,a,o?o[0]:i.__k&&Fl(i,0),l,c),o!=null)for(d=o.length;d--;)sy(o[d]);l||(d="value",N=="progress"&&_==null?t.removeAttribute("value"):_!==void 0&&(_!==t[d]||N=="progress"&&!_||N=="option"&&_!==C[d])&&bh(t,d,_,C[d],n),d="checked",E!==void 0&&E!==t[d]&&bh(t,d,E,C[d],n))}return t}function ly(t,e,i){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(n){Je.__e(n,i)}}function K1(t,e,i){var r,n;if(Je.unmount&&Je.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ly(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Je.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(n=0;n<r.length;n++)r[n]&&K1(r[n],e,i||typeof t.type!="function");i||sy(t.__e),t.__c=t.__=t.__e=void 0}function F$(t,e,i){return this.constructor(t,i)}function Ns(t,e,i){var r,n,o,a;e==document&&(e=document.documentElement),Je.__&&Je.__(t,e),n=(r=typeof i=="function")?null:i&&i.__k||e.__k,o=[],a=[],ay(e,t=(!r&&i||e).__k=Tt(te,null,[t]),n||Fc,Fc,e.namespaceURI,!r&&i?[i]:n?null:e.firstChild?zc.call(e.childNodes):null,o,!r&&i?i:n?n.__e:e.firstChild,r,a),j1(o,t,a)}function Uc(t,e){Ns(t,e,Uc)}function Y1(t,e,i){var r,n,o,a,l=mo({},t.props);for(o in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)o=="key"?r=e[o]:o=="ref"?n=e[o]:l[o]=e[o]===void 0&&a!==void 0?a[o]:e[o];return arguments.length>2&&(l.children=arguments.length>3?zc.call(arguments,2):i),Lc(t.type,l,r||t.key,n||t.ref,null)}function xn(t){function e(i){var r,n;return this.getChildContext||(r=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.forEach(function(a){a.__e=!0,ny(a)})},this.sub=function(o){r.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),a&&a.call(o)}}),i.children}return e.__c="__cC"+U1++,e.__=t,e.Provider=e.__l=(e.Consumer=function(i,r){return i.children(r)}).contextType=e,e}var zc,Je,F1,Hc,ka,O1,z1,H1,q1,oy,iy,ry,U1,Fc,B1,N$,qc,Ee=M(()=>{Fc={},B1=[],N$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,qc=Array.isArray;zc=B1.slice,Je={__e:function(t,e,i,r){for(var n,o,a;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),a=n.__d),a)return n.__E=n}catch(l){t=l}throw t}},F1=0,Hc=function(t){return t!=null&&t.constructor==null},se.prototype.setState=function(t,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=mo({},this.state),typeof t=="function"&&(t=t(mo({},i),this.props)),t&&mo(i,t),t!=null&&this.__v&&(e&&this._sb.push(e),ny(this))},se.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ny(this))},se.prototype.render=te,ka=[],z1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,H1=function(t,e){return t.__v.__b-e.__v.__b},wh.__r=0,q1=/(PointerCapture)$|Capture$/i,oy=0,iy=L1(!1),ry=L1(!0),U1=0});function Na(t,e){ci.__h&&ci.__h(Yt,t,zl||e),zl=0;var i=Yt.__H||(Yt.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function cr(t){return zl=1,qn(oE,t)}function qn(t,e,i){var r=Na(ts++,2);if(r.t=t,!r.__c&&(r.__=[i?i(e):oE(void 0,e),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Yt,!Yt.__f)){var n=function(l,c,d){if(!r.__c.__H)return!0;var m=r.__c.__H.__.filter(function(v){return!!v.__c});if(m.every(function(v){return!v.__N}))return!o||o.call(this,l,c,d);var f=r.__c.props!==l;return m.forEach(function(v){if(v.__N){var b=v.__[0];v.__=v.__N,v.__N=void 0,b!==v.__[0]&&(f=!0)}}),o&&o.call(this,l,c,d)||f};Yt.__f=!0;var o=Yt.shouldComponentUpdate,a=Yt.componentWillUpdate;Yt.componentWillUpdate=function(l,c,d){if(this.__e){var m=o;o=void 0,n(l,c,d),o=m}a&&a.call(this,l,c,d)},Yt.shouldComponentUpdate=n}return r.__N||r.__}function Mt(t,e){var i=Na(ts++,3);!ci.__s&&dy(i.__H,e)&&(i.__=t,i.u=e,Yt.__H.__h.push(i))}function Tr(t,e){var i=Na(ts++,4);!ci.__s&&dy(i.__H,e)&&(i.__=t,i.u=e,Yt.__h.push(i))}function dr(t){return zl=5,Vt(function(){return{current:t}},[])}function Os(t,e,i){zl=6,Tr(function(){if(typeof t=="function"){var r=t(e());return function(){t(null),r&&typeof r=="function"&&r()}}if(t)return t.current=e(),function(){return t.current=null}},i==null?i:i.concat(t))}function Vt(t,e){var i=Na(ts++,7);return dy(i.__H,e)&&(i.__=t(),i.__H=e,i.__h=t),i.__}function Ds(t,e){return zl=8,Vt(function(){return t},e)}function Mi(t){var e=Yt.context[t.__c],i=Na(ts++,9);return i.c=t,e?(i.__==null&&(i.__=!0,e.sub(Yt)),e.props.value):t.__}function Bc(t,e){ci.useDebugValue&&ci.useDebugValue(e?e(t):t)}function z$(t){var e=Na(ts++,10),i=cr();return e.__=t,Yt.componentDidCatch||(Yt.componentDidCatch=function(r,n){e.__&&e.__(r,n),i[1](r)}),[i[0],function(){i[1](void 0)}]}function Sh(){var t=Na(ts++,11);if(!t.__){for(var e=Yt.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var i=e.__m||(e.__m=[0,0]);t.__="P"+i[0]+"-"+i[1]++}return t.__}function H$(){for(var t;t=nE.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(xh),t.__H.__h.forEach(cy),t.__H.__h=[]}catch(e){t.__H.__h=[],ci.__e(e,t.__v)}}function q$(t){var e,i=function(){clearTimeout(r),rE&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(i,100);rE&&(e=requestAnimationFrame(i))}function xh(t){var e=Yt,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),Yt=e}function cy(t){var e=Yt;t.__c=t.__(),Yt=e}function dy(t,e){return!t||t.length!==e.length||e.some(function(i,r){return i!==t[r]})}function oE(t,e){return typeof e=="function"?e(t):e}var ts,Yt,uy,X1,zl,nE,ci,Z1,J1,Q1,eE,tE,iE,rE,Ls=M(()=>{Ee();zl=0,nE=[],ci=Je,Z1=ci.__b,J1=ci.__r,Q1=ci.diffed,eE=ci.__c,tE=ci.unmount,iE=ci.__;ci.__b=function(t){Yt=null,Z1&&Z1(t)},ci.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),iE&&iE(t,e)},ci.__r=function(t){J1&&J1(t),ts=0;var e=(Yt=t.__c).__H;e&&(uy===Yt?(e.__h=[],Yt.__h=[],e.__.forEach(function(i){i.__N&&(i.__=i.__N),i.u=i.__N=void 0})):(e.__h.forEach(xh),e.__h.forEach(cy),e.__h=[],ts=0)),uy=Yt},ci.diffed=function(t){Q1&&Q1(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(nE.push(e)!==1&&X1===ci.requestAnimationFrame||((X1=ci.requestAnimationFrame)||q$)(H$)),e.__H.__.forEach(function(i){i.u&&(i.__H=i.u),i.u=void 0})),uy=Yt=null},ci.__c=function(t,e){e.some(function(i){try{i.__h.forEach(xh),i.__h=i.__h.filter(function(r){return!r.__||cy(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],ci.__e(r,i.__v)}}),eE&&eE(t,e)},ci.unmount=function(t){tE&&tE(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{xh(r)}catch(n){e=n}}),i.__H=void 0,e&&ci.__e(e,i.__v))};rE=typeof requestAnimationFrame=="function"});var NE={};si(NE,{Children:()=>Oa,Component:()=>se,Fragment:()=>te,PureComponent:()=>Ii,StrictMode:()=>RE,Suspense:()=>Wc,SuspenseList:()=>Hl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>_E,cloneElement:()=>IE,createContext:()=>xn,createElement:()=>Tt,createFactory:()=>EE,createPortal:()=>Ge,createRef:()=>me,default:()=>Re,findDOMNode:()=>TE,flushSync:()=>ME,forwardRef:()=>Mr,hydrate:()=>SE,isElement:()=>kE,isFragment:()=>CE,isMemo:()=>PE,isValidElement:()=>Vc,lazy:()=>bE,memo:()=>mE,render:()=>xE,startTransition:()=>my,unmountComponentAtNode:()=>AE,unstable_batchedUpdates:()=>$c,useCallback:()=>Ds,useContext:()=>Mi,useDebugValue:()=>Bc,useDeferredValue:()=>gy,useEffect:()=>Mt,useErrorBoundary:()=>z$,useId:()=>Sh,useImperativeHandle:()=>Os,useInsertionEffect:()=>yy,useLayoutEffect:()=>Tr,useMemo:()=>Vt,useReducer:()=>qn,useRef:()=>dr,useState:()=>cr,useSyncExternalStore:()=>fy,useTransition:()=>vy,version:()=>e6});function fE(t,e){for(var i in e)t[i]=e[i];return t}function hy(t,e){for(var i in t)if(i!=="__source"&&!(i in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function fy(t,e){var i=e(),r=cr({t:{__:i,u:e}}),n=r[0].t,o=r[1];return Tr(function(){n.__=i,n.u=e,py(n)&&o({t:n})},[t,i,e]),Mt(function(){return py(n)&&o({t:n}),t(function(){py(n)&&o({t:n})})},[t]),i}function py(t){var e,i,r=t.u,n=t.__;try{var o=r();return!((e=n)===(i=o)&&(e!==0||1/e==1/i)||e!=e&&i!=i)}catch{return!0}}function my(t){t()}function gy(t){return t}function vy(){return[!1,my]}function Ii(t,e){this.props=t,this.context=e}function mE(t,e){function i(n){var o=this.props.ref,a=o==n.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,n)||!a:hy(this.props,n)}function r(n){return this.shouldComponentUpdate=i,Tt(t,n)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function Mr(t){function e(i){var r=fE({},i);return delete r.ref,t(r,i.ref||null)}return e.$$typeof=U$,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function gE(t,e,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=fE({},t)).__c!=null&&(t.__c.__P===i&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return gE(r,e,i)})),t}function vE(t,e,i){return t&&i&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return vE(r,e,i)}),t.__c&&t.__c.__P===e&&(t.__e&&i.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=i)),t}function Wc(){this.__u=0,this.o=null,this.__b=null}function yE(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function bE(t){var e,i,r;function n(o){if(e||(e=t()).then(function(a){i=a.default||a},function(a){r=a}),r)throw r;if(!i)throw e;return Tt(i,o)}return n.displayName="Lazy",n.__f=!0,n}function Hl(){this.i=null,this.l=null}function W$(t){return this.getChildContext=function(){return t.context},t.children}function V$(t){var e=this,i=t.h;e.componentWillUnmount=function(){Ns(null,e.v),e.v=null,e.h=null},e.h&&e.h!==i&&e.componentWillUnmount(),e.v||(e.h=i,e.v={nodeType:1,parentNode:i,childNodes:[],contains:function(){return!0},appendChild:function(r){this.childNodes.push(r),e.h.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),e.h.insertBefore(r,n)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.h.removeChild(r)}}),Ns(Tt(W$,{context:e.context},t.__v),e.v)}function Ge(t,e){var i=Tt(V$,{__v:t,h:e});return i.containerInfo=e,i}function xE(t,e,i){return e.__k==null&&(e.textContent=""),Ns(t,e),typeof i=="function"&&i(),t?t.__c:null}function SE(t,e,i){return Uc(t,e),typeof i=="function"&&i(),t?t.__c:null}function X$(){}function Z$(){return this.cancelBubble}function J$(){return this.defaultPrevented}function EE(t){return Tt.bind(null,t)}function Vc(t){return!!t&&t.$$typeof===wE}function CE(t){return Vc(t)&&t.type===te}function PE(t){return!!t&&!!t.displayName&&(typeof t.displayName=="string"||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function IE(t){return Vc(t)?Y1.apply(null,arguments):t}function AE(t){return!!t.__k&&(Ns(null,t),!0)}function TE(t){return t&&(t.base||t.nodeType===1&&t)||null}var yy,sE,U$,aE,Oa,B$,lE,uE,wE,$$,j$,G$,K$,Y$,cE,by,Q$,dE,pE,hE,_E,e6,$c,ME,RE,kE,Re,qe=M(()=>{Ee();Ee();Ls();Ls();yy=Tr;(Ii.prototype=new se).isPureReactComponent=!0,Ii.prototype.shouldComponentUpdate=function(t,e){return hy(this.props,t)||hy(this.state,e)};sE=Je.__b;Je.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),sE&&sE(t)};U$=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;aE=function(t,e){return t==null?null:go(go(t).map(e))},Oa={map:aE,forEach:aE,count:function(t){return t?go(t).length:0},only:function(t){var e=go(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:go},B$=Je.__e;Je.__e=function(t,e,i,r){if(t.then){for(var n,o=e;o=o.__;)if((n=o.__c)&&n.__c)return e.__e==null&&(e.__e=i.__e,e.__k=i.__k),n.__c(t,e)}B$(t,e,i,r)};lE=Je.unmount;Je.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),lE&&lE(t)},(Wc.prototype=new se).__c=function(t,e){var i=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(i);var n=yE(r.__v),o=!1,a=function(){o||(o=!0,i.__R=null,n?n(l):l())};i.__R=a;var l=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=vE(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.o.pop();)d.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},Wc.prototype.componentWillUnmount=function(){this.o=[]},Wc.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=gE(this.__b,i,r.__O=r.__P)}this.__b=null}var n=e.__a&&Tt(te,null,t.fallback);return n&&(n.__u&=-33),[Tt(te,null,e.__a?null:t.children),n]};uE=function(t,e,i){if(++i[1]===i[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(i=t.i;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.i=i=i[2]}};(Hl.prototype=new se).__a=function(t){var e=this,i=yE(e.__v),r=e.l.get(t);return r[0]++,function(n){var o=function(){e.props.revealOrder?(r.push(n),uE(e,t,r)):n()};i?i(o):o()}},Hl.prototype.render=function(t){this.i=null,this.l=new Map;var e=go(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var i=e.length;i--;)this.l.set(e[i],this.i=[1,0,this.i]);return t.children},Hl.prototype.componentDidUpdate=Hl.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,i){uE(t,i,e)})};wE=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,j$=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,G$=/[A-Z0-9]/g,K$=typeof document<"u",Y$=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};se.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(se.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});cE=Je.event;Je.event=function(t){return cE&&(t=cE(t)),t.persist=X$,t.isPropagationStopped=Z$,t.isDefaultPrevented=J$,t.nativeEvent=t};Q$={enumerable:!1,configurable:!0,get:function(){return this.class}},dE=Je.vnode;Je.vnode=function(t){typeof t.type=="string"&&function(e){var i=e.props,r=e.type,n={},o=r.indexOf("-")===-1;for(var a in i){var l=i[a];if(!(a==="value"&&"defaultValue"in i&&l==null||K$&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var c=a.toLowerCase();a==="defaultValue"&&"value"in i&&i.value==null?a="value":a==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?a="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||Y$(i.type)?c==="onfocus"?a="onfocusin":c==="onblur"?a="onfocusout":j$.test(a)&&(a=c):c=a="oninput":o&&$$.test(a)?a=a.replace(G$,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&n[a=c]&&(a="oninputCapture"),n[a]=l}}r=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=go(i.children).forEach(function(d){d.props.selected=n.value.indexOf(d.props.value)!=-1})),r=="select"&&n.defaultValue!=null&&(n.value=go(i.children).forEach(function(d){d.props.selected=n.multiple?n.defaultValue.indexOf(d.props.value)!=-1:n.defaultValue==d.props.value})),i.class&&!i.className?(n.class=i.class,Object.defineProperty(n,"className",Q$)):(i.className&&!i.class||i.class&&i.className)&&(n.class=n.className=i.className),e.props=n}(t),t.$$typeof=wE,dE&&dE(t)};pE=Je.__r;Je.__r=function(t){pE&&pE(t),by=t.__c};hE=Je.diffed;Je.diffed=function(t){hE&&hE(t);var e=t.props,i=t.__e;i!=null&&t.type==="textarea"&&"value"in e&&e.value!==i.value&&(i.value=e.value==null?"":e.value),by=null};_E={ReactCurrentDispatcher:{current:{readContext:function(t){return by.__n[t.__c].props.value},useCallback:Ds,useContext:Mi,useDebugValue:Bc,useDeferredValue:gy,useEffect:Mt,useId:Sh,useImperativeHandle:Os,useInsertionEffect:yy,useLayoutEffect:Tr,useMemo:Vt,useReducer:qn,useRef:dr,useState:cr,useSyncExternalStore:fy,useTransition:vy}}},e6="18.3.1";$c=function(t,e){return t(e)},ME=function(t,e){return t(e)},RE=te,kE=Vc,Re={useState:cr,useId:Sh,useReducer:qn,useEffect:Mt,useLayoutEffect:Tr,useInsertionEffect:yy,useTransition:vy,useDeferredValue:gy,useSyncExternalStore:fy,startTransition:my,useRef:dr,useImperativeHandle:Os,useMemo:Vt,useCallback:Ds,useContext:Mi,useDebugValue:Bc,version:"18.3.1",Children:Oa,render:xE,hydrate:SE,unmountComponentAtNode:AE,createPortal:Ge,createElement:Tt,createContext:xn,createFactory:EE,cloneElement:IE,createRef:me,Fragment:te,isValidElement:Vc,isElement:kE,isFragment:CE,isMemo:PE,findDOMNode:TE,Component:se,PureComponent:Ii,memo:mE,forwardRef:Mr,flushSync:ME,unstable_batchedUpdates:$c,StrictMode:RE,Suspense:Wc,SuspenseList:Hl,lazy:bE,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:_E}});var DE=V((fue,OE)=>{"use strict";var t6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";OE.exports=t6});var HE=V((mue,zE)=>{"use strict";var i6=DE();function LE(){}function FE(){}FE.resetWarningCache=LE;zE.exports=function(){function t(r,n,o,a,l,c){if(c!==i6){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FE,resetWarningCache:LE};return i.PropTypes=i,i}});var wy=V((yue,qE)=>{qE.exports=HE()();var gue,vue});var Sn,Fs=M(()=>{qe();Sn=Re.createContext(null)});function r6(t){t()}var UE,BE,WE,xy=M(()=>{UE=r6,BE=function(e){return UE=e},WE=function(){return UE}});function n6(){var t=WE(),e=null,i=null;return{clear:function(){e=null,i=null},notify:function(){t(function(){for(var n=e;n;)n.callback(),n=n.next})},get:function(){for(var n=[],o=e;o;)n.push(o),o=o.next;return n},subscribe:function(n){var o=!0,a=i={callback:n,next:null,prev:i};return a.prev?a.prev.next=a:e=a,function(){!o||e===null||(o=!1,a.next?a.next.prev=a.prev:i=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}function jc(t,e){var i,r=VE;function n(f){return c(),r.subscribe(f)}function o(){r.notify()}function a(){m.onStateChange&&m.onStateChange()}function l(){return!!i}function c(){i||(i=e?e.addNestedSub(a):t.subscribe(a),r=n6())}function d(){i&&(i(),i=void 0,r.clear(),r=VE)}var m={addNestedSub:n,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return m}var VE,_h=M(()=>{xy();VE={notify:function(){},get:function(){return[]}}});var Gc,Eh=M(()=>{qe();Gc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Tr:Mt});function o6(t){var e=t.store,i=t.context,r=t.children,n=Vt(function(){var l=jc(e);return{store:e,subscription:l}},[e]),o=Vt(function(){return e.getState()},[e]);Gc(function(){var l=n.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==e.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[n,o]);var a=i||Sn;return Re.createElement(a.Provider,{value:n},r)}var Sy,$E=M(()=>{qe();Fs();_h();Eh();Sy=o6});function Ut(){return Ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ut.apply(this,arguments)}var Da=M(()=>{});function Rr(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var ql=M(()=>{});var GE=V(Bt=>{"use strict";var Fi=typeof Symbol=="function"&&Symbol.for,_y=Fi?Symbol.for("react.element"):60103,Ey=Fi?Symbol.for("react.portal"):60106,Ch=Fi?Symbol.for("react.fragment"):60107,Ph=Fi?Symbol.for("react.strict_mode"):60108,Ih=Fi?Symbol.for("react.profiler"):60114,Ah=Fi?Symbol.for("react.provider"):60109,Th=Fi?Symbol.for("react.context"):60110,Cy=Fi?Symbol.for("react.async_mode"):60111,Mh=Fi?Symbol.for("react.concurrent_mode"):60111,Rh=Fi?Symbol.for("react.forward_ref"):60112,kh=Fi?Symbol.for("react.suspense"):60113,s6=Fi?Symbol.for("react.suspense_list"):60120,Nh=Fi?Symbol.for("react.memo"):60115,Oh=Fi?Symbol.for("react.lazy"):60116,a6=Fi?Symbol.for("react.block"):60121,l6=Fi?Symbol.for("react.fundamental"):60117,u6=Fi?Symbol.for("react.responder"):60118,c6=Fi?Symbol.for("react.scope"):60119;function on(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _y:switch(t=t.type,t){case Cy:case Mh:case Ch:case Ih:case Ph:case kh:return t;default:switch(t=t&&t.$$typeof,t){case Th:case Rh:case Oh:case Nh:case Ah:return t;default:return e}}case Ey:return e}}}function jE(t){return on(t)===Mh}Bt.AsyncMode=Cy;Bt.ConcurrentMode=Mh;Bt.ContextConsumer=Th;Bt.ContextProvider=Ah;Bt.Element=_y;Bt.ForwardRef=Rh;Bt.Fragment=Ch;Bt.Lazy=Oh;Bt.Memo=Nh;Bt.Portal=Ey;Bt.Profiler=Ih;Bt.StrictMode=Ph;Bt.Suspense=kh;Bt.isAsyncMode=function(t){return jE(t)||on(t)===Cy};Bt.isConcurrentMode=jE;Bt.isContextConsumer=function(t){return on(t)===Th};Bt.isContextProvider=function(t){return on(t)===Ah};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_y};Bt.isForwardRef=function(t){return on(t)===Rh};Bt.isFragment=function(t){return on(t)===Ch};Bt.isLazy=function(t){return on(t)===Oh};Bt.isMemo=function(t){return on(t)===Nh};Bt.isPortal=function(t){return on(t)===Ey};Bt.isProfiler=function(t){return on(t)===Ih};Bt.isStrictMode=function(t){return on(t)===Ph};Bt.isSuspense=function(t){return on(t)===kh};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ch||t===Mh||t===Ih||t===Ph||t===kh||t===s6||typeof t=="object"&&t!==null&&(t.$$typeof===Oh||t.$$typeof===Nh||t.$$typeof===Ah||t.$$typeof===Th||t.$$typeof===Rh||t.$$typeof===l6||t.$$typeof===u6||t.$$typeof===c6||t.$$typeof===a6)};Bt.typeOf=on});var Py=V((Oue,KE)=>{"use strict";KE.exports=GE()});var Dh=V((Due,eC)=>{"use strict";var Iy=Py(),d6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ay={};Ay[Iy.ForwardRef]=h6;Ay[Iy.Memo]=JE;function YE(t){return Iy.isMemo(t)?JE:Ay[t.$$typeof]||d6}var f6=Object.defineProperty,m6=Object.getOwnPropertyNames,XE=Object.getOwnPropertySymbols,g6=Object.getOwnPropertyDescriptor,v6=Object.getPrototypeOf,ZE=Object.prototype;function QE(t,e,i){if(typeof e!="string"){if(ZE){var r=v6(e);r&&r!==ZE&&QE(t,r,i)}var n=m6(e);XE&&(n=n.concat(XE(e)));for(var o=YE(t),a=YE(e),l=0;l<n.length;++l){var c=n[l];if(!p6[c]&&!(i&&i[c])&&!(a&&a[c])&&!(o&&o[c])){var d=g6(e,c);try{f6(t,c,d)}catch{}}}}return t}eC.exports=QE});var sC=V(Xt=>{"use strict";var Lh=60103,Fh=60106,Kc=60107,Yc=60108,Xc=60114,Zc=60109,Jc=60110,Qc=60112,ed=60113,Ty=60120,td=60115,id=60116,tC=60121,iC=60122,rC=60117,nC=60129,oC=60131;typeof Symbol=="function"&&Symbol.for&&(zi=Symbol.for,Lh=zi("react.element"),Fh=zi("react.portal"),Kc=zi("react.fragment"),Yc=zi("react.strict_mode"),Xc=zi("react.profiler"),Zc=zi("react.provider"),Jc=zi("react.context"),Qc=zi("react.forward_ref"),ed=zi("react.suspense"),Ty=zi("react.suspense_list"),td=zi("react.memo"),id=zi("react.lazy"),tC=zi("react.block"),iC=zi("react.server.block"),rC=zi("react.fundamental"),nC=zi("react.debug_trace_mode"),oC=zi("react.legacy_hidden"));var zi;function Un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lh:switch(t=t.type,t){case Kc:case Xc:case Yc:case ed:case Ty:return t;default:switch(t=t&&t.$$typeof,t){case Jc:case Qc:case id:case td:case Zc:return t;default:return e}}case Fh:return e}}}var y6=Zc,b6=Lh,w6=Qc,x6=Kc,S6=id,_6=td,E6=Fh,C6=Xc,P6=Yc,I6=ed;Xt.ContextConsumer=Jc;Xt.ContextProvider=y6;Xt.Element=b6;Xt.ForwardRef=w6;Xt.Fragment=x6;Xt.Lazy=S6;Xt.Memo=_6;Xt.Portal=E6;Xt.Profiler=C6;Xt.StrictMode=P6;Xt.Suspense=I6;Xt.isAsyncMode=function(){return!1};Xt.isConcurrentMode=function(){return!1};Xt.isContextConsumer=function(t){return Un(t)===Jc};Xt.isContextProvider=function(t){return Un(t)===Zc};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lh};Xt.isForwardRef=function(t){return Un(t)===Qc};Xt.isFragment=function(t){return Un(t)===Kc};Xt.isLazy=function(t){return Un(t)===id};Xt.isMemo=function(t){return Un(t)===td};Xt.isPortal=function(t){return Un(t)===Fh};Xt.isProfiler=function(t){return Un(t)===Xc};Xt.isStrictMode=function(t){return Un(t)===Yc};Xt.isSuspense=function(t){return Un(t)===ed};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kc||t===Xc||t===nC||t===Yc||t===ed||t===Ty||t===oC||typeof t=="object"&&t!==null&&(t.$$typeof===id||t.$$typeof===td||t.$$typeof===Zc||t.$$typeof===Jc||t.$$typeof===Qc||t.$$typeof===rC||t.$$typeof===tC||t[0]===iC)};Xt.typeOf=Un});var lC=V((Fue,aC)=>{"use strict";aC.exports=sC()});function k6(t,e){var i=t[1];return[e.payload,i+1]}function uC(t,e,i){Gc(function(){return t.apply(void 0,e)},i)}function N6(t,e,i,r,n,o,a){t.current=r,e.current=n,i.current=!1,o.current&&(o.current=null,a())}function O6(t,e,i,r,n,o,a,l,c,d){if(t){var m=!1,f=null,v=function(){if(!m){var E=e.getState(),C,I;try{C=r(E,n.current)}catch(N){I=N,f=N}I||(f=null),C===o.current?a.current||c():(o.current=C,l.current=C,a.current=!0,d({type:"STORE_UPDATED",payload:{error:I}}))}};i.onStateChange=v,i.trySubscribe(),v();var b=function(){if(m=!0,i.tryUnsubscribe(),i.onStateChange=null,f)throw f};return b}}function zh(t,e){e===void 0&&(e={});var i=e,r=i.getDisplayName,n=r===void 0?function(G){return"ConnectAdvanced("+G+")"}:r,o=i.methodName,a=o===void 0?"connectAdvanced":o,l=i.renderCountProp,c=l===void 0?void 0:l,d=i.shouldHandleStateChanges,m=d===void 0?!0:d,f=i.storeKey,v=f===void 0?"store":f,b=i.withRef,_=b===void 0?!1:b,E=i.forwardRef,C=E===void 0?!1:E,I=i.context,N=I===void 0?Sn:I,D=Rr(i,A6);if(0)var F;var z=N;return function(Y){var L=Y.displayName||Y.name||"Component",Z=n(L),$=Ut({},D,{getDisplayName:n,methodName:a,renderCountProp:c,shouldHandleStateChanges:m,storeKey:v,displayName:Z,wrappedComponentName:L,WrappedComponent:Y}),j=D.pure;function ie(le){return t(le.dispatch,$)}var H=j?Vt:function(le){return le()};function ae(le){var K=Vt(function(){var ri=le.reactReduxForwardedRef,No=Rr(le,T6);return[le.context,ri,No]},[le]),U=K[0],W=K[1],re=K[2],ce=Vt(function(){return U&&U.Consumer&&(0,cC.isContextConsumer)(Re.createElement(U.Consumer,null))?U:z},[U,z]),fe=Mi(ce),be=!!le.store&&!!le.store.getState&&!!le.store.dispatch,Te=!!fe&&!!fe.store,_e=be?le.store:fe.store,Le=Vt(function(){return ie(_e)},[_e]),ze=Vt(function(){if(!m)return R6;var ri=jc(_e,be?null:fe.subscription),No=ri.notifyNestedSubs.bind(ri);return[ri,No]},[_e,be,fe]),rt=ze[0],Ue=ze[1],ot=Vt(function(){return be?fe:Ut({},fe,{subscription:rt})},[be,fe,rt]),Ie=qn(k6,M6,D6),at=Ie[0],lt=at[0],ht=Ie[1];if(lt&&lt.error)throw lt.error;var Be=dr(),ft=dr(re),Lt=dr(),_t=dr(!1),Wt=H(function(){return Lt.current&&re===ft.current?Lt.current:Le(_e.getState(),re)},[_e,lt,re]);uC(N6,[ft,Be,_t,re,Wt,Lt,Ue]),uC(O6,[m,_e,rt,Le,ft,Be,_t,Lt,Ue,ht],[_e,rt,Le]);var nt=Vt(function(){return Re.createElement(Y,Ut({},Wt,{ref:W}))},[W,Y,Wt]),Ki=Vt(function(){return m?Re.createElement(ce.Provider,{value:ot},nt):nt},[ce,nt,ot]);return Ki}var ee=j?Re.memo(ae):ae;if(ee.WrappedComponent=Y,ee.displayName=ae.displayName=Z,C){var J=Re.forwardRef(function(K,U){return Re.createElement(ee,Ut({},K,{reactReduxForwardedRef:U}))});return J.displayName=Z,J.WrappedComponent=Y,(0,My.default)(J,Y)}return(0,My.default)(ee,Y)}}var My,cC,A6,T6,M6,R6,D6,Ry=M(()=>{Da();ql();My=pe(Dh());qe();cC=pe(lC());_h();Eh();Fs();A6=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],T6=["reactReduxForwardedRef"],M6=[],R6=[null,null];D6=function(){return[null,0]}});function dC(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ul(t,e){if(dC(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(!Object.prototype.hasOwnProperty.call(e,i[n])||!dC(t[i[n]],e[i[n]]))return!1;return!0}var ky=M(()=>{});function Ny(t,e){var i={},r=function(a){var l=t[a];typeof l=="function"&&(i[a]=function(){return e(l.apply(void 0,arguments))})};for(var n in t)r(n);return i}var pC=M(()=>{});var hC=M(()=>{});var Oy=M(()=>{});var Dy=M(()=>{hC();Oy()});function rd(t){return function(i,r){var n=t(i,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function fC(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function Hh(t,e){return function(r,n){var o=n.displayName,a=function(c,d){return a.dependsOnOwnProps?a.mapToProps(c,d):a.mapToProps(c)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,d){a.mapToProps=t,a.dependsOnOwnProps=fC(t);var m=a(c,d);return typeof m=="function"&&(a.mapToProps=m,a.dependsOnOwnProps=fC(m),m=a(c,d)),m},a}}var Ly=M(()=>{Dy()});function F6(t){return typeof t=="function"?Hh(t,"mapDispatchToProps"):void 0}function z6(t){return t?void 0:rd(function(e){return{dispatch:e}})}function H6(t){return t&&typeof t=="object"?rd(function(e){return Ny(t,e)}):void 0}var mC,gC=M(()=>{pC();Ly();mC=[F6,z6,H6]});function q6(t){return typeof t=="function"?Hh(t,"mapStateToProps"):void 0}function U6(t){return t?void 0:rd(function(){return{}})}var vC,yC=M(()=>{Ly();vC=[q6,U6]});function B6(t,e,i){return Ut({},i,t,e)}function W6(t){return function(i,r){var n=r.displayName,o=r.pure,a=r.areMergedPropsEqual,l=!1,c;return function(m,f,v){var b=t(m,f,v);return l?(!o||!a(b,c))&&(c=b):(l=!0,c=b),c}}}function V6(t){return typeof t=="function"?W6(t):void 0}function $6(t){return t?void 0:function(){return B6}}var bC,wC=M(()=>{Da();Dy();bC=[V6,$6]});var xC=M(()=>{Oy()});function G6(t,e,i,r){return function(o,a){return i(t(o,a),e(r,a),a)}}function K6(t,e,i,r,n){var o=n.areStatesEqual,a=n.areOwnPropsEqual,l=n.areStatePropsEqual,c=!1,d,m,f,v,b;function _(D,F){return d=D,m=F,f=t(d,m),v=e(r,m),b=i(f,v,m),c=!0,b}function E(){return f=t(d,m),e.dependsOnOwnProps&&(v=e(r,m)),b=i(f,v,m),b}function C(){return t.dependsOnOwnProps&&(f=t(d,m)),e.dependsOnOwnProps&&(v=e(r,m)),b=i(f,v,m),b}function I(){var D=t(d,m),F=!l(D,f);return f=D,F&&(b=i(f,v,m)),b}function N(D,F){var z=!a(F,m),G=!o(D,d,F,m);return d=D,m=F,z&&G?E():z?C():G?I():b}return function(F,z){return c?N(F,z):_(F,z)}}function Fy(t,e){var i=e.initMapStateToProps,r=e.initMapDispatchToProps,n=e.initMergeProps,o=Rr(e,j6),a=i(t,o),l=r(t,o),c=n(t,o),d=o.pure?K6:G6;return d(a,l,c,t,o)}var j6,SC=M(()=>{ql();xC();j6=["initMapStateToProps","initMapDispatchToProps","initMergeProps"]});function zy(t,e,i){for(var r=e.length-1;r>=0;r--){var n=e[r](t);if(n)return n}return function(o,a){throw new Error("Invalid value of type "+typeof t+" for "+i+" argument when connecting component "+a.wrappedComponentName+".")}}function X6(t,e){return t===e}function Z6(t){var e=t===void 0?{}:t,i=e.connectHOC,r=i===void 0?zh:i,n=e.mapStateToPropsFactories,o=n===void 0?vC:n,a=e.mapDispatchToPropsFactories,l=a===void 0?mC:a,c=e.mergePropsFactories,d=c===void 0?bC:c,m=e.selectorFactory,f=m===void 0?Fy:m;return function(b,_,E,C){C===void 0&&(C={});var I=C,N=I.pure,D=N===void 0?!0:N,F=I.areStatesEqual,z=F===void 0?X6:F,G=I.areOwnPropsEqual,Y=G===void 0?Ul:G,L=I.areStatePropsEqual,Z=L===void 0?Ul:L,$=I.areMergedPropsEqual,j=$===void 0?Ul:$,ie=Rr(I,Y6),H=zy(b,o,"mapStateToProps"),ae=zy(_,l,"mapDispatchToProps"),ee=zy(E,d,"mergeProps");return r(f,Ut({methodName:"connect",getDisplayName:function(le){return"Connect("+le+")"},shouldHandleStateChanges:!!b,initMapStateToProps:H,initMapDispatchToProps:ae,initMergeProps:ee,pure:D,areStatesEqual:z,areOwnPropsEqual:Y,areStatePropsEqual:Z,areMergedPropsEqual:j},ie))}}var Y6,De,_C=M(()=>{Da();ql();Ry();ky();gC();yC();wC();SC();Y6=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];De=Z6()});function Hy(){var t=Mi(Sn);return t}var qy=M(()=>{qe();Fs()});function Uy(t){t===void 0&&(t=Sn);var e=t===Sn?Hy:function(){return Mi(t)};return function(){var r=e(),n=r.store;return n}}var qh,By=M(()=>{qe();Fs();qy();qh=Uy()});var EC=M(()=>{Fs();By()});var CC=M(()=>{qe();qy();_h();Eh();Fs()});var PC=M(()=>{$E();Ry();Fs();_C();EC();CC();By();ky()});var IC=M(()=>{qe()});var pt=M(()=>{PC();IC();xy();BE($c)});var Uh=V(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.frontloadConnect=Fa.Frontload=void 0;var Wy=function(){function t(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();Fa.frontloadServerRender=l4;var J6=(qe(),Dc(NE)),nd=TC(J6),Q6=wy(),AC=TC(Q6);function TC(t){return t&&t.__esModule?t:{default:t}}function MC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var e4=function(){return typeof window>"u"||!window.document||!window.document.createElement},t4=e4(),Bl=[],La={MOUNT:0,UPDATE:1},i4=!1,NC=function(e,i){for(var r=[],n=0;n<e.length;n++)r.push(i(e[n],n));return r};function r4(t,e){var i=e.withLogging,r=e.continueRenderingOnError,n=void 0;return Promise.all(NC(t,function(o){return o.catch(function(a){return n||(n=a),i&&i4("frontloadServerRender info","ERROR:",a),a})})).then(function(){if(r!==!0&&n)throw n})}var n4=Fa.Frontload=function(t){kC(e,t),Wy(e,[{key:"getChildContext",value:function(){var r=this;return{frontload:{isServer:this.isServer,firstClientRenderDone:this.isServer?!0:this.firstClientRenderDone,pushFrontload:function(o,a,l,c,d){var m=l===La.MOUNT,f=l===La.UPDATE,v=r.props.noServerRender||a.noServerRender;r.isServer&&v||m&&a.onMount===!1||f&&!a.onUpdate||(r.isServer?Bl.unshift({fn:function(){return o(c,{isMount:m,isUpdate:f})},options:a,componentDisplayName:c.displayName}):(v||r.firstClientRenderDone)&&o(c,{isMount:m,isUpdate:f}))}}}}}]);function e(i,r){MC(this,e);var n=RC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.isServer=i.isServer===void 0?t4:i.isServer,n.componentDidMount=function(){n.firstClientRenderDone=!0},n}return Wy(e,[{key:"render",value:function(){return nd.default.Children.only(this.props.children)}}]),e}(nd.default.Component);n4.childContextTypes={frontload:AC.default.object};var OC=function(t){kC(e,t);function e(i,r){MC(this,e);var n=RC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.pushFrontload=function(o){return function(a){if(o===La.UPDATE){var l=n.props.options._experimental_updateFunc;if(l&&!l(a.componentProps,n.props.componentProps))return}var c="for component: ["+(n.props.component.displayName||"anonymous")+"] on ["+(o===La.MOUNT?"mount":"update")+"]";n.context.frontload.pushFrontload(n.props.frontload,n.props.options,o,n.props.componentProps,c)}},r.frontload.isServer?n.componentWillMount=n.pushFrontload(La.MOUNT):(n.componentDidMount=n.pushFrontload(La.MOUNT),n.componentDidUpdate=n.pushFrontload(La.UPDATE)),n}return Wy(e,[{key:"render",value:function(){return nd.default.createElement(this.props.component,this.props.componentProps)}}]),e}(nd.default.Component);OC.contextTypes={frontload:AC.default.object};var lde=Fa.frontloadConnect=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){return function(n){return nd.default.createElement(OC,{frontload:e,component:r,componentProps:n,options:i})}}};function o4(t){t(!0);var e=Bl;return Bl=[],e}function s4(t,e){return r4(NC(t,function(i){return i.fn()}),e)}function a4(t){var e=t(!1);return Bl=[],e}function DC(t,e){var i=e.withLogging,r=e.maxNestedFrontloadComponents,n=e.continueRenderingOnError,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=o4(t),c=l.length+0,d=c-a;if(!d){var m=a4(t);return Promise.resolve(m)}var f=i&&Date.now();return s4(l,{withLogging:i,continueRenderingOnError:n}).then(function(){if(o===r){var v=t(!1),b=Bl.length+0,_=b-c;return Bl=[],v}return DC(t,{withLogging:i,maxNestedFrontloadComponents:r,continueRenderingOnError:n},o+1,c)})}function l4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.maxNestedFrontloadComponents||(e.maxNestedFrontloadComponents=1),DC(t,e)}});function od(t,e){return od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},od(t,e)}var LC=M(()=>{});function Ur(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,od(t,e)}var Bh=M(()=>{LC()});function Wh(t){return t.charAt(0)==="/"}function Vy(t,e){for(var i=e,r=i+1,n=t.length;r<n;i+=1,r+=1)t[i]=t[r];t.pop()}function u4(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],r=e&&e.split("/")||[],n=t&&Wh(t),o=e&&Wh(e),a=n||o;if(t&&Wh(t)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";var l;if(r.length){var c=r[r.length-1];l=c==="."||c===".."||c===""}else l=!1;for(var d=0,m=r.length;m>=0;m--){var f=r[m];f==="."?Vy(r,m):f===".."?(Vy(r,m),d++):d&&(Vy(r,m),d--)}if(!a)for(;d--;d)r.unshift("..");a&&r[0]!==""&&(!r[0]||!Wh(r[0]))&&r.unshift("");var v=r.join("/");return l&&v.substr(-1)!=="/"&&(v+="/"),v}var FC,zC=M(()=>{FC=u4});var HC=M(()=>{});function d4(t,e){if(!c4){if(t)return;var i="Warning: "+e;typeof console<"u"&&console.warn(i);try{throw Error(i)}catch{}}}var c4,$y,qC=M(()=>{c4=!0;$y=d4});function Bn(t,e){if(!t){if(p4)throw new Error(jy);var i=typeof e=="function"?e():e,r=i?"".concat(jy,": ").concat(i):jy;throw new Error(r)}}var p4,jy,Vh=M(()=>{p4=!0,jy="Invariant failed"});function ad(t){return t.charAt(0)==="/"?t:"/"+t}function UC(t){return t.charAt(0)==="/"?t.substr(1):t}function h4(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function GC(t,e){return h4(t,e)?t.substr(e.length):t}function KC(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function f4(t){var e=t||"/",i="",r="",n=e.indexOf("#");n!==-1&&(r=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");return o!==-1&&(i=e.substr(o),e=e.substr(0,o)),{pathname:e,search:i==="?"?"":i,hash:r==="#"?"":r}}function pr(t){var e=t.pathname,i=t.search,r=t.hash,n=e||"/";return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function kr(t,e,i,r){var n;typeof t=="string"?(n=f4(t),n.state=e):(n=Ut({},t),n.pathname===void 0&&(n.pathname=""),n.search?n.search.charAt(0)!=="?"&&(n.search="?"+n.search):n.search="",n.hash?n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash):n.hash="",e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return i&&(n.key=i),r?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=FC(n.pathname,r.pathname)):n.pathname=r.pathname:n.pathname||(n.pathname="/"),n}function Ky(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function i(a,l,c,d){if(t!=null){var m=typeof t=="function"?t(a,l):t;typeof m=="string"?typeof c=="function"?c(m,d):d(!0):d(m!==!1)}else d(!0)}var r=[];function n(a){var l=!0;function c(){l&&a.apply(void 0,arguments)}return r.push(c),function(){l=!1,r=r.filter(function(d){return d!==c})}}function o(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r.forEach(function(d){return d.apply(void 0,l)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:n,notifyListeners:o}}function XC(t,e){e(window.confirm(t))}function m4(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function g4(){return window.navigator.userAgent.indexOf("Trident")===-1}function v4(){return window.navigator.userAgent.indexOf("Firefox")===-1}function y4(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}function VC(){try{return window.history.state||{}}catch{return{}}}function $h(t){t===void 0&&(t={}),YC||Bn(!1);var e=window.history,i=m4(),r=!g4(),n=t,o=n.forceRefresh,a=o===void 0?!1:o,l=n.getUserConfirmation,c=l===void 0?XC:l,d=n.keyLength,m=d===void 0?6:d,f=t.basename?KC(ad(t.basename)):"";function v(U){var W=U||{},re=W.key,ce=W.state,fe=window.location,be=fe.pathname,Te=fe.search,_e=fe.hash,Le=be+Te+_e;return f&&(Le=GC(Le,f)),kr(Le,ce,re)}function b(){return Math.random().toString(36).substr(2,m)}var _=Ky();function E(U){Ut(K,U),K.length=e.length,_.notifyListeners(K.location,K.action)}function C(U){y4(U)||D(v(U.state))}function I(){D(v(VC()))}var N=!1;function D(U){if(N)N=!1,E();else{var W="POP";_.confirmTransitionTo(U,W,c,function(re){re?E({action:W,location:U}):F(U)})}}function F(U){var W=K.location,re=G.indexOf(W.key);re===-1&&(re=0);var ce=G.indexOf(U.key);ce===-1&&(ce=0);var fe=re-ce;fe&&(N=!0,$(fe))}var z=v(VC()),G=[z.key];function Y(U){return f+pr(U)}function L(U,W){var re="PUSH",ce=kr(U,W,b(),K.location);_.confirmTransitionTo(ce,re,c,function(fe){if(fe){var be=Y(ce),Te=ce.key,_e=ce.state;if(i)if(e.pushState({key:Te,state:_e},null,be),a)window.location.href=be;else{var Le=G.indexOf(K.location.key),ze=G.slice(0,Le+1);ze.push(ce.key),G=ze,E({action:re,location:ce})}else window.location.href=be}})}function Z(U,W){var re="REPLACE",ce=kr(U,W,b(),K.location);_.confirmTransitionTo(ce,re,c,function(fe){if(fe){var be=Y(ce),Te=ce.key,_e=ce.state;if(i)if(e.replaceState({key:Te,state:_e},null,be),a)window.location.replace(be);else{var Le=G.indexOf(K.location.key);Le!==-1&&(G[Le]=ce.key),E({action:re,location:ce})}else window.location.replace(be)}})}function $(U){e.go(U)}function j(){$(-1)}function ie(){$(1)}var H=0;function ae(U){H+=U,H===1&&U===1?(window.addEventListener(BC,C),r&&window.addEventListener(WC,I)):H===0&&(window.removeEventListener(BC,C),r&&window.removeEventListener(WC,I))}var ee=!1;function J(U){U===void 0&&(U=!1);var W=_.setPrompt(U);return ee||(ae(1),ee=!0),function(){return ee&&(ee=!1,ae(-1)),W()}}function le(U){var W=_.appendListener(U);return ae(1),function(){ae(-1),W()}}var K={length:e.length,action:"POP",location:z,createHref:Y,push:L,replace:Z,go:$,goBack:j,goForward:ie,block:J,listen:le};return K}function ZC(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function sd(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function w4(t){window.location.hash=t}function Gy(t){window.location.replace(ZC(window.location.href)+"#"+t)}function JC(t){t===void 0&&(t={}),YC||Bn(!1);var e=window.history,i=v4(),r=t,n=r.getUserConfirmation,o=n===void 0?XC:n,a=r.hashType,l=a===void 0?"slash":a,c=t.basename?KC(ad(t.basename)):"",d=b4[l],m=d.encodePath,f=d.decodePath;function v(){var re=f(sd());return c&&(re=GC(re,c)),kr(re)}var b=Ky();function _(re){Ut(W,re),W.length=e.length,b.notifyListeners(W.location,W.action)}var E=!1,C=null;function I(re,ce){return re.pathname===ce.pathname&&re.search===ce.search&&re.hash===ce.hash}function N(){var re=sd(),ce=m(re);if(re!==ce)Gy(ce);else{var fe=v(),be=W.location;if(!E&&I(be,fe)||C===pr(fe))return;C=null,D(fe)}}function D(re){if(E)E=!1,_();else{var ce="POP";b.confirmTransitionTo(re,ce,o,function(fe){fe?_({action:ce,location:re}):F(re)})}}function F(re){var ce=W.location,fe=L.lastIndexOf(pr(ce));fe===-1&&(fe=0);var be=L.lastIndexOf(pr(re));be===-1&&(be=0);var Te=fe-be;Te&&(E=!0,ie(Te))}var z=sd(),G=m(z);z!==G&&Gy(G);var Y=v(),L=[pr(Y)];function Z(re){var ce=document.querySelector("base"),fe="";return ce&&ce.getAttribute("href")&&(fe=ZC(window.location.href)),fe+"#"+m(c+pr(re))}function $(re,ce){var fe="PUSH",be=kr(re,void 0,void 0,W.location);b.confirmTransitionTo(be,fe,o,function(Te){if(Te){var _e=pr(be),Le=m(c+_e),ze=sd()!==Le;if(ze){C=_e,w4(Le);var rt=L.lastIndexOf(pr(W.location)),Ue=L.slice(0,rt+1);Ue.push(_e),L=Ue,_({action:fe,location:be})}else _()}})}function j(re,ce){var fe="REPLACE",be=kr(re,void 0,void 0,W.location);b.confirmTransitionTo(be,fe,o,function(Te){if(Te){var _e=pr(be),Le=m(c+_e),ze=sd()!==Le;ze&&(C=_e,Gy(Le));var rt=L.indexOf(pr(W.location));rt!==-1&&(L[rt]=_e),_({action:fe,location:be})}})}function ie(re){e.go(re)}function H(){ie(-1)}function ae(){ie(1)}var ee=0;function J(re){ee+=re,ee===1&&re===1?window.addEventListener($C,N):ee===0&&window.removeEventListener($C,N)}var le=!1;function K(re){re===void 0&&(re=!1);var ce=b.setPrompt(re);return le||(J(1),le=!0),function(){return le&&(le=!1,J(-1)),ce()}}function U(re){var ce=b.appendListener(re);return J(1),function(){J(-1),ce()}}var W={length:e.length,action:"POP",location:Y,createHref:Z,push:$,replace:j,go:ie,goBack:H,goForward:ae,block:K,listen:U};return W}function jC(t,e,i){return Math.min(Math.max(t,e),i)}function QC(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,r=e.initialEntries,n=r===void 0?["/"]:r,o=e.initialIndex,a=o===void 0?0:o,l=e.keyLength,c=l===void 0?6:l,d=Ky();function m(L){Ut(Y,L),Y.length=Y.entries.length,d.notifyListeners(Y.location,Y.action)}function f(){return Math.random().toString(36).substr(2,c)}var v=jC(a,0,n.length-1),b=n.map(function(L){return typeof L=="string"?kr(L,void 0,f()):kr(L,void 0,L.key||f())}),_=pr;function E(L,Z){var $="PUSH",j=kr(L,Z,f(),Y.location);d.confirmTransitionTo(j,$,i,function(ie){if(ie){var H=Y.index,ae=H+1,ee=Y.entries.slice(0);ee.length>ae?ee.splice(ae,ee.length-ae,j):ee.push(j),m({action:$,location:j,index:ae,entries:ee})}})}function C(L,Z){var $="REPLACE",j=kr(L,Z,f(),Y.location);d.confirmTransitionTo(j,$,i,function(ie){ie&&(Y.entries[Y.index]=j,m({action:$,location:j}))})}function I(L){var Z=jC(Y.index+L,0,Y.entries.length-1),$="POP",j=Y.entries[Z];d.confirmTransitionTo(j,$,i,function(ie){ie?m({action:$,location:j,index:Z}):m()})}function N(){I(-1)}function D(){I(1)}function F(L){var Z=Y.index+L;return Z>=0&&Z<Y.entries.length}function z(L){return L===void 0&&(L=!1),d.setPrompt(L)}function G(L){return d.appendListener(L)}var Y={length:b.length,action:"POP",location:b[v],index:v,entries:b,createHref:_,push:E,replace:C,go:I,goBack:N,goForward:D,canGo:F,block:z,listen:G};return Y}var YC,BC,WC,$C,b4,jh=M(()=>{Da();zC();HC();Vh();YC=!!(typeof window<"u"&&window.document&&window.document.createElement);BC="popstate",WC="hashchange";$C="hashchange",b4={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+UC(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:UC,decodePath:ad},slash:{encodePath:ad,decodePath:ad}}});function x4(){var t="__global_unique_id__";return eP[t]=(eP[t]||0)+1}function S4(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function _4(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(n){return n!==r})},get:function(){return t},set:function(r,n){t=r,e.forEach(function(o){return o(t,n)})}}}function E4(t){return Array.isArray(t)?t[0]:t}function C4(t,e){var i,r,n="__create-react-context-"+x4()+"__",o=function(l){Ur(c,l);function c(){var m;return m=l.apply(this,arguments)||this,m.emitter=_4(m.props.value),m}var d=c.prototype;return d.getChildContext=function(){var f;return f={},f[n]=this.emitter,f},d.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var v=this.props.value,b=f.value,_;S4(v,b)?_=0:(_=typeof e=="function"?e(v,b):Yy,_|=0,_!==0&&this.emitter.set(f.value,_))}},d.render=function(){return this.props.children},c}(se);o.childContextTypes=(i={},i[n]=Xy.default.object.isRequired,i);var a=function(l){Ur(c,l);function c(){var m;return m=l.apply(this,arguments)||this,m.state={value:m.getValue()},m.onUpdate=function(f,v){var b=m.observedBits|0;b&v&&m.setState({value:m.getValue()})},m}var d=c.prototype;return d.componentWillReceiveProps=function(f){var v=f.observedBits;this.observedBits=v??Yy},d.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f??Yy},d.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},d.getValue=function(){return this.context[n]?this.context[n].get():t},d.render=function(){return E4(this.props.children)(this.state.value)},c}(se);return a.contextTypes=(r={},r[n]=Xy.default.object,r),{Provider:o,Consumer:a}}var Xy,Yy,eP,P4,tP,iP=M(()=>{qe();Bh();Xy=pe(wy()),Yy=1073741823,eP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};P4=Re.createContext||C4,tP=P4});var nP=V((Pde,rP)=>{rP.exports=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}});var lP=V((Ide,Wl)=>{var Kh=nP();Wl.exports=aP;Wl.exports.parse=Zy;Wl.exports.compile=A4;Wl.exports.tokensToFunction=oP;Wl.exports.tokensToRegExp=sP;var I4=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Zy(t,e){for(var i=[],r=0,n=0,o="",a=e&&e.delimiter||"/",l;(l=I4.exec(t))!=null;){var c=l[0],d=l[1],m=l.index;if(o+=t.slice(n,m),n=m+c.length,d){o+=d[1];continue}var f=t[n],v=l[2],b=l[3],_=l[4],E=l[5],C=l[6],I=l[7];o&&(i.push(o),o="");var N=v!=null&&f!=null&&f!==v,D=C==="+"||C==="*",F=C==="?"||C==="*",z=l[2]||a,G=_||E;i.push({name:b||r++,prefix:v||"",delimiter:z,optional:F,repeat:D,partial:N,asterisk:!!I,pattern:G?R4(G):I?".*":"[^"+Gh(z)+"]+?"})}return n<t.length&&(o+=t.substr(n)),o&&i.push(o),i}function A4(t,e){return oP(Zy(t,e),e)}function T4(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function M4(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function oP(t,e){for(var i=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(i[r]=new RegExp("^(?:"+t[r].pattern+")$",Qy(e)));return function(n,o){for(var a="",l=n||{},c=o||{},d=c.pretty?T4:encodeURIComponent,m=0;m<t.length;m++){var f=t[m];if(typeof f=="string"){a+=f;continue}var v=l[f.name],b;if(v==null)if(f.optional){f.partial&&(a+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(Kh(v)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var _=0;_<v.length;_++){if(b=d(v[_]),!i[m].test(b))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(b)+"`");a+=(_===0?f.prefix:f.delimiter)+b}continue}if(b=f.asterisk?M4(v):d(v),!i[m].test(b))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+b+'"');a+=f.prefix+b}return a}}function Gh(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R4(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Jy(t,e){return t.keys=e,t}function Qy(t){return t&&t.sensitive?"":"i"}function k4(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Jy(t,e)}function N4(t,e,i){for(var r=[],n=0;n<t.length;n++)r.push(aP(t[n],e,i).source);var o=new RegExp("(?:"+r.join("|")+")",Qy(i));return Jy(o,e)}function O4(t,e,i){return sP(Zy(t,i),e,i)}function sP(t,e,i){Kh(e)||(i=e||i,e=[]),i=i||{};for(var r=i.strict,n=i.end!==!1,o="",a=0;a<t.length;a++){var l=t[a];if(typeof l=="string")o+=Gh(l);else{var c=Gh(l.prefix),d="(?:"+l.pattern+")";e.push(l),l.repeat&&(d+="(?:"+c+d+")*"),l.optional?l.partial?d=c+"("+d+")?":d="(?:"+c+"("+d+"))?":d=c+"("+d+")",o+=d}}var m=Gh(i.delimiter||"/"),f=o.slice(-m.length)===m;return r||(o=(f?o.slice(0,-m.length):o)+"(?:"+m+"(?=$))?"),n?o+="$":o+=r&&f?"":"(?="+m+"|$)",Jy(new RegExp("^"+o,Qy(i)),e)}function aP(t,e,i){return Kh(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?k4(t,e):Kh(t)?N4(t,e,i):O4(t,e,i)}});function z4(t,e){var i=""+e.end+e.strict+e.sensitive,r=uP[i]||(uP[i]={});if(r[t])return r[t];var n=[],o=(0,hP.default)(t,n,e),a={regexp:o,keys:n};return cP<F4&&(r[t]=a,cP++),a}function za(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,r=i.path,n=i.exact,o=n===void 0?!1:n,a=i.strict,l=a===void 0?!1:a,c=i.sensitive,d=c===void 0?!1:c,m=[].concat(r);return m.reduce(function(f,v){if(!v&&v!=="")return null;if(f)return f;var b=z4(v,{end:o,strict:l,sensitive:d}),_=b.regexp,E=b.keys,C=_.exec(t);if(!C)return null;var I=C[0],N=C.slice(1),D=t===I;return o&&!D?null:{path:v,url:v==="/"&&I===""?"/":I,isExact:D,params:E.reduce(function(F,z,G){return F[z.name]=N[G],F},{})}},null)}function H4(t){return Re.Children.count(t)===0}function tb(t){return t.charAt(0)==="/"?t:"/"+t}function q4(t,e){return t?Ut({},e,{pathname:tb(t)+e.pathname}):e}function U4(t,e){if(!t)return e;var i=tb(t);return e.pathname.indexOf(i)!==0?e:Ut({},e,{pathname:e.pathname.substr(i.length)})}function dP(t){return typeof t=="string"?t:pr(t)}function eb(t){return function(){Bn(!1)}}function pP(){}function Wn(t){var e="withRouter("+(t.displayName||t.name)+")",i=function(n){var o=n.wrappedComponentRef,a=Rr(n,["wrappedComponentRef"]);return Re.createElement(zs.Consumer,null,function(l){return l||Bn(!1),Re.createElement(t,Ut({},a,l,{ref:o}))})};return i.displayName=e,i.WrappedComponent=t,(0,fP.default)(i,t)}var hP,Dde,fP,mP,D4,zs,Hs,L4,zde,uP,F4,cP,_n,B4,Yh,Hde,is=M(()=>{Bh();qe();jh();iP();Vh();Da();hP=pe(lP()),Dde=pe(Py());ql();fP=pe(Dh()),mP=function(e){var i=tP();return i.displayName=e,i},D4=mP("Router-History"),zs=mP("Router"),Hs=function(t){Ur(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(r){var n;return n=t.call(this,r)||this,n.state={location:r.history.location},n._isMounted=!1,n._pendingLocation=null,r.staticContext||(n.unlisten=r.history.listen(function(o){n._pendingLocation=o})),n}var i=e.prototype;return i.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){n._isMounted&&n.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return Re.createElement(zs.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Re.createElement(D4.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Re.Component),L4=function(t){Ur(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.history=QC(r.props),r}var i=e.prototype;return i.render=function(){return Re.createElement(Hs,{history:this.history,children:this.props.children})},e}(Re.Component),zde=function(t){Ur(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},i.componentDidUpdate=function(n){this.props.onUpdate&&this.props.onUpdate.call(this,this,n)},i.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},i.render=function(){return null},e}(Re.Component),uP={},F4=1e4,cP=0;_n=function(t){Ur(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Re.createElement(zs.Consumer,null,function(o){o||Bn(!1);var a=n.props.location||o.location,l=n.props.computedMatch?n.props.computedMatch:n.props.path?za(a.pathname,n.props):o.match,c=Ut({},o,{location:a,match:l}),d=n.props,m=d.children,f=d.component,v=d.render;return Array.isArray(m)&&H4(m)&&(m=null),Re.createElement(zs.Provider,{value:c},c.match?m?typeof m=="function"?m(c):m:f?Re.createElement(f,c):v?v(c):null:typeof m=="function"?m(c):null)})},e}(Re.Component);B4=function(t){Ur(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.handlePush=function(l){return r.navigateTo(l,"PUSH")},r.handleReplace=function(l){return r.navigateTo(l,"REPLACE")},r.handleListen=function(){return pP},r.handleBlock=function(){return pP},r}var i=e.prototype;return i.navigateTo=function(n,o){var a=this.props,l=a.basename,c=l===void 0?"":l,d=a.context,m=d===void 0?{}:d;m.action=o,m.location=q4(c,kr(n)),m.url=dP(m.location)},i.render=function(){var n=this.props,o=n.basename,a=o===void 0?"":o,l=n.context,c=l===void 0?{}:l,d=n.location,m=d===void 0?"/":d,f=Rr(n,["basename","context","location"]),v={createHref:function(_){return tb(a+dP(_))},action:"POP",location:U4(a,kr(m)),push:this.handlePush,replace:this.handleReplace,go:eb("go"),goBack:eb("goBack"),goForward:eb("goForward"),listen:this.handleListen,block:this.handleBlock};return Re.createElement(Hs,Ut({},f,{history:v,staticContext:c}))},e}(Re.Component),Yh=function(t){Ur(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Re.createElement(zs.Consumer,null,function(o){o||Bn(!1);var a=n.props.location||o.location,l,c;return Re.Children.forEach(n.props.children,function(d){if(c==null&&Re.isValidElement(d)){l=d;var m=d.props.path||d.props.from;c=m?za(a.pathname,Ut({},d.props,{path:m})):o.match}}),c?Re.cloneElement(l,{location:a,computedMatch:c}):null})},e}(Re.Component);Hde=Re.useContext});var we=V((Vl,ld)=>{(function(){var t,e="4.17.21",i=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",o="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",d=1,m=2,f=4,v=1,b=2,_=1,E=2,C=4,I=8,N=16,D=32,F=64,z=128,G=256,Y=512,L=30,Z="...",$=800,j=16,ie=1,H=2,ae=3,ee=1/0,J=9007199254740991,le=17976931348623157e292,K=NaN,U=4294967295,W=U-1,re=U>>>1,ce=[["ary",z],["bind",_],["bindKey",E],["curry",I],["curryRight",N],["flip",Y],["partial",D],["partialRight",F],["rearg",G]],fe="[object Arguments]",be="[object Array]",Te="[object AsyncFunction]",_e="[object Boolean]",Le="[object Date]",ze="[object DOMException]",rt="[object Error]",Ue="[object Function]",ot="[object GeneratorFunction]",Ie="[object Map]",at="[object Number]",lt="[object Null]",ht="[object Object]",Be="[object Promise]",ft="[object Proxy]",Lt="[object RegExp]",_t="[object Set]",Wt="[object String]",nt="[object Symbol]",Ki="[object Undefined]",ri="[object WeakMap]",No="[object WeakSet]",Kr="[object ArrayBuffer]",Mn="[object DataView]",ys="[object Float32Array]",Oo="[object Float64Array]",Ei="[object Int8Array]",gt="[object Int16Array]",Nr="[object Int32Array]",yr="[object Uint8Array]",pl="[object Uint8ClampedArray]",fi="[object Uint16Array]",oo="[object Uint32Array]",bs=/\b__p \+= '';/g,hl=/\b(__p \+=) '' \+/g,Qu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yi=/&(?:amp|lt|gt|quot|#39);/g,ec=/[&<>"']/g,tc=RegExp(Yi.source),ic=RegExp(ec.source),Xg=/<%-([\s\S]+?)%>/g,Zg=/<%([\s\S]+?)%>/g,fl=/<%=([\s\S]+?)%>/g,Sp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_p=/^\w*$/,Ep=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rc=/[\\^$.*+?()[\]{}|]/g,Jg=RegExp(rc.source),nc=/^\s+/,Cp=/\s/,br=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Do=/\{\n\/\* \[wrapped with (.+)\] \*/,la=/,? & /,oc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ua=/[()=,{}\[\]\/\s]/,ws=/\\(\\)?/g,Qg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sc=/\w*$/,ac=/^[-+]0x[0-9a-f]+$/i,Pp=/^0b[01]+$/i,ml=/^\[object .+?Constructor\]$/,nr=/^0o[0-7]+$/i,Lo=/^(?:0|[1-9]\d*)$/,or=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yi=/($^)/,Fo=/['\n\r\u2028\u2029\\]/g,Yr="\\ud800-\\udfff",zo="\\u0300-\\u036f",ca="\\ufe20-\\ufe2f",Ho="\\u20d0-\\u20ff",qo=zo+ca+Ho,gl="\\u2700-\\u27bf",xs="a-z\\xdf-\\xf6\\xf8-\\xff",da="\\xac\\xb1\\xd7\\xf7",vl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yl="\\u2000-\\u206f",lc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wr="A-Z\\xc0-\\xd6\\xd8-\\xde",bl="\\ufe0e\\ufe0f",so=da+vl+yl+lc,Rn="['\u2019]",wl="["+Yr+"]",kn="["+so+"]",Oi="["+qo+"]",dn="\\d+",Ip="["+gl+"]",uc="["+xs+"]",ut="[^"+Yr+so+dn+gl+xs+wr+"]",Xr="\\ud83c[\\udffb-\\udfff]",xr="(?:"+Oi+"|"+Xr+")",Xi="[^"+Yr+"]",Uo="(?:\\ud83c[\\udde6-\\uddff]){2}",ao="[\\ud800-\\udbff][\\udc00-\\udfff]",Zi="["+wr+"]",xl="\\u200d",pa="(?:"+uc+"|"+ut+")",ha="(?:"+Zi+"|"+ut+")",fa="(?:"+Rn+"(?:d|ll|m|re|s|t|ve))?",Ap="(?:"+Rn+"(?:D|LL|M|RE|S|T|VE))?",Tp=xr+"?",cc="["+bl+"]?",dc="(?:"+xl+"(?:"+[Xi,Uo,ao].join("|")+")"+cc+Tp+")*",Mp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ev="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pc=cc+Tp+dc,hc="(?:"+[Ip,Uo,ao].join("|")+")"+pc,Rp="(?:"+[Xi+Oi+"?",Oi,Uo,ao,wl].join("|")+")",kp=RegExp(Rn,"g"),Np=RegExp(Oi,"g"),fc=RegExp(Xr+"(?="+Xr+")|"+Rp+pc,"g"),Op=RegExp([Zi+"?"+uc+"+"+fa+"(?="+[kn,Zi,"$"].join("|")+")",ha+"+"+Ap+"(?="+[kn,Zi+pa,"$"].join("|")+")",Zi+"?"+pa+"+"+fa,Zi+"+"+Ap,ev,Mp,dn,hc].join("|"),"g"),Ss=RegExp("["+xl+Yr+qo+bl+"]"),tv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,lo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sl=-1,Ft={};Ft[ys]=Ft[Oo]=Ft[Ei]=Ft[gt]=Ft[Nr]=Ft[yr]=Ft[pl]=Ft[fi]=Ft[oo]=!0,Ft[fe]=Ft[be]=Ft[Kr]=Ft[_e]=Ft[Mn]=Ft[Le]=Ft[rt]=Ft[Ue]=Ft[Ie]=Ft[at]=Ft[ht]=Ft[Lt]=Ft[_t]=Ft[Wt]=Ft[ri]=!1;var zt={};zt[fe]=zt[be]=zt[Kr]=zt[Mn]=zt[_e]=zt[Le]=zt[ys]=zt[Oo]=zt[Ei]=zt[gt]=zt[Nr]=zt[Ie]=zt[at]=zt[ht]=zt[Lt]=zt[_t]=zt[Wt]=zt[nt]=zt[yr]=zt[pl]=zt[fi]=zt[oo]=!0,zt[rt]=zt[Ue]=zt[ri]=!1;var Dp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},iv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ov=parseFloat,sv=parseInt,Lp=typeof global=="object"&&global&&global.Object===Object&&global,av=typeof self=="object"&&self&&self.Object===Object&&self,Ci=Lp||av||Function("return this")(),mc=typeof Vl=="object"&&Vl&&!Vl.nodeType&&Vl,Sr=mc&&typeof ld=="object"&&ld&&!ld.nodeType&&ld,gc=Sr&&Sr.exports===mc,uo=gc&&Lp.process,Ht=function(){try{var X=Sr&&Sr.require&&Sr.require("util").types;return X||uo&&uo.binding&&uo.binding("util")}catch{}}(),co=Ht&&Ht.isArrayBuffer,_l=Ht&&Ht.isDate,Bo=Ht&&Ht.isMap,Fp=Ht&&Ht.isRegExp,pn=Ht&&Ht.isSet,sr=Ht&&Ht.isTypedArray;function _r(X,he,ue){switch(ue.length){case 0:return X.call(he);case 1:return X.call(he,ue[0]);case 2:return X.call(he,ue[0],ue[1]);case 3:return X.call(he,ue[0],ue[1],ue[2])}return X.apply(he,ue)}function lv(X,he,ue,Ce){for(var et=-1,wt=X==null?0:X.length;++et<wt;){var oi=X[et];he(Ce,oi,ue(oi),X)}return Ce}function Or(X,he){for(var ue=-1,Ce=X==null?0:X.length;++ue<Ce&&he(X[ue],ue,X)!==!1;);return X}function _s(X,he){for(var ue=X==null?0:X.length;ue--&&he(X[ue],ue,X)!==!1;);return X}function ma(X,he){for(var ue=-1,Ce=X==null?0:X.length;++ue<Ce;)if(!he(X[ue],ue,X))return!1;return!0}function Nn(X,he){for(var ue=-1,Ce=X==null?0:X.length,et=0,wt=[];++ue<Ce;){var oi=X[ue];he(oi,ue,X)&&(wt[et++]=oi)}return wt}function ga(X,he){var ue=X==null?0:X.length;return!!ue&&Zr(X,he,0)>-1}function hn(X,he,ue){for(var Ce=-1,et=X==null?0:X.length;++Ce<et;)if(ue(he,X[Ce]))return!0;return!1}function Gt(X,he){for(var ue=-1,Ce=X==null?0:X.length,et=Array(Ce);++ue<Ce;)et[ue]=he(X[ue],ue,X);return et}function On(X,he){for(var ue=-1,Ce=he.length,et=X.length;++ue<Ce;)X[et+ue]=he[ue];return X}function fn(X,he,ue,Ce){var et=-1,wt=X==null?0:X.length;for(Ce&&wt&&(ue=X[++et]);++et<wt;)ue=he(ue,X[et],et,X);return ue}function vc(X,he,ue,Ce){var et=X==null?0:X.length;for(Ce&&et&&(ue=X[--et]);et--;)ue=he(ue,X[et],et,X);return ue}function va(X,he){for(var ue=-1,Ce=X==null?0:X.length;++ue<Ce;)if(he(X[ue],ue,X))return!0;return!1}var El=ba("length");function ya(X){return X.split("")}function yc(X){return X.match(oc)||[]}function Ji(X,he,ue){var Ce;return ue(X,function(et,wt,oi){if(he(et,wt,oi))return Ce=wt,!1}),Ce}function Es(X,he,ue,Ce){for(var et=X.length,wt=ue+(Ce?1:-1);Ce?wt--:++wt<et;)if(he(X[wt],wt,X))return wt;return-1}function Zr(X,he,ue){return he===he?li(X,he,ue):Es(X,Wo,ue)}function Jr(X,he,ue,Ce){for(var et=ue-1,wt=X.length;++et<wt;)if(Ce(X[et],he))return et;return-1}function Wo(X){return X!==X}function mn(X,he){var ue=X==null?0:X.length;return ue?Dn(X,he)/ue:K}function ba(X){return function(he){return he==null?t:he[X]}}function Vo(X){return function(he){return X==null?t:X[he]}}function Cl(X,he,ue,Ce,et){return et(X,function(wt,oi,Pt){ue=Ce?(Ce=!1,wt):he(ue,wt,oi,Pt)}),ue}function bc(X,he){var ue=X.length;for(X.sort(he);ue--;)X[ue]=X[ue].value;return X}function Dn(X,he){for(var ue,Ce=-1,et=X.length;++Ce<et;){var wt=he(X[Ce]);wt!==t&&(ue=ue===t?wt:ue+wt)}return ue}function wa(X,he){for(var ue=-1,Ce=Array(X);++ue<X;)Ce[ue]=he(ue);return Ce}function zp(X,he){return Gt(he,function(ue){return[ue,X[ue]]})}function xa(X){return X&&X.slice(0,Cs(X)+1).replace(nc,"")}function Er(X){return function(he){return X(he)}}function Dr(X,he){return Gt(he,function(ue){return X[ue]})}function bi(X,he){return X.has(he)}function S(X,he){for(var ue=-1,Ce=X.length;++ue<Ce&&Zr(he,X[ue],0)>-1;);return ue}function T(X,he){for(var ue=X.length;ue--&&Zr(he,X[ue],0)>-1;);return ue}function O(X,he){for(var ue=X.length,Ce=0;ue--;)X[ue]===he&&++Ce;return Ce}var k=Vo(Dp),de=Vo(iv);function Se(X){return"\\"+nv[X]}function Me(X,he){return X==null?t:X[he]}function Ve(X){return Ss.test(X)}function Xe(X){return tv.test(X)}function ct(X){for(var he,ue=[];!(he=X.next()).done;)ue.push(he.value);return ue}function je(X){var he=-1,ue=Array(X.size);return X.forEach(function(Ce,et){ue[++he]=[et,Ce]}),ue}function Kt(X,he){return function(ue){return X(he(ue))}}function kt(X,he){for(var ue=-1,Ce=X.length,et=0,wt=[];++ue<Ce;){var oi=X[ue];(oi===he||oi===c)&&(X[ue]=c,wt[et++]=ue)}return wt}function Pi(X){var he=-1,ue=Array(X.size);return X.forEach(function(Ce){ue[++he]=Ce}),ue}function Cr(X){var he=-1,ue=Array(X.size);return X.forEach(function(Ce){ue[++he]=[Ce,Ce]}),ue}function li(X,he,ue){for(var Ce=ue-1,et=X.length;++Ce<et;)if(X[Ce]===he)return Ce;return-1}function ni(X,he,ue){for(var Ce=ue+1;Ce--;)if(X[Ce]===he)return Ce;return Ce}function mi(X){return Ve(X)?Il(X):El(X)}function Di(X){return Ve(X)?wc(X):ya(X)}function Cs(X){for(var he=X.length;he--&&Cp.test(X.charAt(he)););return he}var Pl=Vo(rv);function Il(X){for(var he=fc.lastIndex=0;fc.test(X);)++he;return he}function wc(X){return X.match(fc)||[]}function Sa(X){return X.match(Op)||[]}var Qr=function X(he){he=he==null?Ci:ar.defaults(Ci.Object(),he,ar.pick(Ci,lo));var ue=he.Array,Ce=he.Date,et=he.Error,wt=he.Function,oi=he.Math,Pt=he.Object,$o=he.RegExp,Qi=he.String,er=he.TypeError,Ln=ue.prototype,Ps=wt.prototype,Lr=Pt.prototype,_a=he["__core-js_shared__"],Al=Ps.toString,qt=Lr.hasOwnProperty,_q=0,VS=function(){var s=/[^.]+$/.exec(_a&&_a.keys&&_a.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Hp=Lr.toString,Eq=Al.call(Pt),Cq=Ci._,Pq=$o("^"+Al.call(qt).replace(rc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qp=gc?he.Buffer:t,Is=he.Symbol,Up=he.Uint8Array,$S=qp?qp.allocUnsafe:t,Bp=Kt(Pt.getPrototypeOf,Pt),jS=Pt.create,GS=Lr.propertyIsEnumerable,Wp=Ln.splice,KS=Is?Is.isConcatSpreadable:t,xc=Is?Is.iterator:t,Ea=Is?Is.toStringTag:t,Vp=function(){try{var s=Ta(Pt,"defineProperty");return s({},"",{}),s}catch{}}(),Iq=he.clearTimeout!==Ci.clearTimeout&&he.clearTimeout,Aq=Ce&&Ce.now!==Ci.Date.now&&Ce.now,Tq=he.setTimeout!==Ci.setTimeout&&he.setTimeout,$p=oi.ceil,jp=oi.floor,uv=Pt.getOwnPropertySymbols,Mq=qp?qp.isBuffer:t,YS=he.isFinite,Rq=Ln.join,kq=Kt(Pt.keys,Pt),Ti=oi.max,lr=oi.min,Nq=Ce.now,Oq=he.parseInt,XS=oi.random,Dq=Ln.reverse,cv=Ta(he,"DataView"),Sc=Ta(he,"Map"),dv=Ta(he,"Promise"),Tl=Ta(he,"Set"),_c=Ta(he,"WeakMap"),Ec=Ta(Pt,"create"),Gp=_c&&new _c,Ml={},Lq=Ma(cv),Fq=Ma(Sc),zq=Ma(dv),Hq=Ma(Tl),qq=Ma(_c),Kp=Is?Is.prototype:t,Cc=Kp?Kp.valueOf:t,ZS=Kp?Kp.toString:t;function A(s){if(gi(s)&&!dt(s)&&!(s instanceof St)){if(s instanceof gn)return s;if(qt.call(s,"__wrapped__"))return J_(s)}return new gn(s)}var Rl=function(){function s(){}return function(u){if(!ui(u))return{};if(jS)return jS(u);s.prototype=u;var p=new s;return s.prototype=t,p}}();function Yp(){}function gn(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}A.templateSettings={escape:Xg,evaluate:Zg,interpolate:fl,variable:"",imports:{_:A}},A.prototype=Yp.prototype,A.prototype.constructor=A,gn.prototype=Rl(Yp.prototype),gn.prototype.constructor=gn;function St(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Uq(){var s=new St(this.__wrapped__);return s.__actions__=Fr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Fr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Fr(this.__views__),s}function Bq(){if(this.__filtered__){var s=new St(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function Wq(){var s=this.__wrapped__.value(),u=this.__dir__,p=dt(s),x=u<0,P=p?s.length:0,R=t3(0,P,this.__views__),q=R.start,B=R.end,Q=B-q,ge=x?B:q-1,ve=this.__iteratees__,xe=ve.length,ke=0,We=lr(Q,this.__takeCount__);if(!p||!x&&P==Q&&We==Q)return x_(s,this.__actions__);var tt=[];e:for(;Q--&&ke<We;){ge+=u;for(var vt=-1,it=s[ge];++vt<xe;){var xt=ve[vt],Et=xt.iteratee,rn=xt.type,Ar=Et(it);if(rn==H)it=Ar;else if(!Ar){if(rn==ie)continue e;break e}}tt[ke++]=it}return tt}St.prototype=Rl(Yp.prototype),St.prototype.constructor=St;function Ca(s){var u=-1,p=s==null?0:s.length;for(this.clear();++u<p;){var x=s[u];this.set(x[0],x[1])}}function Vq(){this.__data__=Ec?Ec(null):{},this.size=0}function $q(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u}function jq(s){var u=this.__data__;if(Ec){var p=u[s];return p===a?t:p}return qt.call(u,s)?u[s]:t}function Gq(s){var u=this.__data__;return Ec?u[s]!==t:qt.call(u,s)}function Kq(s,u){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=Ec&&u===t?a:u,this}Ca.prototype.clear=Vq,Ca.prototype.delete=$q,Ca.prototype.get=jq,Ca.prototype.has=Gq,Ca.prototype.set=Kq;function jo(s){var u=-1,p=s==null?0:s.length;for(this.clear();++u<p;){var x=s[u];this.set(x[0],x[1])}}function Yq(){this.__data__=[],this.size=0}function Xq(s){var u=this.__data__,p=Xp(u,s);if(p<0)return!1;var x=u.length-1;return p==x?u.pop():Wp.call(u,p,1),--this.size,!0}function Zq(s){var u=this.__data__,p=Xp(u,s);return p<0?t:u[p][1]}function Jq(s){return Xp(this.__data__,s)>-1}function Qq(s,u){var p=this.__data__,x=Xp(p,s);return x<0?(++this.size,p.push([s,u])):p[x][1]=u,this}jo.prototype.clear=Yq,jo.prototype.delete=Xq,jo.prototype.get=Zq,jo.prototype.has=Jq,jo.prototype.set=Qq;function Go(s){var u=-1,p=s==null?0:s.length;for(this.clear();++u<p;){var x=s[u];this.set(x[0],x[1])}}function eU(){this.size=0,this.__data__={hash:new Ca,map:new(Sc||jo),string:new Ca}}function tU(s){var u=lh(this,s).delete(s);return this.size-=u?1:0,u}function iU(s){return lh(this,s).get(s)}function rU(s){return lh(this,s).has(s)}function nU(s,u){var p=lh(this,s),x=p.size;return p.set(s,u),this.size+=p.size==x?0:1,this}Go.prototype.clear=eU,Go.prototype.delete=tU,Go.prototype.get=iU,Go.prototype.has=rU,Go.prototype.set=nU;function Pa(s){var u=-1,p=s==null?0:s.length;for(this.__data__=new Go;++u<p;)this.add(s[u])}function oU(s){return this.__data__.set(s,a),this}function sU(s){return this.__data__.has(s)}Pa.prototype.add=Pa.prototype.push=oU,Pa.prototype.has=sU;function Fn(s){var u=this.__data__=new jo(s);this.size=u.size}function aU(){this.__data__=new jo,this.size=0}function lU(s){var u=this.__data__,p=u.delete(s);return this.size=u.size,p}function uU(s){return this.__data__.get(s)}function cU(s){return this.__data__.has(s)}function dU(s,u){var p=this.__data__;if(p instanceof jo){var x=p.__data__;if(!Sc||x.length<i-1)return x.push([s,u]),this.size=++p.size,this;p=this.__data__=new Go(x)}return p.set(s,u),this.size=p.size,this}Fn.prototype.clear=aU,Fn.prototype.delete=lU,Fn.prototype.get=uU,Fn.prototype.has=cU,Fn.prototype.set=dU;function JS(s,u){var p=dt(s),x=!p&&Ra(s),P=!p&&!x&&ks(s),R=!p&&!x&&!P&&Dl(s),q=p||x||P||R,B=q?wa(s.length,Qi):[],Q=B.length;for(var ge in s)(u||qt.call(s,ge))&&!(q&&(ge=="length"||P&&(ge=="offset"||ge=="parent")||R&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||Zo(ge,Q)))&&B.push(ge);return B}function QS(s){var u=s.length;return u?s[Sv(0,u-1)]:t}function pU(s,u){return uh(Fr(s),Ia(u,0,s.length))}function hU(s){return uh(Fr(s))}function pv(s,u,p){(p!==t&&!zn(s[u],p)||p===t&&!(u in s))&&Ko(s,u,p)}function Pc(s,u,p){var x=s[u];(!(qt.call(s,u)&&zn(x,p))||p===t&&!(u in s))&&Ko(s,u,p)}function Xp(s,u){for(var p=s.length;p--;)if(zn(s[p][0],u))return p;return-1}function fU(s,u,p,x){return As(s,function(P,R,q){u(x,P,p(P),q)}),x}function e_(s,u){return s&&ho(u,Li(u),s)}function mU(s,u){return s&&ho(u,Hr(u),s)}function Ko(s,u,p){u=="__proto__"&&Vp?Vp(s,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[u]=p}function hv(s,u){for(var p=-1,x=u.length,P=ue(x),R=s==null;++p<x;)P[p]=R?t:Gv(s,u[p]);return P}function Ia(s,u,p){return s===s&&(p!==t&&(s=s<=p?s:p),u!==t&&(s=s>=u?s:u)),s}function vn(s,u,p,x,P,R){var q,B=u&d,Q=u&m,ge=u&f;if(p&&(q=P?p(s,x,P,R):p(s)),q!==t)return q;if(!ui(s))return s;var ve=dt(s);if(ve){if(q=r3(s),!B)return Fr(s,q)}else{var xe=ur(s),ke=xe==Ue||xe==ot;if(ks(s))return E_(s,B);if(xe==ht||xe==fe||ke&&!P){if(q=Q||ke?{}:W_(s),!B)return Q?jU(s,mU(q,s)):$U(s,e_(q,s))}else{if(!zt[xe])return P?s:{};q=n3(s,xe,B)}}R||(R=new Fn);var We=R.get(s);if(We)return We;R.set(s,q),y1(s)?s.forEach(function(it){q.add(vn(it,u,p,it,s,R))}):g1(s)&&s.forEach(function(it,xt){q.set(xt,vn(it,u,p,xt,s,R))});var tt=ge?Q?Nv:kv:Q?Hr:Li,vt=ve?t:tt(s);return Or(vt||s,function(it,xt){vt&&(xt=it,it=s[xt]),Pc(q,xt,vn(it,u,p,xt,s,R))}),q}function gU(s){var u=Li(s);return function(p){return t_(p,s,u)}}function t_(s,u,p){var x=p.length;if(s==null)return!x;for(s=Pt(s);x--;){var P=p[x],R=u[P],q=s[P];if(q===t&&!(P in s)||!R(q))return!1}return!0}function i_(s,u,p){if(typeof s!="function")throw new er(n);return Nc(function(){s.apply(t,p)},u)}function Ic(s,u,p,x){var P=-1,R=ga,q=!0,B=s.length,Q=[],ge=u.length;if(!B)return Q;p&&(u=Gt(u,Er(p))),x?(R=hn,q=!1):u.length>=i&&(R=bi,q=!1,u=new Pa(u));e:for(;++P<B;){var ve=s[P],xe=p==null?ve:p(ve);if(ve=x||ve!==0?ve:0,q&&xe===xe){for(var ke=ge;ke--;)if(u[ke]===xe)continue e;Q.push(ve)}else R(u,xe,x)||Q.push(ve)}return Q}var As=T_(po),r_=T_(mv,!0);function vU(s,u){var p=!0;return As(s,function(x,P,R){return p=!!u(x,P,R),p}),p}function Zp(s,u,p){for(var x=-1,P=s.length;++x<P;){var R=s[x],q=u(R);if(q!=null&&(B===t?q===q&&!tn(q):p(q,B)))var B=q,Q=R}return Q}function yU(s,u,p,x){var P=s.length;for(p=mt(p),p<0&&(p=-p>P?0:P+p),x=x===t||x>P?P:mt(x),x<0&&(x+=P),x=p>x?0:w1(x);p<x;)s[p++]=u;return s}function n_(s,u){var p=[];return As(s,function(x,P,R){u(x,P,R)&&p.push(x)}),p}function tr(s,u,p,x,P){var R=-1,q=s.length;for(p||(p=s3),P||(P=[]);++R<q;){var B=s[R];u>0&&p(B)?u>1?tr(B,u-1,p,x,P):On(P,B):x||(P[P.length]=B)}return P}var fv=M_(),o_=M_(!0);function po(s,u){return s&&fv(s,u,Li)}function mv(s,u){return s&&o_(s,u,Li)}function Jp(s,u){return Nn(u,function(p){return Jo(s[p])})}function Aa(s,u){u=Ms(u,s);for(var p=0,x=u.length;s!=null&&p<x;)s=s[fo(u[p++])];return p&&p==x?s:t}function s_(s,u,p){var x=u(s);return dt(s)?x:On(x,p(s))}function Pr(s){return s==null?s===t?Ki:lt:Ea&&Ea in Pt(s)?e3(s):h3(s)}function gv(s,u){return s>u}function bU(s,u){return s!=null&&qt.call(s,u)}function wU(s,u){return s!=null&&u in Pt(s)}function xU(s,u,p){return s>=lr(u,p)&&s<Ti(u,p)}function vv(s,u,p){for(var x=p?hn:ga,P=s[0].length,R=s.length,q=R,B=ue(R),Q=1/0,ge=[];q--;){var ve=s[q];q&&u&&(ve=Gt(ve,Er(u))),Q=lr(ve.length,Q),B[q]=!p&&(u||P>=120&&ve.length>=120)?new Pa(q&&ve):t}ve=s[0];var xe=-1,ke=B[0];e:for(;++xe<P&&ge.length<Q;){var We=ve[xe],tt=u?u(We):We;if(We=p||We!==0?We:0,!(ke?bi(ke,tt):x(ge,tt,p))){for(q=R;--q;){var vt=B[q];if(!(vt?bi(vt,tt):x(s[q],tt,p)))continue e}ke&&ke.push(tt),ge.push(We)}}return ge}function SU(s,u,p,x){return po(s,function(P,R,q){u(x,p(P),R,q)}),x}function Ac(s,u,p){u=Ms(u,s),s=G_(s,u);var x=s==null?s:s[fo(bn(u))];return x==null?t:_r(x,s,p)}function a_(s){return gi(s)&&Pr(s)==fe}function _U(s){return gi(s)&&Pr(s)==Kr}function EU(s){return gi(s)&&Pr(s)==Le}function Tc(s,u,p,x,P){return s===u?!0:s==null||u==null||!gi(s)&&!gi(u)?s!==s&&u!==u:CU(s,u,p,x,Tc,P)}function CU(s,u,p,x,P,R){var q=dt(s),B=dt(u),Q=q?be:ur(s),ge=B?be:ur(u);Q=Q==fe?ht:Q,ge=ge==fe?ht:ge;var ve=Q==ht,xe=ge==ht,ke=Q==ge;if(ke&&ks(s)){if(!ks(u))return!1;q=!0,ve=!1}if(ke&&!ve)return R||(R=new Fn),q||Dl(s)?q_(s,u,p,x,P,R):JU(s,u,Q,p,x,P,R);if(!(p&v)){var We=ve&&qt.call(s,"__wrapped__"),tt=xe&&qt.call(u,"__wrapped__");if(We||tt){var vt=We?s.value():s,it=tt?u.value():u;return R||(R=new Fn),P(vt,it,p,x,R)}}return ke?(R||(R=new Fn),QU(s,u,p,x,P,R)):!1}function PU(s){return gi(s)&&ur(s)==Ie}function yv(s,u,p,x){var P=p.length,R=P,q=!x;if(s==null)return!R;for(s=Pt(s);P--;){var B=p[P];if(q&&B[2]?B[1]!==s[B[0]]:!(B[0]in s))return!1}for(;++P<R;){B=p[P];var Q=B[0],ge=s[Q],ve=B[1];if(q&&B[2]){if(ge===t&&!(Q in s))return!1}else{var xe=new Fn;if(x)var ke=x(ge,ve,Q,s,u,xe);if(!(ke===t?Tc(ve,ge,v|b,x,xe):ke))return!1}}return!0}function l_(s){if(!ui(s)||l3(s))return!1;var u=Jo(s)?Pq:ml;return u.test(Ma(s))}function IU(s){return gi(s)&&Pr(s)==Lt}function AU(s){return gi(s)&&ur(s)==_t}function TU(s){return gi(s)&&mh(s.length)&&!!Ft[Pr(s)]}function u_(s){return typeof s=="function"?s:s==null?qr:typeof s=="object"?dt(s)?p_(s[0],s[1]):d_(s):R1(s)}function bv(s){if(!kc(s))return kq(s);var u=[];for(var p in Pt(s))qt.call(s,p)&&p!="constructor"&&u.push(p);return u}function MU(s){if(!ui(s))return p3(s);var u=kc(s),p=[];for(var x in s)x=="constructor"&&(u||!qt.call(s,x))||p.push(x);return p}function wv(s,u){return s<u}function c_(s,u){var p=-1,x=zr(s)?ue(s.length):[];return As(s,function(P,R,q){x[++p]=u(P,R,q)}),x}function d_(s){var u=Dv(s);return u.length==1&&u[0][2]?$_(u[0][0],u[0][1]):function(p){return p===s||yv(p,s,u)}}function p_(s,u){return Fv(s)&&V_(u)?$_(fo(s),u):function(p){var x=Gv(p,s);return x===t&&x===u?Kv(p,s):Tc(u,x,v|b)}}function Qp(s,u,p,x,P){s!==u&&fv(u,function(R,q){if(P||(P=new Fn),ui(R))RU(s,u,q,p,Qp,x,P);else{var B=x?x(Hv(s,q),R,q+"",s,u,P):t;B===t&&(B=R),pv(s,q,B)}},Hr)}function RU(s,u,p,x,P,R,q){var B=Hv(s,p),Q=Hv(u,p),ge=q.get(Q);if(ge){pv(s,p,ge);return}var ve=R?R(B,Q,p+"",s,u,q):t,xe=ve===t;if(xe){var ke=dt(Q),We=!ke&&ks(Q),tt=!ke&&!We&&Dl(Q);ve=Q,ke||We||tt?dt(B)?ve=B:wi(B)?ve=Fr(B):We?(xe=!1,ve=E_(Q,!0)):tt?(xe=!1,ve=C_(Q,!0)):ve=[]:Oc(Q)||Ra(Q)?(ve=B,Ra(B)?ve=x1(B):(!ui(B)||Jo(B))&&(ve=W_(Q))):xe=!1}xe&&(q.set(Q,ve),P(ve,Q,x,R,q),q.delete(Q)),pv(s,p,ve)}function h_(s,u){var p=s.length;if(p)return u+=u<0?p:0,Zo(u,p)?s[u]:t}function f_(s,u,p){u.length?u=Gt(u,function(R){return dt(R)?function(q){return Aa(q,R.length===1?R[0]:R)}:R}):u=[qr];var x=-1;u=Gt(u,Er(Ze()));var P=c_(s,function(R,q,B){var Q=Gt(u,function(ge){return ge(R)});return{criteria:Q,index:++x,value:R}});return bc(P,function(R,q){return VU(R,q,p)})}function kU(s,u){return m_(s,u,function(p,x){return Kv(s,x)})}function m_(s,u,p){for(var x=-1,P=u.length,R={};++x<P;){var q=u[x],B=Aa(s,q);p(B,q)&&Mc(R,Ms(q,s),B)}return R}function NU(s){return function(u){return Aa(u,s)}}function xv(s,u,p,x){var P=x?Jr:Zr,R=-1,q=u.length,B=s;for(s===u&&(u=Fr(u)),p&&(B=Gt(s,Er(p)));++R<q;)for(var Q=0,ge=u[R],ve=p?p(ge):ge;(Q=P(B,ve,Q,x))>-1;)B!==s&&Wp.call(B,Q,1),Wp.call(s,Q,1);return s}function g_(s,u){for(var p=s?u.length:0,x=p-1;p--;){var P=u[p];if(p==x||P!==R){var R=P;Zo(P)?Wp.call(s,P,1):Cv(s,P)}}return s}function Sv(s,u){return s+jp(XS()*(u-s+1))}function OU(s,u,p,x){for(var P=-1,R=Ti($p((u-s)/(p||1)),0),q=ue(R);R--;)q[x?R:++P]=s,s+=p;return q}function _v(s,u){var p="";if(!s||u<1||u>J)return p;do u%2&&(p+=s),u=jp(u/2),u&&(s+=s);while(u);return p}function yt(s,u){return qv(j_(s,u,qr),s+"")}function DU(s){return QS(Ll(s))}function LU(s,u){var p=Ll(s);return uh(p,Ia(u,0,p.length))}function Mc(s,u,p,x){if(!ui(s))return s;u=Ms(u,s);for(var P=-1,R=u.length,q=R-1,B=s;B!=null&&++P<R;){var Q=fo(u[P]),ge=p;if(Q==="__proto__"||Q==="constructor"||Q==="prototype")return s;if(P!=q){var ve=B[Q];ge=x?x(ve,Q,B):t,ge===t&&(ge=ui(ve)?ve:Zo(u[P+1])?[]:{})}Pc(B,Q,ge),B=B[Q]}return s}var v_=Gp?function(s,u){return Gp.set(s,u),s}:qr,FU=Vp?function(s,u){return Vp(s,"toString",{configurable:!0,enumerable:!1,value:Xv(u),writable:!0})}:qr;function zU(s){return uh(Ll(s))}function yn(s,u,p){var x=-1,P=s.length;u<0&&(u=-u>P?0:P+u),p=p>P?P:p,p<0&&(p+=P),P=u>p?0:p-u>>>0,u>>>=0;for(var R=ue(P);++x<P;)R[x]=s[x+u];return R}function HU(s,u){var p;return As(s,function(x,P,R){return p=u(x,P,R),!p}),!!p}function eh(s,u,p){var x=0,P=s==null?x:s.length;if(typeof u=="number"&&u===u&&P<=re){for(;x<P;){var R=x+P>>>1,q=s[R];q!==null&&!tn(q)&&(p?q<=u:q<u)?x=R+1:P=R}return P}return Ev(s,u,qr,p)}function Ev(s,u,p,x){var P=0,R=s==null?0:s.length;if(R===0)return 0;u=p(u);for(var q=u!==u,B=u===null,Q=tn(u),ge=u===t;P<R;){var ve=jp((P+R)/2),xe=p(s[ve]),ke=xe!==t,We=xe===null,tt=xe===xe,vt=tn(xe);if(q)var it=x||tt;else ge?it=tt&&(x||ke):B?it=tt&&ke&&(x||!We):Q?it=tt&&ke&&!We&&(x||!vt):We||vt?it=!1:it=x?xe<=u:xe<u;it?P=ve+1:R=ve}return lr(R,W)}function y_(s,u){for(var p=-1,x=s.length,P=0,R=[];++p<x;){var q=s[p],B=u?u(q):q;if(!p||!zn(B,Q)){var Q=B;R[P++]=q===0?0:q}}return R}function b_(s){return typeof s=="number"?s:tn(s)?K:+s}function en(s){if(typeof s=="string")return s;if(dt(s))return Gt(s,en)+"";if(tn(s))return ZS?ZS.call(s):"";var u=s+"";return u=="0"&&1/s==-ee?"-0":u}function Ts(s,u,p){var x=-1,P=ga,R=s.length,q=!0,B=[],Q=B;if(p)q=!1,P=hn;else if(R>=i){var ge=u?null:XU(s);if(ge)return Pi(ge);q=!1,P=bi,Q=new Pa}else Q=u?[]:B;e:for(;++x<R;){var ve=s[x],xe=u?u(ve):ve;if(ve=p||ve!==0?ve:0,q&&xe===xe){for(var ke=Q.length;ke--;)if(Q[ke]===xe)continue e;u&&Q.push(xe),B.push(ve)}else P(Q,xe,p)||(Q!==B&&Q.push(xe),B.push(ve))}return B}function Cv(s,u){return u=Ms(u,s),s=G_(s,u),s==null||delete s[fo(bn(u))]}function w_(s,u,p,x){return Mc(s,u,p(Aa(s,u)),x)}function th(s,u,p,x){for(var P=s.length,R=x?P:-1;(x?R--:++R<P)&&u(s[R],R,s););return p?yn(s,x?0:R,x?R+1:P):yn(s,x?R+1:0,x?P:R)}function x_(s,u){var p=s;return p instanceof St&&(p=p.value()),fn(u,function(x,P){return P.func.apply(P.thisArg,On([x],P.args))},p)}function Pv(s,u,p){var x=s.length;if(x<2)return x?Ts(s[0]):[];for(var P=-1,R=ue(x);++P<x;)for(var q=s[P],B=-1;++B<x;)B!=P&&(R[P]=Ic(R[P]||q,s[B],u,p));return Ts(tr(R,1),u,p)}function S_(s,u,p){for(var x=-1,P=s.length,R=u.length,q={};++x<P;){var B=x<R?u[x]:t;p(q,s[x],B)}return q}function Iv(s){return wi(s)?s:[]}function Av(s){return typeof s=="function"?s:qr}function Ms(s,u){return dt(s)?s:Fv(s,u)?[s]:Z_(Nt(s))}var qU=yt;function Rs(s,u,p){var x=s.length;return p=p===t?x:p,!u&&p>=x?s:yn(s,u,p)}var __=Iq||function(s){return Ci.clearTimeout(s)};function E_(s,u){if(u)return s.slice();var p=s.length,x=$S?$S(p):new s.constructor(p);return s.copy(x),x}function Tv(s){var u=new s.constructor(s.byteLength);return new Up(u).set(new Up(s)),u}function UU(s,u){var p=u?Tv(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}function BU(s){var u=new s.constructor(s.source,sc.exec(s));return u.lastIndex=s.lastIndex,u}function WU(s){return Cc?Pt(Cc.call(s)):{}}function C_(s,u){var p=u?Tv(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}function P_(s,u){if(s!==u){var p=s!==t,x=s===null,P=s===s,R=tn(s),q=u!==t,B=u===null,Q=u===u,ge=tn(u);if(!B&&!ge&&!R&&s>u||R&&q&&Q&&!B&&!ge||x&&q&&Q||!p&&Q||!P)return 1;if(!x&&!R&&!ge&&s<u||ge&&p&&P&&!x&&!R||B&&p&&P||!q&&P||!Q)return-1}return 0}function VU(s,u,p){for(var x=-1,P=s.criteria,R=u.criteria,q=P.length,B=p.length;++x<q;){var Q=P_(P[x],R[x]);if(Q){if(x>=B)return Q;var ge=p[x];return Q*(ge=="desc"?-1:1)}}return s.index-u.index}function I_(s,u,p,x){for(var P=-1,R=s.length,q=p.length,B=-1,Q=u.length,ge=Ti(R-q,0),ve=ue(Q+ge),xe=!x;++B<Q;)ve[B]=u[B];for(;++P<q;)(xe||P<R)&&(ve[p[P]]=s[P]);for(;ge--;)ve[B++]=s[P++];return ve}function A_(s,u,p,x){for(var P=-1,R=s.length,q=-1,B=p.length,Q=-1,ge=u.length,ve=Ti(R-B,0),xe=ue(ve+ge),ke=!x;++P<ve;)xe[P]=s[P];for(var We=P;++Q<ge;)xe[We+Q]=u[Q];for(;++q<B;)(ke||P<R)&&(xe[We+p[q]]=s[P++]);return xe}function Fr(s,u){var p=-1,x=s.length;for(u||(u=ue(x));++p<x;)u[p]=s[p];return u}function ho(s,u,p,x){var P=!p;p||(p={});for(var R=-1,q=u.length;++R<q;){var B=u[R],Q=x?x(p[B],s[B],B,p,s):t;Q===t&&(Q=s[B]),P?Ko(p,B,Q):Pc(p,B,Q)}return p}function $U(s,u){return ho(s,Lv(s),u)}function jU(s,u){return ho(s,U_(s),u)}function ih(s,u){return function(p,x){var P=dt(p)?lv:fU,R=u?u():{};return P(p,s,Ze(x,2),R)}}function kl(s){return yt(function(u,p){var x=-1,P=p.length,R=P>1?p[P-1]:t,q=P>2?p[2]:t;for(R=s.length>3&&typeof R=="function"?(P--,R):t,q&&Ir(p[0],p[1],q)&&(R=P<3?t:R,P=1),u=Pt(u);++x<P;){var B=p[x];B&&s(u,B,x,R)}return u})}function T_(s,u){return function(p,x){if(p==null)return p;if(!zr(p))return s(p,x);for(var P=p.length,R=u?P:-1,q=Pt(p);(u?R--:++R<P)&&x(q[R],R,q)!==!1;);return p}}function M_(s){return function(u,p,x){for(var P=-1,R=Pt(u),q=x(u),B=q.length;B--;){var Q=q[s?B:++P];if(p(R[Q],Q,R)===!1)break}return u}}function GU(s,u,p){var x=u&_,P=Rc(s);function R(){var q=this&&this!==Ci&&this instanceof R?P:s;return q.apply(x?p:this,arguments)}return R}function R_(s){return function(u){u=Nt(u);var p=Ve(u)?Di(u):t,x=p?p[0]:u.charAt(0),P=p?Rs(p,1).join(""):u.slice(1);return x[s]()+P}}function Nl(s){return function(u){return fn(T1(A1(u).replace(kp,"")),s,"")}}function Rc(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var p=Rl(s.prototype),x=s.apply(p,u);return ui(x)?x:p}}function KU(s,u,p){var x=Rc(s);function P(){for(var R=arguments.length,q=ue(R),B=R,Q=Ol(P);B--;)q[B]=arguments[B];var ge=R<3&&q[0]!==Q&&q[R-1]!==Q?[]:kt(q,Q);if(R-=ge.length,R<p)return L_(s,u,rh,P.placeholder,t,q,ge,t,t,p-R);var ve=this&&this!==Ci&&this instanceof P?x:s;return _r(ve,this,q)}return P}function k_(s){return function(u,p,x){var P=Pt(u);if(!zr(u)){var R=Ze(p,3);u=Li(u),p=function(B){return R(P[B],B,P)}}var q=s(u,p,x);return q>-1?P[R?u[q]:q]:t}}function N_(s){return Xo(function(u){var p=u.length,x=p,P=gn.prototype.thru;for(s&&u.reverse();x--;){var R=u[x];if(typeof R!="function")throw new er(n);if(P&&!q&&ah(R)=="wrapper")var q=new gn([],!0)}for(x=q?x:p;++x<p;){R=u[x];var B=ah(R),Q=B=="wrapper"?Ov(R):t;Q&&zv(Q[0])&&Q[1]==(z|I|D|G)&&!Q[4].length&&Q[9]==1?q=q[ah(Q[0])].apply(q,Q[3]):q=R.length==1&&zv(R)?q[B]():q.thru(R)}return function(){var ge=arguments,ve=ge[0];if(q&&ge.length==1&&dt(ve))return q.plant(ve).value();for(var xe=0,ke=p?u[xe].apply(this,ge):ve;++xe<p;)ke=u[xe].call(this,ke);return ke}})}function rh(s,u,p,x,P,R,q,B,Q,ge){var ve=u&z,xe=u&_,ke=u&E,We=u&(I|N),tt=u&Y,vt=ke?t:Rc(s);function it(){for(var xt=arguments.length,Et=ue(xt),rn=xt;rn--;)Et[rn]=arguments[rn];if(We)var Ar=Ol(it),nn=O(Et,Ar);if(x&&(Et=I_(Et,x,P,We)),R&&(Et=A_(Et,R,q,We)),xt-=nn,We&&xt<ge){var xi=kt(Et,Ar);return L_(s,u,rh,it.placeholder,p,Et,xi,B,Q,ge-xt)}var Hn=xe?p:this,es=ke?Hn[s]:s;return xt=Et.length,B?Et=f3(Et,B):tt&&xt>1&&Et.reverse(),ve&&Q<xt&&(Et.length=Q),this&&this!==Ci&&this instanceof it&&(es=vt||Rc(es)),es.apply(Hn,Et)}return it}function O_(s,u){return function(p,x){return SU(p,s,u(x),{})}}function nh(s,u){return function(p,x){var P;if(p===t&&x===t)return u;if(p!==t&&(P=p),x!==t){if(P===t)return x;typeof p=="string"||typeof x=="string"?(p=en(p),x=en(x)):(p=b_(p),x=b_(x)),P=s(p,x)}return P}}function Mv(s){return Xo(function(u){return u=Gt(u,Er(Ze())),yt(function(p){var x=this;return s(u,function(P){return _r(P,x,p)})})})}function oh(s,u){u=u===t?" ":en(u);var p=u.length;if(p<2)return p?_v(u,s):u;var x=_v(u,$p(s/mi(u)));return Ve(u)?Rs(Di(x),0,s).join(""):x.slice(0,s)}function YU(s,u,p,x){var P=u&_,R=Rc(s);function q(){for(var B=-1,Q=arguments.length,ge=-1,ve=x.length,xe=ue(ve+Q),ke=this&&this!==Ci&&this instanceof q?R:s;++ge<ve;)xe[ge]=x[ge];for(;Q--;)xe[ge++]=arguments[++B];return _r(ke,P?p:this,xe)}return q}function D_(s){return function(u,p,x){return x&&typeof x!="number"&&Ir(u,p,x)&&(p=x=t),u=Qo(u),p===t?(p=u,u=0):p=Qo(p),x=x===t?u<p?1:-1:Qo(x),OU(u,p,x,s)}}function sh(s){return function(u,p){return typeof u=="string"&&typeof p=="string"||(u=wn(u),p=wn(p)),s(u,p)}}function L_(s,u,p,x,P,R,q,B,Q,ge){var ve=u&I,xe=ve?q:t,ke=ve?t:q,We=ve?R:t,tt=ve?t:R;u|=ve?D:F,u&=~(ve?F:D),u&C||(u&=~(_|E));var vt=[s,u,P,We,xe,tt,ke,B,Q,ge],it=p.apply(t,vt);return zv(s)&&K_(it,vt),it.placeholder=x,Y_(it,s,u)}function Rv(s){var u=oi[s];return function(p,x){if(p=wn(p),x=x==null?0:lr(mt(x),292),x&&YS(p)){var P=(Nt(p)+"e").split("e"),R=u(P[0]+"e"+(+P[1]+x));return P=(Nt(R)+"e").split("e"),+(P[0]+"e"+(+P[1]-x))}return u(p)}}var XU=Tl&&1/Pi(new Tl([,-0]))[1]==ee?function(s){return new Tl(s)}:Qv;function F_(s){return function(u){var p=ur(u);return p==Ie?je(u):p==_t?Cr(u):zp(u,s(u))}}function Yo(s,u,p,x,P,R,q,B){var Q=u&E;if(!Q&&typeof s!="function")throw new er(n);var ge=x?x.length:0;if(ge||(u&=~(D|F),x=P=t),q=q===t?q:Ti(mt(q),0),B=B===t?B:mt(B),ge-=P?P.length:0,u&F){var ve=x,xe=P;x=P=t}var ke=Q?t:Ov(s),We=[s,u,p,x,P,ve,xe,R,q,B];if(ke&&d3(We,ke),s=We[0],u=We[1],p=We[2],x=We[3],P=We[4],B=We[9]=We[9]===t?Q?0:s.length:Ti(We[9]-ge,0),!B&&u&(I|N)&&(u&=~(I|N)),!u||u==_)var tt=GU(s,u,p);else u==I||u==N?tt=KU(s,u,B):(u==D||u==(_|D))&&!P.length?tt=YU(s,u,p,x):tt=rh.apply(t,We);var vt=ke?v_:K_;return Y_(vt(tt,We),s,u)}function z_(s,u,p,x){return s===t||zn(s,Lr[p])&&!qt.call(x,p)?u:s}function H_(s,u,p,x,P,R){return ui(s)&&ui(u)&&(R.set(u,s),Qp(s,u,t,H_,R),R.delete(u)),s}function ZU(s){return Oc(s)?t:s}function q_(s,u,p,x,P,R){var q=p&v,B=s.length,Q=u.length;if(B!=Q&&!(q&&Q>B))return!1;var ge=R.get(s),ve=R.get(u);if(ge&&ve)return ge==u&&ve==s;var xe=-1,ke=!0,We=p&b?new Pa:t;for(R.set(s,u),R.set(u,s);++xe<B;){var tt=s[xe],vt=u[xe];if(x)var it=q?x(vt,tt,xe,u,s,R):x(tt,vt,xe,s,u,R);if(it!==t){if(it)continue;ke=!1;break}if(We){if(!va(u,function(xt,Et){if(!bi(We,Et)&&(tt===xt||P(tt,xt,p,x,R)))return We.push(Et)})){ke=!1;break}}else if(!(tt===vt||P(tt,vt,p,x,R))){ke=!1;break}}return R.delete(s),R.delete(u),ke}function JU(s,u,p,x,P,R,q){switch(p){case Mn:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case Kr:return!(s.byteLength!=u.byteLength||!R(new Up(s),new Up(u)));case _e:case Le:case at:return zn(+s,+u);case rt:return s.name==u.name&&s.message==u.message;case Lt:case Wt:return s==u+"";case Ie:var B=je;case _t:var Q=x&v;if(B||(B=Pi),s.size!=u.size&&!Q)return!1;var ge=q.get(s);if(ge)return ge==u;x|=b,q.set(s,u);var ve=q_(B(s),B(u),x,P,R,q);return q.delete(s),ve;case nt:if(Cc)return Cc.call(s)==Cc.call(u)}return!1}function QU(s,u,p,x,P,R){var q=p&v,B=kv(s),Q=B.length,ge=kv(u),ve=ge.length;if(Q!=ve&&!q)return!1;for(var xe=Q;xe--;){var ke=B[xe];if(!(q?ke in u:qt.call(u,ke)))return!1}var We=R.get(s),tt=R.get(u);if(We&&tt)return We==u&&tt==s;var vt=!0;R.set(s,u),R.set(u,s);for(var it=q;++xe<Q;){ke=B[xe];var xt=s[ke],Et=u[ke];if(x)var rn=q?x(Et,xt,ke,u,s,R):x(xt,Et,ke,s,u,R);if(!(rn===t?xt===Et||P(xt,Et,p,x,R):rn)){vt=!1;break}it||(it=ke=="constructor")}if(vt&&!it){var Ar=s.constructor,nn=u.constructor;Ar!=nn&&"constructor"in s&&"constructor"in u&&!(typeof Ar=="function"&&Ar instanceof Ar&&typeof nn=="function"&&nn instanceof nn)&&(vt=!1)}return R.delete(s),R.delete(u),vt}function Xo(s){return qv(j_(s,t,t1),s+"")}function kv(s){return s_(s,Li,Lv)}function Nv(s){return s_(s,Hr,U_)}var Ov=Gp?function(s){return Gp.get(s)}:Qv;function ah(s){for(var u=s.name+"",p=Ml[u],x=qt.call(Ml,u)?p.length:0;x--;){var P=p[x],R=P.func;if(R==null||R==s)return P.name}return u}function Ol(s){var u=qt.call(A,"placeholder")?A:s;return u.placeholder}function Ze(){var s=A.iteratee||Zv;return s=s===Zv?u_:s,arguments.length?s(arguments[0],arguments[1]):s}function lh(s,u){var p=s.__data__;return a3(u)?p[typeof u=="string"?"string":"hash"]:p.map}function Dv(s){for(var u=Li(s),p=u.length;p--;){var x=u[p],P=s[x];u[p]=[x,P,V_(P)]}return u}function Ta(s,u){var p=Me(s,u);return l_(p)?p:t}function e3(s){var u=qt.call(s,Ea),p=s[Ea];try{s[Ea]=t;var x=!0}catch{}var P=Hp.call(s);return x&&(u?s[Ea]=p:delete s[Ea]),P}var Lv=uv?function(s){return s==null?[]:(s=Pt(s),Nn(uv(s),function(u){return GS.call(s,u)}))}:ey,U_=uv?function(s){for(var u=[];s;)On(u,Lv(s)),s=Bp(s);return u}:ey,ur=Pr;(cv&&ur(new cv(new ArrayBuffer(1)))!=Mn||Sc&&ur(new Sc)!=Ie||dv&&ur(dv.resolve())!=Be||Tl&&ur(new Tl)!=_t||_c&&ur(new _c)!=ri)&&(ur=function(s){var u=Pr(s),p=u==ht?s.constructor:t,x=p?Ma(p):"";if(x)switch(x){case Lq:return Mn;case Fq:return Ie;case zq:return Be;case Hq:return _t;case qq:return ri}return u});function t3(s,u,p){for(var x=-1,P=p.length;++x<P;){var R=p[x],q=R.size;switch(R.type){case"drop":s+=q;break;case"dropRight":u-=q;break;case"take":u=lr(u,s+q);break;case"takeRight":s=Ti(s,u-q);break}}return{start:s,end:u}}function i3(s){var u=s.match(Do);return u?u[1].split(la):[]}function B_(s,u,p){u=Ms(u,s);for(var x=-1,P=u.length,R=!1;++x<P;){var q=fo(u[x]);if(!(R=s!=null&&p(s,q)))break;s=s[q]}return R||++x!=P?R:(P=s==null?0:s.length,!!P&&mh(P)&&Zo(q,P)&&(dt(s)||Ra(s)))}function r3(s){var u=s.length,p=new s.constructor(u);return u&&typeof s[0]=="string"&&qt.call(s,"index")&&(p.index=s.index,p.input=s.input),p}function W_(s){return typeof s.constructor=="function"&&!kc(s)?Rl(Bp(s)):{}}function n3(s,u,p){var x=s.constructor;switch(u){case Kr:return Tv(s);case _e:case Le:return new x(+s);case Mn:return UU(s,p);case ys:case Oo:case Ei:case gt:case Nr:case yr:case pl:case fi:case oo:return C_(s,p);case Ie:return new x;case at:case Wt:return new x(s);case Lt:return BU(s);case _t:return new x;case nt:return WU(s)}}function o3(s,u){var p=u.length;if(!p)return s;var x=p-1;return u[x]=(p>1?"& ":"")+u[x],u=u.join(p>2?", ":" "),s.replace(br,`{
/* [wrapped with `+u+`] */
`)}function s3(s){return dt(s)||Ra(s)||!!(KS&&s&&s[KS])}function Zo(s,u){var p=typeof s;return u=u??J,!!u&&(p=="number"||p!="symbol"&&Lo.test(s))&&s>-1&&s%1==0&&s<u}function Ir(s,u,p){if(!ui(p))return!1;var x=typeof u;return(x=="number"?zr(p)&&Zo(u,p.length):x=="string"&&u in p)?zn(p[u],s):!1}function Fv(s,u){if(dt(s))return!1;var p=typeof s;return p=="number"||p=="symbol"||p=="boolean"||s==null||tn(s)?!0:_p.test(s)||!Sp.test(s)||u!=null&&s in Pt(u)}function a3(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function zv(s){var u=ah(s),p=A[u];if(typeof p!="function"||!(u in St.prototype))return!1;if(s===p)return!0;var x=Ov(p);return!!x&&s===x[0]}function l3(s){return!!VS&&VS in s}var u3=_a?Jo:ty;function kc(s){var u=s&&s.constructor,p=typeof u=="function"&&u.prototype||Lr;return s===p}function V_(s){return s===s&&!ui(s)}function $_(s,u){return function(p){return p==null?!1:p[s]===u&&(u!==t||s in Pt(p))}}function c3(s){var u=hh(s,function(x){return p.size===l&&p.clear(),x}),p=u.cache;return u}function d3(s,u){var p=s[1],x=u[1],P=p|x,R=P<(_|E|z),q=x==z&&p==I||x==z&&p==G&&s[7].length<=u[8]||x==(z|G)&&u[7].length<=u[8]&&p==I;if(!(R||q))return s;x&_&&(s[2]=u[2],P|=p&_?0:C);var B=u[3];if(B){var Q=s[3];s[3]=Q?I_(Q,B,u[4]):B,s[4]=Q?kt(s[3],c):u[4]}return B=u[5],B&&(Q=s[5],s[5]=Q?A_(Q,B,u[6]):B,s[6]=Q?kt(s[5],c):u[6]),B=u[7],B&&(s[7]=B),x&z&&(s[8]=s[8]==null?u[8]:lr(s[8],u[8])),s[9]==null&&(s[9]=u[9]),s[0]=u[0],s[1]=P,s}function p3(s){var u=[];if(s!=null)for(var p in Pt(s))u.push(p);return u}function h3(s){return Hp.call(s)}function j_(s,u,p){return u=Ti(u===t?s.length-1:u,0),function(){for(var x=arguments,P=-1,R=Ti(x.length-u,0),q=ue(R);++P<R;)q[P]=x[u+P];P=-1;for(var B=ue(u+1);++P<u;)B[P]=x[P];return B[u]=p(q),_r(s,this,B)}}function G_(s,u){return u.length<2?s:Aa(s,yn(u,0,-1))}function f3(s,u){for(var p=s.length,x=lr(u.length,p),P=Fr(s);x--;){var R=u[x];s[x]=Zo(R,p)?P[R]:t}return s}function Hv(s,u){if(!(u==="constructor"&&typeof s[u]=="function")&&u!="__proto__")return s[u]}var K_=X_(v_),Nc=Tq||function(s,u){return Ci.setTimeout(s,u)},qv=X_(FU);function Y_(s,u,p){var x=u+"";return qv(s,o3(x,m3(i3(x),p)))}function X_(s){var u=0,p=0;return function(){var x=Nq(),P=j-(x-p);if(p=x,P>0){if(++u>=$)return arguments[0]}else u=0;return s.apply(t,arguments)}}function uh(s,u){var p=-1,x=s.length,P=x-1;for(u=u===t?x:u;++p<u;){var R=Sv(p,P),q=s[R];s[R]=s[p],s[p]=q}return s.length=u,s}var Z_=c3(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(Ep,function(p,x,P,R){u.push(P?R.replace(ws,"$1"):x||p)}),u});function fo(s){if(typeof s=="string"||tn(s))return s;var u=s+"";return u=="0"&&1/s==-ee?"-0":u}function Ma(s){if(s!=null){try{return Al.call(s)}catch{}try{return s+""}catch{}}return""}function m3(s,u){return Or(ce,function(p){var x="_."+p[0];u&p[1]&&!ga(s,x)&&s.push(x)}),s.sort()}function J_(s){if(s instanceof St)return s.clone();var u=new gn(s.__wrapped__,s.__chain__);return u.__actions__=Fr(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}function g3(s,u,p){(p?Ir(s,u,p):u===t)?u=1:u=Ti(mt(u),0);var x=s==null?0:s.length;if(!x||u<1)return[];for(var P=0,R=0,q=ue($p(x/u));P<x;)q[R++]=yn(s,P,P+=u);return q}function v3(s){for(var u=-1,p=s==null?0:s.length,x=0,P=[];++u<p;){var R=s[u];R&&(P[x++]=R)}return P}function y3(){var s=arguments.length;if(!s)return[];for(var u=ue(s-1),p=arguments[0],x=s;x--;)u[x-1]=arguments[x];return On(dt(p)?Fr(p):[p],tr(u,1))}var b3=yt(function(s,u){return wi(s)?Ic(s,tr(u,1,wi,!0)):[]}),w3=yt(function(s,u){var p=bn(u);return wi(p)&&(p=t),wi(s)?Ic(s,tr(u,1,wi,!0),Ze(p,2)):[]}),x3=yt(function(s,u){var p=bn(u);return wi(p)&&(p=t),wi(s)?Ic(s,tr(u,1,wi,!0),t,p):[]});function S3(s,u,p){var x=s==null?0:s.length;return x?(u=p||u===t?1:mt(u),yn(s,u<0?0:u,x)):[]}function _3(s,u,p){var x=s==null?0:s.length;return x?(u=p||u===t?1:mt(u),u=x-u,yn(s,0,u<0?0:u)):[]}function E3(s,u){return s&&s.length?th(s,Ze(u,3),!0,!0):[]}function C3(s,u){return s&&s.length?th(s,Ze(u,3),!0):[]}function P3(s,u,p,x){var P=s==null?0:s.length;return P?(p&&typeof p!="number"&&Ir(s,u,p)&&(p=0,x=P),yU(s,u,p,x)):[]}function Q_(s,u,p){var x=s==null?0:s.length;if(!x)return-1;var P=p==null?0:mt(p);return P<0&&(P=Ti(x+P,0)),Es(s,Ze(u,3),P)}function e1(s,u,p){var x=s==null?0:s.length;if(!x)return-1;var P=x-1;return p!==t&&(P=mt(p),P=p<0?Ti(x+P,0):lr(P,x-1)),Es(s,Ze(u,3),P,!0)}function t1(s){var u=s==null?0:s.length;return u?tr(s,1):[]}function I3(s){var u=s==null?0:s.length;return u?tr(s,ee):[]}function A3(s,u){var p=s==null?0:s.length;return p?(u=u===t?1:mt(u),tr(s,u)):[]}function T3(s){for(var u=-1,p=s==null?0:s.length,x={};++u<p;){var P=s[u];x[P[0]]=P[1]}return x}function i1(s){return s&&s.length?s[0]:t}function M3(s,u,p){var x=s==null?0:s.length;if(!x)return-1;var P=p==null?0:mt(p);return P<0&&(P=Ti(x+P,0)),Zr(s,u,P)}function R3(s){var u=s==null?0:s.length;return u?yn(s,0,-1):[]}var k3=yt(function(s){var u=Gt(s,Iv);return u.length&&u[0]===s[0]?vv(u):[]}),N3=yt(function(s){var u=bn(s),p=Gt(s,Iv);return u===bn(p)?u=t:p.pop(),p.length&&p[0]===s[0]?vv(p,Ze(u,2)):[]}),O3=yt(function(s){var u=bn(s),p=Gt(s,Iv);return u=typeof u=="function"?u:t,u&&p.pop(),p.length&&p[0]===s[0]?vv(p,t,u):[]});function D3(s,u){return s==null?"":Rq.call(s,u)}function bn(s){var u=s==null?0:s.length;return u?s[u-1]:t}function L3(s,u,p){var x=s==null?0:s.length;if(!x)return-1;var P=x;return p!==t&&(P=mt(p),P=P<0?Ti(x+P,0):lr(P,x-1)),u===u?ni(s,u,P):Es(s,Wo,P,!0)}function F3(s,u){return s&&s.length?h_(s,mt(u)):t}var z3=yt(r1);function r1(s,u){return s&&s.length&&u&&u.length?xv(s,u):s}function H3(s,u,p){return s&&s.length&&u&&u.length?xv(s,u,Ze(p,2)):s}function q3(s,u,p){return s&&s.length&&u&&u.length?xv(s,u,t,p):s}var U3=Xo(function(s,u){var p=s==null?0:s.length,x=hv(s,u);return g_(s,Gt(u,function(P){return Zo(P,p)?+P:P}).sort(P_)),x});function B3(s,u){var p=[];if(!(s&&s.length))return p;var x=-1,P=[],R=s.length;for(u=Ze(u,3);++x<R;){var q=s[x];u(q,x,s)&&(p.push(q),P.push(x))}return g_(s,P),p}function Uv(s){return s==null?s:Dq.call(s)}function W3(s,u,p){var x=s==null?0:s.length;return x?(p&&typeof p!="number"&&Ir(s,u,p)?(u=0,p=x):(u=u==null?0:mt(u),p=p===t?x:mt(p)),yn(s,u,p)):[]}function V3(s,u){return eh(s,u)}function $3(s,u,p){return Ev(s,u,Ze(p,2))}function j3(s,u){var p=s==null?0:s.length;if(p){var x=eh(s,u);if(x<p&&zn(s[x],u))return x}return-1}function G3(s,u){return eh(s,u,!0)}function K3(s,u,p){return Ev(s,u,Ze(p,2),!0)}function Y3(s,u){var p=s==null?0:s.length;if(p){var x=eh(s,u,!0)-1;if(zn(s[x],u))return x}return-1}function X3(s){return s&&s.length?y_(s):[]}function Z3(s,u){return s&&s.length?y_(s,Ze(u,2)):[]}function J3(s){var u=s==null?0:s.length;return u?yn(s,1,u):[]}function Q3(s,u,p){return s&&s.length?(u=p||u===t?1:mt(u),yn(s,0,u<0?0:u)):[]}function eB(s,u,p){var x=s==null?0:s.length;return x?(u=p||u===t?1:mt(u),u=x-u,yn(s,u<0?0:u,x)):[]}function tB(s,u){return s&&s.length?th(s,Ze(u,3),!1,!0):[]}function iB(s,u){return s&&s.length?th(s,Ze(u,3)):[]}var rB=yt(function(s){return Ts(tr(s,1,wi,!0))}),nB=yt(function(s){var u=bn(s);return wi(u)&&(u=t),Ts(tr(s,1,wi,!0),Ze(u,2))}),oB=yt(function(s){var u=bn(s);return u=typeof u=="function"?u:t,Ts(tr(s,1,wi,!0),t,u)});function sB(s){return s&&s.length?Ts(s):[]}function aB(s,u){return s&&s.length?Ts(s,Ze(u,2)):[]}function lB(s,u){return u=typeof u=="function"?u:t,s&&s.length?Ts(s,t,u):[]}function Bv(s){if(!(s&&s.length))return[];var u=0;return s=Nn(s,function(p){if(wi(p))return u=Ti(p.length,u),!0}),wa(u,function(p){return Gt(s,ba(p))})}function n1(s,u){if(!(s&&s.length))return[];var p=Bv(s);return u==null?p:Gt(p,function(x){return _r(u,t,x)})}var uB=yt(function(s,u){return wi(s)?Ic(s,u):[]}),cB=yt(function(s){return Pv(Nn(s,wi))}),dB=yt(function(s){var u=bn(s);return wi(u)&&(u=t),Pv(Nn(s,wi),Ze(u,2))}),pB=yt(function(s){var u=bn(s);return u=typeof u=="function"?u:t,Pv(Nn(s,wi),t,u)}),hB=yt(Bv);function fB(s,u){return S_(s||[],u||[],Pc)}function mB(s,u){return S_(s||[],u||[],Mc)}var gB=yt(function(s){var u=s.length,p=u>1?s[u-1]:t;return p=typeof p=="function"?(s.pop(),p):t,n1(s,p)});function o1(s){var u=A(s);return u.__chain__=!0,u}function vB(s,u){return u(s),s}function ch(s,u){return u(s)}var yB=Xo(function(s){var u=s.length,p=u?s[0]:0,x=this.__wrapped__,P=function(R){return hv(R,s)};return u>1||this.__actions__.length||!(x instanceof St)||!Zo(p)?this.thru(P):(x=x.slice(p,+p+(u?1:0)),x.__actions__.push({func:ch,args:[P],thisArg:t}),new gn(x,this.__chain__).thru(function(R){return u&&!R.length&&R.push(t),R}))});function bB(){return o1(this)}function wB(){return new gn(this.value(),this.__chain__)}function xB(){this.__values__===t&&(this.__values__=b1(this.value()));var s=this.__index__>=this.__values__.length,u=s?t:this.__values__[this.__index__++];return{done:s,value:u}}function SB(){return this}function _B(s){for(var u,p=this;p instanceof Yp;){var x=J_(p);x.__index__=0,x.__values__=t,u?P.__wrapped__=x:u=x;var P=x;p=p.__wrapped__}return P.__wrapped__=s,u}function EB(){var s=this.__wrapped__;if(s instanceof St){var u=s;return this.__actions__.length&&(u=new St(this)),u=u.reverse(),u.__actions__.push({func:ch,args:[Uv],thisArg:t}),new gn(u,this.__chain__)}return this.thru(Uv)}function CB(){return x_(this.__wrapped__,this.__actions__)}var PB=ih(function(s,u,p){qt.call(s,p)?++s[p]:Ko(s,p,1)});function IB(s,u,p){var x=dt(s)?ma:vU;return p&&Ir(s,u,p)&&(u=t),x(s,Ze(u,3))}function AB(s,u){var p=dt(s)?Nn:n_;return p(s,Ze(u,3))}var TB=k_(Q_),MB=k_(e1);function RB(s,u){return tr(dh(s,u),1)}function kB(s,u){return tr(dh(s,u),ee)}function NB(s,u,p){return p=p===t?1:mt(p),tr(dh(s,u),p)}function s1(s,u){var p=dt(s)?Or:As;return p(s,Ze(u,3))}function a1(s,u){var p=dt(s)?_s:r_;return p(s,Ze(u,3))}var OB=ih(function(s,u,p){qt.call(s,p)?s[p].push(u):Ko(s,p,[u])});function DB(s,u,p,x){s=zr(s)?s:Ll(s),p=p&&!x?mt(p):0;var P=s.length;return p<0&&(p=Ti(P+p,0)),gh(s)?p<=P&&s.indexOf(u,p)>-1:!!P&&Zr(s,u,p)>-1}var LB=yt(function(s,u,p){var x=-1,P=typeof u=="function",R=zr(s)?ue(s.length):[];return As(s,function(q){R[++x]=P?_r(u,q,p):Ac(q,u,p)}),R}),FB=ih(function(s,u,p){Ko(s,p,u)});function dh(s,u){var p=dt(s)?Gt:c_;return p(s,Ze(u,3))}function zB(s,u,p,x){return s==null?[]:(dt(u)||(u=u==null?[]:[u]),p=x?t:p,dt(p)||(p=p==null?[]:[p]),f_(s,u,p))}var HB=ih(function(s,u,p){s[p?0:1].push(u)},function(){return[[],[]]});function qB(s,u,p){var x=dt(s)?fn:Cl,P=arguments.length<3;return x(s,Ze(u,4),p,P,As)}function UB(s,u,p){var x=dt(s)?vc:Cl,P=arguments.length<3;return x(s,Ze(u,4),p,P,r_)}function BB(s,u){var p=dt(s)?Nn:n_;return p(s,fh(Ze(u,3)))}function WB(s){var u=dt(s)?QS:DU;return u(s)}function VB(s,u,p){(p?Ir(s,u,p):u===t)?u=1:u=mt(u);var x=dt(s)?pU:LU;return x(s,u)}function $B(s){var u=dt(s)?hU:zU;return u(s)}function jB(s){if(s==null)return 0;if(zr(s))return gh(s)?mi(s):s.length;var u=ur(s);return u==Ie||u==_t?s.size:bv(s).length}function GB(s,u,p){var x=dt(s)?va:HU;return p&&Ir(s,u,p)&&(u=t),x(s,Ze(u,3))}var KB=yt(function(s,u){if(s==null)return[];var p=u.length;return p>1&&Ir(s,u[0],u[1])?u=[]:p>2&&Ir(u[0],u[1],u[2])&&(u=[u[0]]),f_(s,tr(u,1),[])}),ph=Aq||function(){return Ci.Date.now()};function YB(s,u){if(typeof u!="function")throw new er(n);return s=mt(s),function(){if(--s<1)return u.apply(this,arguments)}}function l1(s,u,p){return u=p?t:u,u=s&&u==null?s.length:u,Yo(s,z,t,t,t,t,u)}function u1(s,u){var p;if(typeof u!="function")throw new er(n);return s=mt(s),function(){return--s>0&&(p=u.apply(this,arguments)),s<=1&&(u=t),p}}var Wv=yt(function(s,u,p){var x=_;if(p.length){var P=kt(p,Ol(Wv));x|=D}return Yo(s,x,u,p,P)}),c1=yt(function(s,u,p){var x=_|E;if(p.length){var P=kt(p,Ol(c1));x|=D}return Yo(u,x,s,p,P)});function d1(s,u,p){u=p?t:u;var x=Yo(s,I,t,t,t,t,t,u);return x.placeholder=d1.placeholder,x}function p1(s,u,p){u=p?t:u;var x=Yo(s,N,t,t,t,t,t,u);return x.placeholder=p1.placeholder,x}function h1(s,u,p){var x,P,R,q,B,Q,ge=0,ve=!1,xe=!1,ke=!0;if(typeof s!="function")throw new er(n);u=wn(u)||0,ui(p)&&(ve=!!p.leading,xe="maxWait"in p,R=xe?Ti(wn(p.maxWait)||0,u):R,ke="trailing"in p?!!p.trailing:ke);function We(xi){var Hn=x,es=P;return x=P=t,ge=xi,q=s.apply(es,Hn),q}function tt(xi){return ge=xi,B=Nc(xt,u),ve?We(xi):q}function vt(xi){var Hn=xi-Q,es=xi-ge,k1=u-Hn;return xe?lr(k1,R-es):k1}function it(xi){var Hn=xi-Q,es=xi-ge;return Q===t||Hn>=u||Hn<0||xe&&es>=R}function xt(){var xi=ph();if(it(xi))return Et(xi);B=Nc(xt,vt(xi))}function Et(xi){return B=t,ke&&x?We(xi):(x=P=t,q)}function rn(){B!==t&&__(B),ge=0,x=Q=P=B=t}function Ar(){return B===t?q:Et(ph())}function nn(){var xi=ph(),Hn=it(xi);if(x=arguments,P=this,Q=xi,Hn){if(B===t)return tt(Q);if(xe)return __(B),B=Nc(xt,u),We(Q)}return B===t&&(B=Nc(xt,u)),q}return nn.cancel=rn,nn.flush=Ar,nn}var XB=yt(function(s,u){return i_(s,1,u)}),ZB=yt(function(s,u,p){return i_(s,wn(u)||0,p)});function JB(s){return Yo(s,Y)}function hh(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new er(n);var p=function(){var x=arguments,P=u?u.apply(this,x):x[0],R=p.cache;if(R.has(P))return R.get(P);var q=s.apply(this,x);return p.cache=R.set(P,q)||R,q};return p.cache=new(hh.Cache||Go),p}hh.Cache=Go;function fh(s){if(typeof s!="function")throw new er(n);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}function QB(s){return u1(2,s)}var eW=qU(function(s,u){u=u.length==1&&dt(u[0])?Gt(u[0],Er(Ze())):Gt(tr(u,1),Er(Ze()));var p=u.length;return yt(function(x){for(var P=-1,R=lr(x.length,p);++P<R;)x[P]=u[P].call(this,x[P]);return _r(s,this,x)})}),Vv=yt(function(s,u){var p=kt(u,Ol(Vv));return Yo(s,D,t,u,p)}),f1=yt(function(s,u){var p=kt(u,Ol(f1));return Yo(s,F,t,u,p)}),tW=Xo(function(s,u){return Yo(s,G,t,t,t,u)});function iW(s,u){if(typeof s!="function")throw new er(n);return u=u===t?u:mt(u),yt(s,u)}function rW(s,u){if(typeof s!="function")throw new er(n);return u=u==null?0:Ti(mt(u),0),yt(function(p){var x=p[u],P=Rs(p,0,u);return x&&On(P,x),_r(s,this,P)})}function nW(s,u,p){var x=!0,P=!0;if(typeof s!="function")throw new er(n);return ui(p)&&(x="leading"in p?!!p.leading:x,P="trailing"in p?!!p.trailing:P),h1(s,u,{leading:x,maxWait:u,trailing:P})}function oW(s){return l1(s,1)}function sW(s,u){return Vv(Av(u),s)}function aW(){if(!arguments.length)return[];var s=arguments[0];return dt(s)?s:[s]}function lW(s){return vn(s,f)}function uW(s,u){return u=typeof u=="function"?u:t,vn(s,f,u)}function cW(s){return vn(s,d|f)}function dW(s,u){return u=typeof u=="function"?u:t,vn(s,d|f,u)}function pW(s,u){return u==null||t_(s,u,Li(u))}function zn(s,u){return s===u||s!==s&&u!==u}var hW=sh(gv),fW=sh(function(s,u){return s>=u}),Ra=a_(function(){return arguments}())?a_:function(s){return gi(s)&&qt.call(s,"callee")&&!GS.call(s,"callee")},dt=ue.isArray,mW=co?Er(co):_U;function zr(s){return s!=null&&mh(s.length)&&!Jo(s)}function wi(s){return gi(s)&&zr(s)}function gW(s){return s===!0||s===!1||gi(s)&&Pr(s)==_e}var ks=Mq||ty,vW=_l?Er(_l):EU;function yW(s){return gi(s)&&s.nodeType===1&&!Oc(s)}function bW(s){if(s==null)return!0;if(zr(s)&&(dt(s)||typeof s=="string"||typeof s.splice=="function"||ks(s)||Dl(s)||Ra(s)))return!s.length;var u=ur(s);if(u==Ie||u==_t)return!s.size;if(kc(s))return!bv(s).length;for(var p in s)if(qt.call(s,p))return!1;return!0}function wW(s,u){return Tc(s,u)}function xW(s,u,p){p=typeof p=="function"?p:t;var x=p?p(s,u):t;return x===t?Tc(s,u,t,p):!!x}function $v(s){if(!gi(s))return!1;var u=Pr(s);return u==rt||u==ze||typeof s.message=="string"&&typeof s.name=="string"&&!Oc(s)}function SW(s){return typeof s=="number"&&YS(s)}function Jo(s){if(!ui(s))return!1;var u=Pr(s);return u==Ue||u==ot||u==Te||u==ft}function m1(s){return typeof s=="number"&&s==mt(s)}function mh(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=J}function ui(s){var u=typeof s;return s!=null&&(u=="object"||u=="function")}function gi(s){return s!=null&&typeof s=="object"}var g1=Bo?Er(Bo):PU;function _W(s,u){return s===u||yv(s,u,Dv(u))}function EW(s,u,p){return p=typeof p=="function"?p:t,yv(s,u,Dv(u),p)}function CW(s){return v1(s)&&s!=+s}function PW(s){if(u3(s))throw new et(r);return l_(s)}function IW(s){return s===null}function AW(s){return s==null}function v1(s){return typeof s=="number"||gi(s)&&Pr(s)==at}function Oc(s){if(!gi(s)||Pr(s)!=ht)return!1;var u=Bp(s);if(u===null)return!0;var p=qt.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&Al.call(p)==Eq}var jv=Fp?Er(Fp):IU;function TW(s){return m1(s)&&s>=-J&&s<=J}var y1=pn?Er(pn):AU;function gh(s){return typeof s=="string"||!dt(s)&&gi(s)&&Pr(s)==Wt}function tn(s){return typeof s=="symbol"||gi(s)&&Pr(s)==nt}var Dl=sr?Er(sr):TU;function MW(s){return s===t}function RW(s){return gi(s)&&ur(s)==ri}function kW(s){return gi(s)&&Pr(s)==No}var NW=sh(wv),OW=sh(function(s,u){return s<=u});function b1(s){if(!s)return[];if(zr(s))return gh(s)?Di(s):Fr(s);if(xc&&s[xc])return ct(s[xc]());var u=ur(s),p=u==Ie?je:u==_t?Pi:Ll;return p(s)}function Qo(s){if(!s)return s===0?s:0;if(s=wn(s),s===ee||s===-ee){var u=s<0?-1:1;return u*le}return s===s?s:0}function mt(s){var u=Qo(s),p=u%1;return u===u?p?u-p:u:0}function w1(s){return s?Ia(mt(s),0,U):0}function wn(s){if(typeof s=="number")return s;if(tn(s))return K;if(ui(s)){var u=typeof s.valueOf=="function"?s.valueOf():s;s=ui(u)?u+"":u}if(typeof s!="string")return s===0?s:+s;s=xa(s);var p=Pp.test(s);return p||nr.test(s)?sv(s.slice(2),p?2:8):ac.test(s)?K:+s}function x1(s){return ho(s,Hr(s))}function DW(s){return s?Ia(mt(s),-J,J):s===0?s:0}function Nt(s){return s==null?"":en(s)}var LW=kl(function(s,u){if(kc(u)||zr(u)){ho(u,Li(u),s);return}for(var p in u)qt.call(u,p)&&Pc(s,p,u[p])}),S1=kl(function(s,u){ho(u,Hr(u),s)}),vh=kl(function(s,u,p,x){ho(u,Hr(u),s,x)}),FW=kl(function(s,u,p,x){ho(u,Li(u),s,x)}),zW=Xo(hv);function HW(s,u){var p=Rl(s);return u==null?p:e_(p,u)}var qW=yt(function(s,u){s=Pt(s);var p=-1,x=u.length,P=x>2?u[2]:t;for(P&&Ir(u[0],u[1],P)&&(x=1);++p<x;)for(var R=u[p],q=Hr(R),B=-1,Q=q.length;++B<Q;){var ge=q[B],ve=s[ge];(ve===t||zn(ve,Lr[ge])&&!qt.call(s,ge))&&(s[ge]=R[ge])}return s}),UW=yt(function(s){return s.push(t,H_),_r(_1,t,s)});function BW(s,u){return Ji(s,Ze(u,3),po)}function WW(s,u){return Ji(s,Ze(u,3),mv)}function VW(s,u){return s==null?s:fv(s,Ze(u,3),Hr)}function $W(s,u){return s==null?s:o_(s,Ze(u,3),Hr)}function jW(s,u){return s&&po(s,Ze(u,3))}function GW(s,u){return s&&mv(s,Ze(u,3))}function KW(s){return s==null?[]:Jp(s,Li(s))}function YW(s){return s==null?[]:Jp(s,Hr(s))}function Gv(s,u,p){var x=s==null?t:Aa(s,u);return x===t?p:x}function XW(s,u){return s!=null&&B_(s,u,bU)}function Kv(s,u){return s!=null&&B_(s,u,wU)}var ZW=O_(function(s,u,p){u!=null&&typeof u.toString!="function"&&(u=Hp.call(u)),s[u]=p},Xv(qr)),JW=O_(function(s,u,p){u!=null&&typeof u.toString!="function"&&(u=Hp.call(u)),qt.call(s,u)?s[u].push(p):s[u]=[p]},Ze),QW=yt(Ac);function Li(s){return zr(s)?JS(s):bv(s)}function Hr(s){return zr(s)?JS(s,!0):MU(s)}function eV(s,u){var p={};return u=Ze(u,3),po(s,function(x,P,R){Ko(p,u(x,P,R),x)}),p}function tV(s,u){var p={};return u=Ze(u,3),po(s,function(x,P,R){Ko(p,P,u(x,P,R))}),p}var iV=kl(function(s,u,p){Qp(s,u,p)}),_1=kl(function(s,u,p,x){Qp(s,u,p,x)}),rV=Xo(function(s,u){var p={};if(s==null)return p;var x=!1;u=Gt(u,function(R){return R=Ms(R,s),x||(x=R.length>1),R}),ho(s,Nv(s),p),x&&(p=vn(p,d|m|f,ZU));for(var P=u.length;P--;)Cv(p,u[P]);return p});function nV(s,u){return E1(s,fh(Ze(u)))}var oV=Xo(function(s,u){return s==null?{}:kU(s,u)});function E1(s,u){if(s==null)return{};var p=Gt(Nv(s),function(x){return[x]});return u=Ze(u),m_(s,p,function(x,P){return u(x,P[0])})}function sV(s,u,p){u=Ms(u,s);var x=-1,P=u.length;for(P||(P=1,s=t);++x<P;){var R=s==null?t:s[fo(u[x])];R===t&&(x=P,R=p),s=Jo(R)?R.call(s):R}return s}function aV(s,u,p){return s==null?s:Mc(s,u,p)}function lV(s,u,p,x){return x=typeof x=="function"?x:t,s==null?s:Mc(s,u,p,x)}var C1=F_(Li),P1=F_(Hr);function uV(s,u,p){var x=dt(s),P=x||ks(s)||Dl(s);if(u=Ze(u,4),p==null){var R=s&&s.constructor;P?p=x?new R:[]:ui(s)?p=Jo(R)?Rl(Bp(s)):{}:p={}}return(P?Or:po)(s,function(q,B,Q){return u(p,q,B,Q)}),p}function cV(s,u){return s==null?!0:Cv(s,u)}function dV(s,u,p){return s==null?s:w_(s,u,Av(p))}function pV(s,u,p,x){return x=typeof x=="function"?x:t,s==null?s:w_(s,u,Av(p),x)}function Ll(s){return s==null?[]:Dr(s,Li(s))}function hV(s){return s==null?[]:Dr(s,Hr(s))}function fV(s,u,p){return p===t&&(p=u,u=t),p!==t&&(p=wn(p),p=p===p?p:0),u!==t&&(u=wn(u),u=u===u?u:0),Ia(wn(s),u,p)}function mV(s,u,p){return u=Qo(u),p===t?(p=u,u=0):p=Qo(p),s=wn(s),xU(s,u,p)}function gV(s,u,p){if(p&&typeof p!="boolean"&&Ir(s,u,p)&&(u=p=t),p===t&&(typeof u=="boolean"?(p=u,u=t):typeof s=="boolean"&&(p=s,s=t)),s===t&&u===t?(s=0,u=1):(s=Qo(s),u===t?(u=s,s=0):u=Qo(u)),s>u){var x=s;s=u,u=x}if(p||s%1||u%1){var P=XS();return lr(s+P*(u-s+ov("1e-"+((P+"").length-1))),u)}return Sv(s,u)}var vV=Nl(function(s,u,p){return u=u.toLowerCase(),s+(p?I1(u):u)});function I1(s){return Yv(Nt(s).toLowerCase())}function A1(s){return s=Nt(s),s&&s.replace(or,k).replace(Np,"")}function yV(s,u,p){s=Nt(s),u=en(u);var x=s.length;p=p===t?x:Ia(mt(p),0,x);var P=p;return p-=u.length,p>=0&&s.slice(p,P)==u}function bV(s){return s=Nt(s),s&&ic.test(s)?s.replace(ec,de):s}function wV(s){return s=Nt(s),s&&Jg.test(s)?s.replace(rc,"\\$&"):s}var xV=Nl(function(s,u,p){return s+(p?"-":"")+u.toLowerCase()}),SV=Nl(function(s,u,p){return s+(p?" ":"")+u.toLowerCase()}),_V=R_("toLowerCase");function EV(s,u,p){s=Nt(s),u=mt(u);var x=u?mi(s):0;if(!u||x>=u)return s;var P=(u-x)/2;return oh(jp(P),p)+s+oh($p(P),p)}function CV(s,u,p){s=Nt(s),u=mt(u);var x=u?mi(s):0;return u&&x<u?s+oh(u-x,p):s}function PV(s,u,p){s=Nt(s),u=mt(u);var x=u?mi(s):0;return u&&x<u?oh(u-x,p)+s:s}function IV(s,u,p){return p||u==null?u=0:u&&(u=+u),Oq(Nt(s).replace(nc,""),u||0)}function AV(s,u,p){return(p?Ir(s,u,p):u===t)?u=1:u=mt(u),_v(Nt(s),u)}function TV(){var s=arguments,u=Nt(s[0]);return s.length<3?u:u.replace(s[1],s[2])}var MV=Nl(function(s,u,p){return s+(p?"_":"")+u.toLowerCase()});function RV(s,u,p){return p&&typeof p!="number"&&Ir(s,u,p)&&(u=p=t),p=p===t?U:p>>>0,p?(s=Nt(s),s&&(typeof u=="string"||u!=null&&!jv(u))&&(u=en(u),!u&&Ve(s))?Rs(Di(s),0,p):s.split(u,p)):[]}var kV=Nl(function(s,u,p){return s+(p?" ":"")+Yv(u)});function NV(s,u,p){return s=Nt(s),p=p==null?0:Ia(mt(p),0,s.length),u=en(u),s.slice(p,p+u.length)==u}function OV(s,u,p){var x=A.templateSettings;p&&Ir(s,u,p)&&(u=t),s=Nt(s),u=vh({},u,x,z_);var P=vh({},u.imports,x.imports,z_),R=Li(P),q=Dr(P,R),B,Q,ge=0,ve=u.interpolate||yi,xe="__p += '",ke=$o((u.escape||yi).source+"|"+ve.source+"|"+(ve===fl?Qg:yi).source+"|"+(u.evaluate||yi).source+"|$","g"),We="//# sourceURL="+(qt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sl+"]")+`
`;s.replace(ke,function(it,xt,Et,rn,Ar,nn){return Et||(Et=rn),xe+=s.slice(ge,nn).replace(Fo,Se),xt&&(B=!0,xe+=`' +
__e(`+xt+`) +
'`),Ar&&(Q=!0,xe+=`';
`+Ar+`;
__p += '`),Et&&(xe+=`' +
((__t = (`+Et+`)) == null ? '' : __t) +
'`),ge=nn+it.length,it}),xe+=`';
`;var tt=qt.call(u,"variable")&&u.variable;if(!tt)xe=`with (obj) {
`+xe+`
}
`;else if(ua.test(tt))throw new et(o);xe=(Q?xe.replace(bs,""):xe).replace(hl,"$1").replace(Qu,"$1;"),xe="function("+(tt||"obj")+`) {
`+(tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(B?", __e = _.escape":"")+(Q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var vt=M1(function(){return wt(R,We+"return "+xe).apply(t,q)});if(vt.source=xe,$v(vt))throw vt;return vt}function DV(s){return Nt(s).toLowerCase()}function LV(s){return Nt(s).toUpperCase()}function FV(s,u,p){if(s=Nt(s),s&&(p||u===t))return xa(s);if(!s||!(u=en(u)))return s;var x=Di(s),P=Di(u),R=S(x,P),q=T(x,P)+1;return Rs(x,R,q).join("")}function zV(s,u,p){if(s=Nt(s),s&&(p||u===t))return s.slice(0,Cs(s)+1);if(!s||!(u=en(u)))return s;var x=Di(s),P=T(x,Di(u))+1;return Rs(x,0,P).join("")}function HV(s,u,p){if(s=Nt(s),s&&(p||u===t))return s.replace(nc,"");if(!s||!(u=en(u)))return s;var x=Di(s),P=S(x,Di(u));return Rs(x,P).join("")}function qV(s,u){var p=L,x=Z;if(ui(u)){var P="separator"in u?u.separator:P;p="length"in u?mt(u.length):p,x="omission"in u?en(u.omission):x}s=Nt(s);var R=s.length;if(Ve(s)){var q=Di(s);R=q.length}if(p>=R)return s;var B=p-mi(x);if(B<1)return x;var Q=q?Rs(q,0,B).join(""):s.slice(0,B);if(P===t)return Q+x;if(q&&(B+=Q.length-B),jv(P)){if(s.slice(B).search(P)){var ge,ve=Q;for(P.global||(P=$o(P.source,Nt(sc.exec(P))+"g")),P.lastIndex=0;ge=P.exec(ve);)var xe=ge.index;Q=Q.slice(0,xe===t?B:xe)}}else if(s.indexOf(en(P),B)!=B){var ke=Q.lastIndexOf(P);ke>-1&&(Q=Q.slice(0,ke))}return Q+x}function UV(s){return s=Nt(s),s&&tc.test(s)?s.replace(Yi,Pl):s}var BV=Nl(function(s,u,p){return s+(p?" ":"")+u.toUpperCase()}),Yv=R_("toUpperCase");function T1(s,u,p){return s=Nt(s),u=p?t:u,u===t?Xe(s)?Sa(s):yc(s):s.match(u)||[]}var M1=yt(function(s,u){try{return _r(s,t,u)}catch(p){return $v(p)?p:new et(p)}}),WV=Xo(function(s,u){return Or(u,function(p){p=fo(p),Ko(s,p,Wv(s[p],s))}),s});function VV(s){var u=s==null?0:s.length,p=Ze();return s=u?Gt(s,function(x){if(typeof x[1]!="function")throw new er(n);return[p(x[0]),x[1]]}):[],yt(function(x){for(var P=-1;++P<u;){var R=s[P];if(_r(R[0],this,x))return _r(R[1],this,x)}})}function $V(s){return gU(vn(s,d))}function Xv(s){return function(){return s}}function jV(s,u){return s==null||s!==s?u:s}var GV=N_(),KV=N_(!0);function qr(s){return s}function Zv(s){return u_(typeof s=="function"?s:vn(s,d))}function YV(s){return d_(vn(s,d))}function XV(s,u){return p_(s,vn(u,d))}var ZV=yt(function(s,u){return function(p){return Ac(p,s,u)}}),JV=yt(function(s,u){return function(p){return Ac(s,p,u)}});function Jv(s,u,p){var x=Li(u),P=Jp(u,x);p==null&&!(ui(u)&&(P.length||!x.length))&&(p=u,u=s,s=this,P=Jp(u,Li(u)));var R=!(ui(p)&&"chain"in p)||!!p.chain,q=Jo(s);return Or(P,function(B){var Q=u[B];s[B]=Q,q&&(s.prototype[B]=function(){var ge=this.__chain__;if(R||ge){var ve=s(this.__wrapped__),xe=ve.__actions__=Fr(this.__actions__);return xe.push({func:Q,args:arguments,thisArg:s}),ve.__chain__=ge,ve}return Q.apply(s,On([this.value()],arguments))})}),s}function QV(){return Ci._===this&&(Ci._=Cq),this}function Qv(){}function e$(s){return s=mt(s),yt(function(u){return h_(u,s)})}var t$=Mv(Gt),i$=Mv(ma),r$=Mv(va);function R1(s){return Fv(s)?ba(fo(s)):NU(s)}function n$(s){return function(u){return s==null?t:Aa(s,u)}}var o$=D_(),s$=D_(!0);function ey(){return[]}function ty(){return!1}function a$(){return{}}function l$(){return""}function u$(){return!0}function c$(s,u){if(s=mt(s),s<1||s>J)return[];var p=U,x=lr(s,U);u=Ze(u),s-=U;for(var P=wa(x,u);++p<s;)u(p);return P}function d$(s){return dt(s)?Gt(s,fo):tn(s)?[s]:Fr(Z_(Nt(s)))}function p$(s){var u=++_q;return Nt(s)+u}var h$=nh(function(s,u){return s+u},0),f$=Rv("ceil"),m$=nh(function(s,u){return s/u},1),g$=Rv("floor");function v$(s){return s&&s.length?Zp(s,qr,gv):t}function y$(s,u){return s&&s.length?Zp(s,Ze(u,2),gv):t}function b$(s){return mn(s,qr)}function w$(s,u){return mn(s,Ze(u,2))}function x$(s){return s&&s.length?Zp(s,qr,wv):t}function S$(s,u){return s&&s.length?Zp(s,Ze(u,2),wv):t}var _$=nh(function(s,u){return s*u},1),E$=Rv("round"),C$=nh(function(s,u){return s-u},0);function P$(s){return s&&s.length?Dn(s,qr):0}function I$(s,u){return s&&s.length?Dn(s,Ze(u,2)):0}return A.after=YB,A.ary=l1,A.assign=LW,A.assignIn=S1,A.assignInWith=vh,A.assignWith=FW,A.at=zW,A.before=u1,A.bind=Wv,A.bindAll=WV,A.bindKey=c1,A.castArray=aW,A.chain=o1,A.chunk=g3,A.compact=v3,A.concat=y3,A.cond=VV,A.conforms=$V,A.constant=Xv,A.countBy=PB,A.create=HW,A.curry=d1,A.curryRight=p1,A.debounce=h1,A.defaults=qW,A.defaultsDeep=UW,A.defer=XB,A.delay=ZB,A.difference=b3,A.differenceBy=w3,A.differenceWith=x3,A.drop=S3,A.dropRight=_3,A.dropRightWhile=E3,A.dropWhile=C3,A.fill=P3,A.filter=AB,A.flatMap=RB,A.flatMapDeep=kB,A.flatMapDepth=NB,A.flatten=t1,A.flattenDeep=I3,A.flattenDepth=A3,A.flip=JB,A.flow=GV,A.flowRight=KV,A.fromPairs=T3,A.functions=KW,A.functionsIn=YW,A.groupBy=OB,A.initial=R3,A.intersection=k3,A.intersectionBy=N3,A.intersectionWith=O3,A.invert=ZW,A.invertBy=JW,A.invokeMap=LB,A.iteratee=Zv,A.keyBy=FB,A.keys=Li,A.keysIn=Hr,A.map=dh,A.mapKeys=eV,A.mapValues=tV,A.matches=YV,A.matchesProperty=XV,A.memoize=hh,A.merge=iV,A.mergeWith=_1,A.method=ZV,A.methodOf=JV,A.mixin=Jv,A.negate=fh,A.nthArg=e$,A.omit=rV,A.omitBy=nV,A.once=QB,A.orderBy=zB,A.over=t$,A.overArgs=eW,A.overEvery=i$,A.overSome=r$,A.partial=Vv,A.partialRight=f1,A.partition=HB,A.pick=oV,A.pickBy=E1,A.property=R1,A.propertyOf=n$,A.pull=z3,A.pullAll=r1,A.pullAllBy=H3,A.pullAllWith=q3,A.pullAt=U3,A.range=o$,A.rangeRight=s$,A.rearg=tW,A.reject=BB,A.remove=B3,A.rest=iW,A.reverse=Uv,A.sampleSize=VB,A.set=aV,A.setWith=lV,A.shuffle=$B,A.slice=W3,A.sortBy=KB,A.sortedUniq=X3,A.sortedUniqBy=Z3,A.split=RV,A.spread=rW,A.tail=J3,A.take=Q3,A.takeRight=eB,A.takeRightWhile=tB,A.takeWhile=iB,A.tap=vB,A.throttle=nW,A.thru=ch,A.toArray=b1,A.toPairs=C1,A.toPairsIn=P1,A.toPath=d$,A.toPlainObject=x1,A.transform=uV,A.unary=oW,A.union=rB,A.unionBy=nB,A.unionWith=oB,A.uniq=sB,A.uniqBy=aB,A.uniqWith=lB,A.unset=cV,A.unzip=Bv,A.unzipWith=n1,A.update=dV,A.updateWith=pV,A.values=Ll,A.valuesIn=hV,A.without=uB,A.words=T1,A.wrap=sW,A.xor=cB,A.xorBy=dB,A.xorWith=pB,A.zip=hB,A.zipObject=fB,A.zipObjectDeep=mB,A.zipWith=gB,A.entries=C1,A.entriesIn=P1,A.extend=S1,A.extendWith=vh,Jv(A,A),A.add=h$,A.attempt=M1,A.camelCase=vV,A.capitalize=I1,A.ceil=f$,A.clamp=fV,A.clone=lW,A.cloneDeep=cW,A.cloneDeepWith=dW,A.cloneWith=uW,A.conformsTo=pW,A.deburr=A1,A.defaultTo=jV,A.divide=m$,A.endsWith=yV,A.eq=zn,A.escape=bV,A.escapeRegExp=wV,A.every=IB,A.find=TB,A.findIndex=Q_,A.findKey=BW,A.findLast=MB,A.findLastIndex=e1,A.findLastKey=WW,A.floor=g$,A.forEach=s1,A.forEachRight=a1,A.forIn=VW,A.forInRight=$W,A.forOwn=jW,A.forOwnRight=GW,A.get=Gv,A.gt=hW,A.gte=fW,A.has=XW,A.hasIn=Kv,A.head=i1,A.identity=qr,A.includes=DB,A.indexOf=M3,A.inRange=mV,A.invoke=QW,A.isArguments=Ra,A.isArray=dt,A.isArrayBuffer=mW,A.isArrayLike=zr,A.isArrayLikeObject=wi,A.isBoolean=gW,A.isBuffer=ks,A.isDate=vW,A.isElement=yW,A.isEmpty=bW,A.isEqual=wW,A.isEqualWith=xW,A.isError=$v,A.isFinite=SW,A.isFunction=Jo,A.isInteger=m1,A.isLength=mh,A.isMap=g1,A.isMatch=_W,A.isMatchWith=EW,A.isNaN=CW,A.isNative=PW,A.isNil=AW,A.isNull=IW,A.isNumber=v1,A.isObject=ui,A.isObjectLike=gi,A.isPlainObject=Oc,A.isRegExp=jv,A.isSafeInteger=TW,A.isSet=y1,A.isString=gh,A.isSymbol=tn,A.isTypedArray=Dl,A.isUndefined=MW,A.isWeakMap=RW,A.isWeakSet=kW,A.join=D3,A.kebabCase=xV,A.last=bn,A.lastIndexOf=L3,A.lowerCase=SV,A.lowerFirst=_V,A.lt=NW,A.lte=OW,A.max=v$,A.maxBy=y$,A.mean=b$,A.meanBy=w$,A.min=x$,A.minBy=S$,A.stubArray=ey,A.stubFalse=ty,A.stubObject=a$,A.stubString=l$,A.stubTrue=u$,A.multiply=_$,A.nth=F3,A.noConflict=QV,A.noop=Qv,A.now=ph,A.pad=EV,A.padEnd=CV,A.padStart=PV,A.parseInt=IV,A.random=gV,A.reduce=qB,A.reduceRight=UB,A.repeat=AV,A.replace=TV,A.result=sV,A.round=E$,A.runInContext=X,A.sample=WB,A.size=jB,A.snakeCase=MV,A.some=GB,A.sortedIndex=V3,A.sortedIndexBy=$3,A.sortedIndexOf=j3,A.sortedLastIndex=G3,A.sortedLastIndexBy=K3,A.sortedLastIndexOf=Y3,A.startCase=kV,A.startsWith=NV,A.subtract=C$,A.sum=P$,A.sumBy=I$,A.template=OV,A.times=c$,A.toFinite=Qo,A.toInteger=mt,A.toLength=w1,A.toLower=DV,A.toNumber=wn,A.toSafeInteger=DW,A.toString=Nt,A.toUpper=LV,A.trim=FV,A.trimEnd=zV,A.trimStart=HV,A.truncate=qV,A.unescape=UV,A.uniqueId=p$,A.upperCase=BV,A.upperFirst=Yv,A.each=s1,A.eachRight=a1,A.first=i1,Jv(A,function(){var s={};return po(A,function(u,p){qt.call(A.prototype,p)||(s[p]=u)}),s}(),{chain:!1}),A.VERSION=e,Or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){A[s].placeholder=A}),Or(["drop","take"],function(s,u){St.prototype[s]=function(p){p=p===t?1:Ti(mt(p),0);var x=this.__filtered__&&!u?new St(this):this.clone();return x.__filtered__?x.__takeCount__=lr(p,x.__takeCount__):x.__views__.push({size:lr(p,U),type:s+(x.__dir__<0?"Right":"")}),x},St.prototype[s+"Right"]=function(p){return this.reverse()[s](p).reverse()}}),Or(["filter","map","takeWhile"],function(s,u){var p=u+1,x=p==ie||p==ae;St.prototype[s]=function(P){var R=this.clone();return R.__iteratees__.push({iteratee:Ze(P,3),type:p}),R.__filtered__=R.__filtered__||x,R}}),Or(["head","last"],function(s,u){var p="take"+(u?"Right":"");St.prototype[s]=function(){return this[p](1).value()[0]}}),Or(["initial","tail"],function(s,u){var p="drop"+(u?"":"Right");St.prototype[s]=function(){return this.__filtered__?new St(this):this[p](1)}}),St.prototype.compact=function(){return this.filter(qr)},St.prototype.find=function(s){return this.filter(s).head()},St.prototype.findLast=function(s){return this.reverse().find(s)},St.prototype.invokeMap=yt(function(s,u){return typeof s=="function"?new St(this):this.map(function(p){return Ac(p,s,u)})}),St.prototype.reject=function(s){return this.filter(fh(Ze(s)))},St.prototype.slice=function(s,u){s=mt(s);var p=this;return p.__filtered__&&(s>0||u<0)?new St(p):(s<0?p=p.takeRight(-s):s&&(p=p.drop(s)),u!==t&&(u=mt(u),p=u<0?p.dropRight(-u):p.take(u-s)),p)},St.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},St.prototype.toArray=function(){return this.take(U)},po(St.prototype,function(s,u){var p=/^(?:filter|find|map|reject)|While$/.test(u),x=/^(?:head|last)$/.test(u),P=A[x?"take"+(u=="last"?"Right":""):u],R=x||/^find/.test(u);P&&(A.prototype[u]=function(){var q=this.__wrapped__,B=x?[1]:arguments,Q=q instanceof St,ge=B[0],ve=Q||dt(q),xe=function(xt){var Et=P.apply(A,On([xt],B));return x&&ke?Et[0]:Et};ve&&p&&typeof ge=="function"&&ge.length!=1&&(Q=ve=!1);var ke=this.__chain__,We=!!this.__actions__.length,tt=R&&!ke,vt=Q&&!We;if(!R&&ve){q=vt?q:new St(this);var it=s.apply(q,B);return it.__actions__.push({func:ch,args:[xe],thisArg:t}),new gn(it,ke)}return tt&&vt?s.apply(this,B):(it=this.thru(xe),tt?x?it.value()[0]:it.value():it)})}),Or(["pop","push","shift","sort","splice","unshift"],function(s){var u=Ln[s],p=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",x=/^(?:pop|shift)$/.test(s);A.prototype[s]=function(){var P=arguments;if(x&&!this.__chain__){var R=this.value();return u.apply(dt(R)?R:[],P)}return this[p](function(q){return u.apply(dt(q)?q:[],P)})}}),po(St.prototype,function(s,u){var p=A[u];if(p){var x=p.name+"";qt.call(Ml,x)||(Ml[x]=[]),Ml[x].push({name:u,func:p})}}),Ml[rh(t,E).name]=[{name:"wrapper",func:t}],St.prototype.clone=Uq,St.prototype.reverse=Bq,St.prototype.value=Wq,A.prototype.at=yB,A.prototype.chain=bB,A.prototype.commit=wB,A.prototype.next=xB,A.prototype.plant=_B,A.prototype.reverse=EB,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=CB,A.prototype.first=A.prototype.head,xc&&(A.prototype[xc]=SB),A},ar=Qr();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ci._=ar,define(function(){return ar})):Sr?((Sr.exports=ar)._=ar,mc._=ar):Ci._=ar}).call(Vl)});var $e={};si($e,{closest:()=>qa,collapseOptions:()=>st,constrain:()=>d9,contentIsIndexable:()=>Qh,convertDateToISO:()=>x9,convertToEpoch:()=>y9,convertTransformIntoMatrixStyleString:()=>t9,decompose:()=>Xh,deviceType:()=>nb,easeInCubic:()=>i9,easeInOutCirc:()=>s9,easeInOutCubic:()=>sb,easeInOutSine:()=>ab,easeInQuadratic:()=>n9,easeOutCubic:()=>lb,easeOutExponential:()=>o9,easeOutQuadratic:()=>r9,filterZoomLinks:()=>h9,formatDate:()=>v9,formatDate3LetterMonth:()=>w9,getCSSValueAndUnit:()=>Qt,getCorrectRenderContextForGivenPID:()=>ub,getFiletypeAndOembedFromURL:()=>a9,getHeight:()=>c9,getWidth:()=>u9,handleHomePageScrollLock:()=>g9,isAdminEdit:()=>Ri,isAlphanumeric:()=>b9,isChrome:()=>K4,isDateInFuture:()=>m9,isDevEnv:()=>W4,isEdge:()=>Y4,isFirefox:()=>G4,isIE:()=>bP,isIE8:()=>X4,isIOS:()=>cd,isIOSWebView:()=>Z4,isInstagram:()=>ob,isLocalEnv:()=>ib,isMac:()=>ud,isMobile:()=>vo,isMobileWindowSize:()=>Q4,isProduction:()=>Jh,isProductionTestingAcct:()=>V4,isPromoCodeTransitionPeriod:()=>p9,isSafari:()=>sn,isServer:()=>ne,isServerRendered:()=>$4,isSitePreview:()=>Ha,mergeRefs:()=>l9,parseMatrixStyleString:()=>e9,sitePreviewHostname:()=>rb,stringReplaceMultiple:()=>J4,stripTLD:()=>f9,viewportOrientation:()=>j4});var Zh,ib,W4,Jh,V4,ne,$4,gP,Ri,vP,yP,Ha,rb,vo,j4,nb,ud,G4,ob,sn,K4,bP,Y4,X4,cd,Z4,J4,Qh,Q4,e9,t9,Xh,Qt,sb,ab,lb,i9,r9,n9,o9,s9,st,a9,l9,u9,c9,qa,d9,p9,h9,f9,m9,ub,g9,v9,y9,b9,w9,x9,Ne=M(()=>{Zh=pe(we()),ib=/^local.*/.test("production"),W4=/^dev.*/.test("production"),Jh=!0,V4=(t,e)=>{let i=[1,12,14494300,14502618,18,39,75,13933487,14497410,14065331,14229062,14313249];return e==="newsletter"&&(i=[13933487,39]),i.includes(t)||!1},ne=!(typeof window<"u"&&window.document&&window.document.createElement),$4=!ne&&window.hasOwnProperty("__PRELOADED_STATE__"),gP=!1;try{window.parent!==window&&window.location.host===window.parent.location.host&&window.parent.location.pathname.startsWith("/edit")&&(gP=!0)}catch{}Ri=gP,vP=!1;try{if(typeof window<"u"&&window.location.pathname.match("site.preview")!==null){let t=window.location.pathname.match(/^\/site\.preview\/(?<hostname>[^\/]+)/i);t?.groups?.hostname&&(yP=t.groups?.hostname,vP=!0)}}catch{}Ha=vP,rb=yP,vo=function(){if(ne)return!1;var t=!1,e=window.navigator.userAgent||window.navigator.vendor||window.opera;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0)}(e),t=t||!t&&/(android)/i.test(e.substr(0,40)),t}(),j4=()=>ne?!1:window.matchMedia("(max-aspect-ratio: 1:1)")?"portrait":"landscape",nb=()=>{if(ne)return"mouse";let t=window.matchMedia("(hover:hover)"),e=window.matchMedia("(any-pointer:fine)");return t.matches&&e.matches?"mouse":"touch"},ud=()=>ne?!1:navigator?.userAgent?.includes("Mac"),G4=()=>ne?!1:/Firefox\/\d+\.\d+/.test(navigator.userAgent),ob=()=>ne?!1:navigator.userAgent.indexOf("Instagram")!=-1,sn=()=>ne?!1:navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,K4=()=>ne?!1:window.chrome!==null&&navigator.userAgent.indexOf("Chrome")!=-1&&navigator.vendor==="Google Inc."&&typeof window.opr>"u"&&navigator.userAgent.indexOf("Edg")==-1,bP=()=>ne?!1:/MSIE (\d+\.\d+);/.test(navigator.userAgent),Y4=()=>ne?!1:/Edge/.test(navigator.userAgent),X4=()=>{if(ne)return!1;var t=-1;if(bP()){var e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");e.exec(navigator.userAgent)!=null&&(t=parseFloat(RegExp.$1))}return t<9&&t>0},cd=()=>ne?!1:!!navigator.userAgent.match(/i(Phone|Pod|Pad)/i),Z4=()=>{if(ne)return!1;var t=window.navigator.standalone,e=window.navigator.userAgent.toLowerCase(),i=/safari/.test(e),r=/iphone|ipod|ipad/.test(e);if(r){if(!t&&i)return!1;if(t&&!i)return!1;if(!t&&!i)return!0}return!1},J4=(t,e)=>{for(var i in e)t=t.replace(new RegExp(i,"g"),e[i]);return t},Qh=t=>t?t.page_type==="set"?!0:!(t.display===!1||t.pin||t.overlay):!1,Q4=t=>t<770,e9=t=>{let e=t.indexOf("matrix(")>-1,i=t.indexOf("matrix3d(")>-1,r,n;return e?(r=t.replace("matrix(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Xh(r[0],r[1],r[2],r[3],r[4],r[5],!1)):i?(r=t.replace("matrix3d(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Xh(r[0],r[1],r[4],r[5],r[12],r[13],!1),n.translate.z=r[14]):n=Xh(0,0,0,0,0,0,!1),n},t9=t=>{let e=t.hasOwnProperty("translate"),i=t.hasOwnProperty("scale"),r=i&&t.scale.x||1,n=i&&t.scale.y||1,o=e&&t.translate.x||0,a=e&&t.translate.y||0,l=e&&t.translate.z||0,c=t.rotation||0,d=e&&t.translate.hasOwnProperty("z"),m;if(d){let f=[Math.cos(c)/r,-Math.sin(c),0,o,Math.sin(c),Math.cos(c)/n,0,a,0,0,1,l,0,0,0,1];m=`matrix3d(${f[0]}, ${f[4]}, ${f[8]}, ${f[12]}, ${f[1]}, ${f[5]}, ${f[9]}, ${f[13]}, ${f[2]}, ${f[6]}, ${f[10]}, ${f[14]}, ${f[3]}, ${f[7]}, ${f[11]}, ${f[15]})`}else{let f=[Math.cos(c)/r,-Math.sin(c),o,Math.sin(c),Math.cos(c)/n,a,0,0,1];m=`matrix(${f[0]}, ${f[3]}, ${f[1]}, ${f[4]}, ${f[2]}, ${f[5]})`}return m},Xh=(t=0,e=0,i=0,r=0,n=0,o=0,a=!1)=>{var l=Math.acos,c=Math.atan,d=Math.sqrt,m=Math.PI,f={x:n,y:o},v=0,b={x:1,y:1},_={x:0,y:0},E=t*r-e*i;if(a)t?(_={x:c(i/t),y:c(e/t)},b={x:t,y:E/t}):e?(v=m*.5,b={x:e,y:E/e},_.x=c(r/e)):(b={x:i,y:r},_.x=m*.25);else if(t||e){var C=d(t*t+e*e);v=e>0?l(t/C):-l(t/C),b={x:C,y:E/C},_.x=c((t*i+e*r)/(C*C))}else if(i||r){var I=d(i*i+r*r);v=m*.5-(r>0?l(-i/I):-l(i/I)),b={x:E/I,y:I},_.y=c((t*i+e*r)/(I*I))}else b={x:0,y:0};return{scale:b,translate:f,rotation:v,skew:_}},Qt=(t,e)=>{t=t?.toString()||"",t=t.replace(/^\.(\d+)/,"0.$1");let i=t.replace(/[^\d.-]/g,""),r=t.replace(i+"","").trim();return i=parseFloat(i),r===""&&e!==void 0?r=e:(r.indexOf("var(")>-1||r.indexOf("calc(")>-1)&&(i="",r=t),[i,r]},sb=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,ab=t=>t>=1?1:-(Math.cos(Math.PI*t)-1)/2,lb=t=>1-Math.pow(-1*t+1,3),i9=t=>Math.pow(t,3),r9=t=>1-Math.pow(-1*t+1,4),n9=t=>Math.pow(t,4),o9=t=>t===1?1:1-Math.pow(2,-10*t),s9=t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,st=t=>{let e={},i=r=>{r.forEach(n=>{if(n.type=="color"&&n.tabs?n.tabs.forEach(o=>{e[o.name]=o.value}):n.type=="checkbox-color"&&i([n.checkbox,n.color]),n.value!=null&&n.value!=null){e[n.name]={value:n.value},n.values&&(n.type==="radio"||n.type==="select")&&(e[n.name].values=n.values.map(a=>a.value)),e[n.name].type=n.type,n.excludeFromShuffle!==void 0&&(e[n.name].excludeFromShuffle=n.excludeFromShuffle);let o;n.defaultUnit!==void 0&&(o=e.unit=n.defaultUnit),n.min!==void 0&&(typeof n.min=="object"?e[n.name].min=n.min[o]??n.min.etc??0:e[n.name].min=n.min),n.max!==void 0&&(typeof n.max=="object"?e[n.name].max=n.max[o]??n.max.etc??0:e[n.name].max=n.max),typeof n.step=="object"?e[n.name].step=n.step[o]??n.step.etc??1:e[n.name].step=n.step,n.inheritsFrom&&(e[n.name].inheritsFrom=n.inheritsFrom),n.unit&&(e[n.name].unit=n.unit)}n.toggle&&i([n.toggle]),n.children&&i(n.children)})};return i(t),e},a9=(t,e={width:250})=>{let i=null,r=null,n=t.toLowerCase();if(n.endsWith(".mov")||n.endsWith(".mp4")||n.endsWith(".webm"))return{fileType:"video",oembedURL:null,id:null};if(n.endsWith(".png")||n.endsWith(".webp")||n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".gif")||n.endsWith(".avif")||n.endsWith(".apng")||n.endsWith(".svg"))return{fileType:"image",oembedURL:null,id:null};i="url";var o="",a="",l="",c=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,f=t.match(c);if(f&&f[0]){let v=f[0].split(/\/|\?h=|&|\?/);for(var d=0;d<v.length;d++)!v[d].includes(":")&&!v[d].includes(".")&&!v[d].includes("vimeo")&&!v[d].includes("=")&&!v[d].includes("video")&&!v[d].includes("showcase")&&!v[d].includes("player")&&v[d].length>3&&(o.length==0?o=v[d]:o+="/"+v[d]);i="vimeo",r="https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+o+"&width="+e.width}var m=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,f=t.match(m);return f&&f[7].length==11&&(o=f[7],i="youtube",o?r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+o:r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+(t.indexOf("?")>-1?t.split("?")[0]:t)),{fileType:i,oembedURL:r,id:o}},l9=(...t)=>{let e=t.filter(Boolean);return e.length?e.length===0?e[0]:i=>{for(let r of e)typeof r=="function"?r(i):r&&(r.current=i)}:null},u9=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.width)-((parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0)):parseFloat(e.width)},c9=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.height)-((parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)):parseFloat(e.height)},qa=(t,e)=>{var i=t&&(e(t)?t:qa(t.parentNode,e));return i||null},d9=(t,e,i)=>t>i?i:t<e?e:t,p9=t=>{let e=new Date,i=new Date(t);if(isNaN(i.getTime()))return!1;let r=i.getTime()-e.getTime();return Math.floor(r/(1e3*60*60*24))<=15},h9=t=>(t=Zh.default.filter(t,e=>{var i=e.getAttribute("href");return!(i&&(i===""||i=="#"||i.indexOf("mailto:")==0||i.indexOf("tel:")==0))}),t),f9=t=>{if(!t)return[null,null];let e=/(\.[^.]+)$/,i=t.match(e);if(i){let r=i[1],n=t.slice(0,-r.length);return[r,n]}else return[null,t]},m9=t=>{if(!t)return!0;let e=new Date(t),i=Math.floor(e.getTime()/1e3),n=Math.floor(Date.now()/1e3)-15*24*60*60;return i>=n},ub=(t,e,i)=>{let r=t.pages.byId[i],n=e.getHomepageId(t),o=e.getHiddenHomepageId(t),a=t.sets.byId[Zh.default.findKey(t.structure.byParent,d=>d.includes(n))],l=t.sets.byId[Zh.default.findKey(t.structure.byParent,d=>d.includes(i))],c=i;if(t.sets.byId.root?.stack===!0)r?.display===!1?c=r.id:c=l?.id||"root";else if(r){if(r.pin||r.overlay||l?.stack)if(c=l?.id,(r.pin||r.overlay)&&l?.stack===!1){if(l?.id===a?.id&&(c="root"),l.page_count>=1){let d=t.structure.byParent[l.id]?.filter(m=>t.structure.indexById[m]!==null&&t.sets.byId[m]===void 0&&t.pages.byId[m]?.password_enabled!==!0&&m!==o).sort((m,f)=>t.structure.bySort[m]-t.structure.bySort[f]);d.length>0&&(d.includes(n)?c=n:c=d[0])}}else r?.display===!1&&l?.stack===!0&&(c=r.id);else c=r.id;c==="root"&&n&&(c=n)}return c},g9=(t=!0,e=!1)=>{if(ne)return;document.querySelectorAll("html, body, #templates, #siteslist").forEach(r=>{if(r.scrollHeight>r.clientHeight)if(t){if(e&&(r.dataset.scrollPos=r.scrollTop),r.style.overflow==="hidden")return;!r.dataset.originalOverflow&&r.style.overflow!==""&&(r.dataset.originalOverflow=r.style.overflow),r.style.overflow="hidden"}else{if(r.dataset.originalOverflow!==void 0)r.style.overflow=r.dataset.originalOverflow,delete r.dataset.originalOverflow;else{if(r.style.overflow!=="hidden")return;r.style.removeProperty("overflow")}e||delete r.dataset.scrollPos,r.dataset.scrollPos!==void 0&&requestAnimationFrame(()=>{r.scrollTop=r.dataset.scrollPos})}else r.style.overflow=="hidden"&&!t&&(r.style.overflow=null)})},v9=(t,e=!0)=>{let i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(!t)return;let r=new Date(t),n=r.getDate(),o=parseInt(r.getMonth()),a=i[o],l=r.getFullYear(),c=r.getHours()%12===0?12:r.getHours()%12,d=r.getMinutes().toString().match(/\d/g).length===1?"0"+r.getMinutes():r.getMinutes(),m="0"+r.getSeconds(),f=r.getHours()>=12?"pm":"am",v=new Date().setHours(0,0,0,0),b=v-864e5,_=null;return t>=v&&(_="today"),t<=v&&t>=b&&(_="yesterday"),e?_!==null?_+", "+c+":"+d+f:a+" "+n+" "+l+", "+c+":"+d+f:(l=l.toString().slice(2),a+" "+n+" \u2018"+l)},y9=t=>{if(!isNaN(Number(t))&&Number(t)>1e9)return Math.floor(Number(t));typeof t=="string"&&t.includes(".")&&(t=t.split(".")[0]+"Z");let e=new Date(t);return isNaN(e.getTime())?(console.warn("Invalid timestamp format"),0):Math.floor(e.getTime()/1e3)},b9=t=>/^(?=.*[a-z0-9])[a-z0-9\s]+$/i.test(t),w9=t=>{if(t==null)return null;let e=new Date(t);return isNaN(e.getTime())?(console.error("Invalid date format:",t),t):`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${e.getDate()} ${e.getFullYear()}`},x9=t=>{let e={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},[i,r,n]=t.split(" ");if(!e[i])throw new Error(`Invalid month abbreviation: "${i}"`);let o=r.padStart(2,"0"),a=parseInt(n,10);return`${n.length===2?2e3+a:a}-${e[i]}-${o}`}});var cb=V((Ude,wP)=>{"use strict";wP.exports=function(e,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(i,n)}}});var Hi=V((Bde,_P)=>{"use strict";var S9=cb(),pb=Object.prototype.toString,hb=function(t){return function(e){var i=pb.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function Ua(t){return t=t.toLowerCase(),function(i){return hb(i)===t}}function fb(t){return Array.isArray(t)}function tf(t){return typeof t>"u"}function _9(t){return t!==null&&!tf(t)&&t.constructor!==null&&!tf(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var xP=Ua("ArrayBuffer");function E9(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xP(t.buffer),e}function C9(t){return typeof t=="string"}function P9(t){return typeof t=="number"}function SP(t){return t!==null&&typeof t=="object"}function ef(t){if(hb(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var I9=Ua("Date"),A9=Ua("File"),T9=Ua("Blob"),M9=Ua("FileList");function mb(t){return pb.call(t)==="[object Function]"}function R9(t){return SP(t)&&mb(t.pipe)}function k9(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||pb.call(t)===e||mb(t.toString)&&t.toString()===e)}var N9=Ua("URLSearchParams");function O9(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function D9(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function gb(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),fb(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function db(){var t={};function e(n,o){ef(t[o])&&ef(n)?t[o]=db(t[o],n):ef(n)?t[o]=db({},n):fb(n)?t[o]=n.slice():t[o]=n}for(var i=0,r=arguments.length;i<r;i++)gb(arguments[i],e);return t}function L9(t,e,i){return gb(e,function(n,o){i&&typeof n=="function"?t[o]=S9(n,i):t[o]=n}),t}function F9(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function z9(t,e,i,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,i&&Object.assign(t.prototype,i)}function H9(t,e,i){var r,n,o,a={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),n=r.length;n-- >0;)o=r[n],a[o]||(e[o]=t[o],a[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e}function q9(t,e,i){t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;var r=t.indexOf(e,i);return r!==-1&&r===i}function U9(t){if(!t)return null;var e=t.length;if(tf(e))return null;for(var i=new Array(e);e-- >0;)i[e]=t[e];return i}var B9=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));_P.exports={isArray:fb,isArrayBuffer:xP,isBuffer:_9,isFormData:k9,isArrayBufferView:E9,isString:C9,isNumber:P9,isObject:SP,isPlainObject:ef,isUndefined:tf,isDate:I9,isFile:A9,isBlob:T9,isFunction:mb,isStream:R9,isURLSearchParams:N9,isStandardBrowserEnv:D9,forEach:gb,merge:db,extend:L9,trim:O9,stripBOM:F9,inherits:z9,toFlatObject:H9,kindOf:hb,kindOfTest:Ua,endsWith:q9,toArray:U9,isTypedArray:B9,isFileList:M9}});var vb=V((Wde,CP)=>{"use strict";var $l=Hi();function EP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}CP.exports=function(e,i,r){if(!i)return e;var n;if(r)n=r(i);else if($l.isURLSearchParams(i))n=i.toString();else{var o=[];$l.forEach(i,function(c,d){c===null||typeof c>"u"||($l.isArray(c)?d=d+"[]":c=[c],$l.forEach(c,function(f){$l.isDate(f)?f=f.toISOString():$l.isObject(f)&&(f=JSON.stringify(f)),o.push(EP(d)+"="+EP(f))}))}),n=o.join("&")}if(n){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var IP=V((Vde,PP)=>{"use strict";var W9=Hi();function rf(){this.handlers=[]}rf.prototype.use=function(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};rf.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};rf.prototype.forEach=function(e){W9.forEach(this.handlers,function(r){r!==null&&e(r)})};PP.exports=rf});var TP=V(($de,AP)=>{"use strict";var V9=Hi();AP.exports=function(e,i){V9.forEach(e,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(e[i]=n,delete e[o])})}});var Ba=V((jde,NP)=>{"use strict";var MP=Hi();function jl(t,e,i,r,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}MP.inherits(jl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var RP=jl.prototype,kP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){kP[t]={value:t}});Object.defineProperties(jl,kP);Object.defineProperty(RP,"isAxiosError",{value:!0});jl.from=function(t,e,i,r,n,o){var a=Object.create(RP);return MP.toFlatObject(t,a,function(c){return c!==Error.prototype}),jl.call(a,t.message,e,i,r,n),a.name=t.name,o&&Object.assign(a,o),a};NP.exports=jl});var yb=V((Gde,OP)=>{"use strict";OP.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var bb=V((Kde,DP)=>{"use strict";var Vn=Hi();function $9(t,e){e=e||new FormData;var i=[];function r(o){return o===null?"":Vn.isDate(o)?o.toISOString():Vn.isArrayBuffer(o)||Vn.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function n(o,a){if(Vn.isPlainObject(o)||Vn.isArray(o)){if(i.indexOf(o)!==-1)throw Error("Circular reference detected in "+a);i.push(o),Vn.forEach(o,function(c,d){if(!Vn.isUndefined(c)){var m=a?a+"."+d:d,f;if(c&&!a&&typeof c=="object"){if(Vn.endsWith(d,"{}"))c=JSON.stringify(c);else if(Vn.endsWith(d,"[]")&&(f=Vn.toArray(c))){f.forEach(function(v){!Vn.isUndefined(v)&&e.append(m,r(v))});return}}n(c,m)}}),i.pop()}else e.append(a,r(o))}return n(t),e}DP.exports=$9});var FP=V((Yde,LP)=>{"use strict";var wb=Ba();LP.exports=function(e,i,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):i(new wb("Request failed with status code "+r.status,[wb.ERR_BAD_REQUEST,wb.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}});var HP=V((Xde,zP)=>{"use strict";var nf=Hi();zP.exports=nf.isStandardBrowserEnv()?function(){return{write:function(i,r,n,o,a,l){var c=[];c.push(i+"="+encodeURIComponent(r)),nf.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),nf.isString(o)&&c.push("path="+o),nf.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var UP=V((Zde,qP)=>{"use strict";qP.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var WP=V((Jde,BP)=>{"use strict";BP.exports=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}});var xb=V((Qde,VP)=>{"use strict";var j9=UP(),G9=WP();VP.exports=function(e,i){return e&&!j9(i)?G9(e,i):i}});var jP=V((epe,$P)=>{"use strict";var Sb=Hi(),K9=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];$P.exports=function(e){var i={},r,n,o;return e&&Sb.forEach(e.split(`
`),function(l){if(o=l.indexOf(":"),r=Sb.trim(l.substr(0,o)).toLowerCase(),n=Sb.trim(l.substr(o+1)),r){if(i[r]&&K9.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([n]):i[r]=i[r]?i[r]+", "+n:n}}),i}});var YP=V((tpe,KP)=>{"use strict";var GP=Hi();KP.exports=GP.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function n(o){var a=o;return e&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(a){var l=GP.isString(a)?n(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}()});var dd=V((ipe,ZP)=>{"use strict";var _b=Ba(),Y9=Hi();function XP(t){_b.call(this,t??"canceled",_b.ERR_CANCELED),this.name="CanceledError"}Y9.inherits(XP,_b,{__CANCEL__:!0});ZP.exports=XP});var QP=V((rpe,JP)=>{"use strict";JP.exports=function(e){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}});var Eb=V((npe,eI)=>{"use strict";var pd=Hi(),X9=FP(),Z9=HP(),J9=vb(),Q9=xb(),e8=jP(),t8=YP(),i8=yb(),rs=Ba(),r8=dd(),n8=QP();eI.exports=function(e){return new Promise(function(r,n){var o=e.data,a=e.headers,l=e.responseType,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}pd.isFormData(o)&&pd.isStandardBrowserEnv()&&delete a["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.Authorization="Basic "+btoa(f+":"+v)}var b=Q9(e.baseURL,e.url);m.open(e.method.toUpperCase(),J9(b,e.params,e.paramsSerializer),!0),m.timeout=e.timeout;function _(){if(m){var I="getAllResponseHeaders"in m?e8(m.getAllResponseHeaders()):null,N=!l||l==="text"||l==="json"?m.responseText:m.response,D={data:N,status:m.status,statusText:m.statusText,headers:I,config:e,request:m};X9(function(z){r(z),d()},function(z){n(z),d()},D),m=null}}if("onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(_)},m.onabort=function(){m&&(n(new rs("Request aborted",rs.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new rs("Network Error",rs.ERR_NETWORK,e,m,m)),m=null},m.ontimeout=function(){var N=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",D=e.transitional||i8;e.timeoutErrorMessage&&(N=e.timeoutErrorMessage),n(new rs(N,D.clarifyTimeoutError?rs.ETIMEDOUT:rs.ECONNABORTED,e,m)),m=null},pd.isStandardBrowserEnv()){var E=(e.withCredentials||t8(b))&&e.xsrfCookieName?Z9.read(e.xsrfCookieName):void 0;E&&(a[e.xsrfHeaderName]=E)}"setRequestHeader"in m&&pd.forEach(a,function(N,D){typeof o>"u"&&D.toLowerCase()==="content-type"?delete a[D]:m.setRequestHeader(D,N)}),pd.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),l&&l!=="json"&&(m.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&m.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(I){m&&(n(!I||I&&I.type?new r8:I),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),o||(o=null);var C=n8(b);if(C&&["http","https","file"].indexOf(C)===-1){n(new rs("Unsupported protocol "+C+":",rs.ERR_BAD_REQUEST,e));return}m.send(o)})}});var iI=V((ope,tI)=>{tI.exports=null});var sf=V((spe,sI)=>{"use strict";var qi=Hi(),rI=TP(),nI=Ba(),o8=yb(),s8=bb(),a8={"Content-Type":"application/x-www-form-urlencoded"};function oI(t,e){!qi.isUndefined(t)&&qi.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function l8(){var t;return typeof XMLHttpRequest<"u"?t=Eb():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=Eb()),t}function u8(t,e,i){if(qi.isString(t))try{return(e||JSON.parse)(t),qi.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(t)}var of={transitional:o8,adapter:l8(),transformRequest:[function(e,i){if(rI(i,"Accept"),rI(i,"Content-Type"),qi.isFormData(e)||qi.isArrayBuffer(e)||qi.isBuffer(e)||qi.isStream(e)||qi.isFile(e)||qi.isBlob(e))return e;if(qi.isArrayBufferView(e))return e.buffer;if(qi.isURLSearchParams(e))return oI(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=qi.isObject(e),n=i&&i["Content-Type"],o;if((o=qi.isFileList(e))||r&&n==="multipart/form-data"){var a=this.env&&this.env.FormData;return s8(o?{"files[]":e}:e,a&&new a)}else if(r||n==="application/json")return oI(i,"application/json"),u8(e);return e}],transformResponse:[function(e){var i=this.transitional||of.transitional,r=i&&i.silentJSONParsing,n=i&&i.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||n&&qi.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?nI.from(a,nI.ERR_BAD_RESPONSE,this,null,this.response):a}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:iI()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};qi.forEach(["delete","get","head"],function(e){of.headers[e]={}});qi.forEach(["post","put","patch"],function(e){of.headers[e]=qi.merge(a8)});sI.exports=of});var lI=V((ape,aI)=>{"use strict";var c8=Hi(),d8=sf();aI.exports=function(e,i,r){var n=this||d8;return c8.forEach(r,function(a){e=a.call(n,e,i)}),e}});var Cb=V((lpe,uI)=>{"use strict";uI.exports=function(e){return!!(e&&e.__CANCEL__)}});var pI=V((upe,dI)=>{"use strict";var cI=Hi(),Pb=lI(),p8=Cb(),h8=sf(),f8=dd();function Ib(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new f8}dI.exports=function(e){Ib(e),e.headers=e.headers||{},e.data=Pb.call(e,e.data,e.headers,e.transformRequest),e.headers=cI.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),cI.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var i=e.adapter||h8.adapter;return i(e).then(function(n){return Ib(e),n.data=Pb.call(e,n.data,n.headers,e.transformResponse),n},function(n){return p8(n)||(Ib(e),n&&n.response&&(n.response.data=Pb.call(e,n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var Ab=V((cpe,hI)=>{"use strict";var an=Hi();hI.exports=function(e,i){i=i||{};var r={};function n(m,f){return an.isPlainObject(m)&&an.isPlainObject(f)?an.merge(m,f):an.isPlainObject(f)?an.merge({},f):an.isArray(f)?f.slice():f}function o(m){if(an.isUndefined(i[m])){if(!an.isUndefined(e[m]))return n(void 0,e[m])}else return n(e[m],i[m])}function a(m){if(!an.isUndefined(i[m]))return n(void 0,i[m])}function l(m){if(an.isUndefined(i[m])){if(!an.isUndefined(e[m]))return n(void 0,e[m])}else return n(void 0,i[m])}function c(m){if(m in i)return n(e[m],i[m]);if(m in e)return n(void 0,e[m])}var d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c};return an.forEach(Object.keys(e).concat(Object.keys(i)),function(f){var v=d[f]||o,b=v(f);an.isUndefined(b)&&v!==c||(r[f]=b)}),r}});var Tb=V((dpe,fI)=>{fI.exports={version:"0.27.2"}});var vI=V((ppe,gI)=>{"use strict";var m8=Tb().version,qs=Ba(),Mb={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Mb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var mI={};Mb.transitional=function(e,i,r){function n(o,a){return"[Axios v"+m8+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return function(o,a,l){if(e===!1)throw new qs(n(a," has been removed"+(i?" in "+i:"")),qs.ERR_DEPRECATED);return i&&!mI[a]&&(mI[a]=!0,console.warn(n(a," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(o,a,l):!0}};function g8(t,e,i){if(typeof t!="object")throw new qs("options must be an object",qs.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),n=r.length;n-- >0;){var o=r[n],a=e[o];if(a){var l=t[o],c=l===void 0||a(l,o,t);if(c!==!0)throw new qs("option "+o+" must be "+c,qs.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new qs("Unknown option "+o,qs.ERR_BAD_OPTION)}}gI.exports={assertOptions:g8,validators:Mb}});var _I=V((hpe,SI)=>{"use strict";var wI=Hi(),v8=vb(),yI=IP(),bI=pI(),af=Ab(),y8=xb(),xI=vI(),Gl=xI.validators;function Kl(t){this.defaults=t,this.interceptors={request:new yI,response:new yI}}Kl.prototype.request=function(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=af(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var r=i.transitional;r!==void 0&&xI.assertOptions(r,{silentJSONParsing:Gl.transitional(Gl.boolean),forcedJSONParsing:Gl.transitional(Gl.boolean),clarifyTimeoutError:Gl.transitional(Gl.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(i)===!1||(o=o&&b.synchronous,n.unshift(b.fulfilled,b.rejected))});var a=[];this.interceptors.response.forEach(function(b){a.push(b.fulfilled,b.rejected)});var l;if(!o){var c=[bI,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(a),l=Promise.resolve(i);c.length;)l=l.then(c.shift(),c.shift());return l}for(var d=i;n.length;){var m=n.shift(),f=n.shift();try{d=m(d)}catch(v){f(v);break}}try{l=bI(d)}catch(v){return Promise.reject(v)}for(;a.length;)l=l.then(a.shift(),a.shift());return l};Kl.prototype.getUri=function(e){e=af(this.defaults,e);var i=y8(e.baseURL,e.url);return v8(i,e.params,e.paramsSerializer)};wI.forEach(["delete","get","head","options"],function(e){Kl.prototype[e]=function(i,r){return this.request(af(r||{},{method:e,url:i,data:(r||{}).data}))}});wI.forEach(["post","put","patch"],function(e){function i(r){return function(o,a,l){return this.request(af(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Kl.prototype[e]=i(),Kl.prototype[e+"Form"]=i(!0)});SI.exports=Kl});var CI=V((fpe,EI)=>{"use strict";var b8=dd();function Yl(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var i=this;this.promise.then(function(r){if(i._listeners){var n,o=i._listeners.length;for(n=0;n<o;n++)i._listeners[n](r);i._listeners=null}}),this.promise.then=function(r){var n,o=new Promise(function(a){i.subscribe(a),n=a}).then(r);return o.cancel=function(){i.unsubscribe(n)},o},t(function(n){i.reason||(i.reason=new b8(n),e(i.reason))})}Yl.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Yl.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Yl.prototype.unsubscribe=function(e){if(this._listeners){var i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}};Yl.source=function(){var e,i=new Yl(function(n){e=n});return{token:i,cancel:e}};EI.exports=Yl});var II=V((mpe,PI)=>{"use strict";PI.exports=function(e){return function(r){return e.apply(null,r)}}});var TI=V((gpe,AI)=>{"use strict";var w8=Hi();AI.exports=function(e){return w8.isObject(e)&&e.isAxiosError===!0}});var kI=V((vpe,Rb)=>{"use strict";var MI=Hi(),x8=cb(),lf=_I(),S8=Ab(),_8=sf();function RI(t){var e=new lf(t),i=x8(lf.prototype.request,e);return MI.extend(i,lf.prototype,e),MI.extend(i,e),i.create=function(n){return RI(S8(t,n))},i}var Br=RI(_8);Br.Axios=lf;Br.CanceledError=dd();Br.CancelToken=CI();Br.isCancel=Cb();Br.VERSION=Tb().version;Br.toFormData=bb();Br.AxiosError=Ba();Br.Cancel=Br.CanceledError;Br.all=function(e){return Promise.all(e)};Br.spread=II();Br.isAxiosError=TI();Rb.exports=Br;Rb.exports.default=Br});var En=V((ype,NI)=>{NI.exports=kI()});function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}var kb=M(()=>{});function Nb(t,e){if(Us(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OI=M(()=>{kb()});function Ob(t){var e=Nb(t,"string");return Us(e)=="symbol"?e:String(e)}var DI=M(()=>{kb();OI()});function Db(t,e,i){return e=Ob(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var LI=M(()=>{DI()});function FI(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function uf(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(i),!0).forEach(function(r){Db(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):FI(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var zI=M(()=>{LI()});var UI={};si(UI,{__DO_NOT_USE__ActionTypes:()=>hd,applyMiddleware:()=>Fb,bindActionCreators:()=>It,combineReducers:()=>$n,compose:()=>cf,createStore:()=>fd,legacy_createStore:()=>C8});function ir(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}function E8(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function fd(t,e,i){var r;if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(ir(1));return i(fd)(t,e)}if(typeof t!="function")throw new Error(ir(2));var n=t,o=e,a=[],l=a,c=!1;function d(){l===a&&(l=a.slice())}function m(){if(c)throw new Error(ir(3));return o}function f(E){if(typeof E!="function")throw new Error(ir(4));if(c)throw new Error(ir(5));var C=!0;return d(),l.push(E),function(){if(C){if(c)throw new Error(ir(6));C=!1,d();var N=l.indexOf(E);l.splice(N,1),a=null}}}function v(E){if(!E8(E))throw new Error(ir(7));if(typeof E.type>"u")throw new Error(ir(8));if(c)throw new Error(ir(9));try{c=!0,o=n(o,E)}finally{c=!1}for(var C=a=l,I=0;I<C.length;I++){var N=C[I];N()}return E}function b(E){if(typeof E!="function")throw new Error(ir(10));n=E,v({type:hd.REPLACE})}function _(){var E,C=f;return E={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(ir(11));function D(){N.next&&N.next(m())}D();var F=C(D);return{unsubscribe:F}}},E[HI]=function(){return this},E}return v({type:hd.INIT}),r={dispatch:v,subscribe:f,getState:m,replaceReducer:b},r[HI]=_,r}function P8(t){Object.keys(t).forEach(function(e){var i=t[e],r=i(void 0,{type:hd.INIT});if(typeof r>"u")throw new Error(ir(12));if(typeof i(void 0,{type:hd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function $n(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++){var n=e[r];typeof t[n]=="function"&&(i[n]=t[n])}var o=Object.keys(i),a,l;try{P8(i)}catch(c){l=c}return function(d,m){if(d===void 0&&(d={}),l)throw l;if(0)var f;for(var v=!1,b={},_=0;_<o.length;_++){var E=o[_],C=i[E],I=d[E],N=C(I,m);if(typeof N>"u"){var D=m&&m.type;throw new Error(ir(14))}b[E]=N,v=v||N!==I}return v=v||o.length!==Object.keys(d).length,v?b:d}}function qI(t,e){return function(){return e(t.apply(this,arguments))}}function It(t,e){if(typeof t=="function")return qI(t,e);if(typeof t!="object"||t===null)throw new Error(ir(16));var i={};for(var r in t){var n=t[r];typeof n=="function"&&(i[r]=qI(n,e))}return i}function cf(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,n){return function(){return r(n.apply(void 0,arguments))}})}function Fb(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return function(){var n=r.apply(void 0,arguments),o=function(){throw new Error(ir(15))},a={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=e.map(function(c){return c(a)});return o=cf.apply(void 0,l)(n.dispatch),uf(uf({},n),{},{dispatch:o})}}}var HI,Lb,hd,C8,di=M(()=>{zI();HI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Lb=function(){return Math.random().toString(36).substring(7).split("").join(".")},hd={INIT:"@@redux/INIT"+Lb(),REPLACE:"@@redux/REPLACE"+Lb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Lb()}};C8=fd});var zb=V(jn=>{"use strict";jn.__esModule=!0;jn.createDynamicMiddlewares=jn.resetMiddlewares=jn.removeMiddleware=jn.addMiddleware=void 0;var I8=(di(),Dc(UI)),BI=function(){var e=[],i=[],r=void 0,n=function(d){return r=d,function(m){return function(f){return I8.compose.apply(void 0,i)(m)(f)}}},o=function(){for(var d,m,f=arguments.length,v=Array(f),b=0;b<f;b++)v[b]=arguments[b];(d=i).push.apply(d,v.map(function(_){return _(r)})),(m=e).push.apply(m,v)},a=function(d){var m=e.findIndex(function(f){return f===d});if(m===-1){console.error("Middleware does not exist!",d);return}e=e.filter(function(f,v){return v!==m}),i=i.filter(function(f,v){return v!==m})},l=function(){i=[],e=[]};return{enhancer:n,addMiddleware:o,removeMiddleware:a,resetMiddlewares:l}},df=BI();jn.default=df.enhancer;var A8=df.addMiddleware,T8=df.removeMiddleware,M8=df.resetMiddlewares;jn.addMiddleware=A8;jn.removeMiddleware=T8;jn.resetMiddlewares=M8;jn.createDynamicMiddlewares=BI});function WI(t){var e=function(r){var n=r.dispatch,o=r.getState;return function(a){return function(l){return typeof l=="function"?l(n,o,t):a(l)}}};return e}var VI,$I,jI=M(()=>{VI=WI();VI.withExtraArgument=WI;$I=VI});var KI=V((kpe,GI)=>{function R8(){this.__data__=[],this.size=0}GI.exports=R8});var Xl=V((Npe,YI)=>{function k8(t,e){return t===e||t!==t&&e!==e}YI.exports=k8});var md=V((Ope,XI)=>{var N8=Xl();function O8(t,e){for(var i=t.length;i--;)if(N8(t[i][0],e))return i;return-1}XI.exports=O8});var JI=V((Dpe,ZI)=>{var D8=md(),L8=Array.prototype,F8=L8.splice;function z8(t){var e=this.__data__,i=D8(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():F8.call(e,i,1),--this.size,!0}ZI.exports=z8});var eA=V((Lpe,QI)=>{var H8=md();function q8(t){var e=this.__data__,i=H8(e,t);return i<0?void 0:e[i][1]}QI.exports=q8});var iA=V((Fpe,tA)=>{var U8=md();function B8(t){return U8(this.__data__,t)>-1}tA.exports=B8});var nA=V((zpe,rA)=>{var W8=md();function V8(t,e){var i=this.__data__,r=W8(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}rA.exports=V8});var gd=V((Hpe,oA)=>{var $8=KI(),j8=JI(),G8=eA(),K8=iA(),Y8=nA();function Zl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Zl.prototype.clear=$8;Zl.prototype.delete=j8;Zl.prototype.get=G8;Zl.prototype.has=K8;Zl.prototype.set=Y8;oA.exports=Zl});var aA=V((qpe,sA)=>{var X8=gd();function Z8(){this.__data__=new X8,this.size=0}sA.exports=Z8});var uA=V((Upe,lA)=>{function J8(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}lA.exports=J8});var dA=V((Bpe,cA)=>{function Q8(t){return this.__data__.get(t)}cA.exports=Q8});var hA=V((Wpe,pA)=>{function ej(t){return this.__data__.has(t)}pA.exports=ej});var Hb=V((Vpe,fA)=>{var tj=typeof global=="object"&&global&&global.Object===Object&&global;fA.exports=tj});var Gn=V(($pe,mA)=>{var ij=Hb(),rj=typeof self=="object"&&self&&self.Object===Object&&self,nj=ij||rj||Function("return this")();mA.exports=nj});var vd=V((jpe,gA)=>{var oj=Gn(),sj=oj.Symbol;gA.exports=sj});var wA=V((Gpe,bA)=>{var vA=vd(),yA=Object.prototype,aj=yA.hasOwnProperty,lj=yA.toString,yd=vA?vA.toStringTag:void 0;function uj(t){var e=aj.call(t,yd),i=t[yd];try{t[yd]=void 0;var r=!0}catch{}var n=lj.call(t);return r&&(e?t[yd]=i:delete t[yd]),n}bA.exports=uj});var SA=V((Kpe,xA)=>{var cj=Object.prototype,dj=cj.toString;function pj(t){return dj.call(t)}xA.exports=pj});var Wa=V((Ype,CA)=>{var _A=vd(),hj=wA(),fj=SA(),mj="[object Null]",gj="[object Undefined]",EA=_A?_A.toStringTag:void 0;function vj(t){return t==null?t===void 0?gj:mj:EA&&EA in Object(t)?hj(t):fj(t)}CA.exports=vj});var yo=V((Xpe,PA)=>{function yj(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}PA.exports=yj});var pf=V((Zpe,IA)=>{var bj=Wa(),wj=yo(),xj="[object AsyncFunction]",Sj="[object Function]",_j="[object GeneratorFunction]",Ej="[object Proxy]";function Cj(t){if(!wj(t))return!1;var e=bj(t);return e==Sj||e==_j||e==xj||e==Ej}IA.exports=Cj});var TA=V((Jpe,AA)=>{var Pj=Gn(),Ij=Pj["__core-js_shared__"];AA.exports=Ij});var kA=V((Qpe,RA)=>{var qb=TA(),MA=function(){var t=/[^.]+$/.exec(qb&&qb.keys&&qb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Aj(t){return!!MA&&MA in t}RA.exports=Aj});var Ub=V((ehe,NA)=>{var Tj=Function.prototype,Mj=Tj.toString;function Rj(t){if(t!=null){try{return Mj.call(t)}catch{}try{return t+""}catch{}}return""}NA.exports=Rj});var DA=V((the,OA)=>{var kj=pf(),Nj=kA(),Oj=yo(),Dj=Ub(),Lj=/[\\^$.*+?()[\]{}|]/g,Fj=/^\[object .+?Constructor\]$/,zj=Function.prototype,Hj=Object.prototype,qj=zj.toString,Uj=Hj.hasOwnProperty,Bj=RegExp("^"+qj.call(Uj).replace(Lj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wj(t){if(!Oj(t)||Nj(t))return!1;var e=kj(t)?Bj:Fj;return e.test(Dj(t))}OA.exports=Wj});var FA=V((ihe,LA)=>{function Vj(t,e){return t?.[e]}LA.exports=Vj});var Bs=V((rhe,zA)=>{var $j=DA(),jj=FA();function Gj(t,e){var i=jj(t,e);return $j(i)?i:void 0}zA.exports=Gj});var hf=V((nhe,HA)=>{var Kj=Bs(),Yj=Gn(),Xj=Kj(Yj,"Map");HA.exports=Xj});var bd=V((ohe,qA)=>{var Zj=Bs(),Jj=Zj(Object,"create");qA.exports=Jj});var WA=V((she,BA)=>{var UA=bd();function Qj(){this.__data__=UA?UA(null):{},this.size=0}BA.exports=Qj});var $A=V((ahe,VA)=>{function e7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}VA.exports=e7});var GA=V((lhe,jA)=>{var t7=bd(),i7="__lodash_hash_undefined__",r7=Object.prototype,n7=r7.hasOwnProperty;function o7(t){var e=this.__data__;if(t7){var i=e[t];return i===i7?void 0:i}return n7.call(e,t)?e[t]:void 0}jA.exports=o7});var YA=V((uhe,KA)=>{var s7=bd(),a7=Object.prototype,l7=a7.hasOwnProperty;function u7(t){var e=this.__data__;return s7?e[t]!==void 0:l7.call(e,t)}KA.exports=u7});var ZA=V((che,XA)=>{var c7=bd(),d7="__lodash_hash_undefined__";function p7(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=c7&&e===void 0?d7:e,this}XA.exports=p7});var QA=V((dhe,JA)=>{var h7=WA(),f7=$A(),m7=GA(),g7=YA(),v7=ZA();function Jl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Jl.prototype.clear=h7;Jl.prototype.delete=f7;Jl.prototype.get=m7;Jl.prototype.has=g7;Jl.prototype.set=v7;JA.exports=Jl});var iT=V((phe,tT)=>{var eT=QA(),y7=gd(),b7=hf();function w7(){this.size=0,this.__data__={hash:new eT,map:new(b7||y7),string:new eT}}tT.exports=w7});var nT=V((hhe,rT)=>{function x7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}rT.exports=x7});var wd=V((fhe,oT)=>{var S7=nT();function _7(t,e){var i=t.__data__;return S7(e)?i[typeof e=="string"?"string":"hash"]:i.map}oT.exports=_7});var aT=V((mhe,sT)=>{var E7=wd();function C7(t){var e=E7(this,t).delete(t);return this.size-=e?1:0,e}sT.exports=C7});var uT=V((ghe,lT)=>{var P7=wd();function I7(t){return P7(this,t).get(t)}lT.exports=I7});var dT=V((vhe,cT)=>{var A7=wd();function T7(t){return A7(this,t).has(t)}cT.exports=T7});var hT=V((yhe,pT)=>{var M7=wd();function R7(t,e){var i=M7(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}pT.exports=R7});var ff=V((bhe,fT)=>{var k7=iT(),N7=aT(),O7=uT(),D7=dT(),L7=hT();function Ql(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Ql.prototype.clear=k7;Ql.prototype.delete=N7;Ql.prototype.get=O7;Ql.prototype.has=D7;Ql.prototype.set=L7;fT.exports=Ql});var gT=V((whe,mT)=>{var F7=gd(),z7=hf(),H7=ff(),q7=200;function U7(t,e){var i=this.__data__;if(i instanceof F7){var r=i.__data__;if(!z7||r.length<q7-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new H7(r)}return i.set(t,e),this.size=i.size,this}mT.exports=U7});var mf=V((xhe,vT)=>{var B7=gd(),W7=aA(),V7=uA(),$7=dA(),j7=hA(),G7=gT();function eu(t){var e=this.__data__=new B7(t);this.size=e.size}eu.prototype.clear=W7;eu.prototype.delete=V7;eu.prototype.get=$7;eu.prototype.has=j7;eu.prototype.set=G7;vT.exports=eu});var Bb=V((She,yT)=>{var K7=Bs(),Y7=function(){try{var t=K7(Object,"defineProperty");return t({},"",{}),t}catch{}}();yT.exports=Y7});var gf=V((_he,wT)=>{var bT=Bb();function X7(t,e,i){e=="__proto__"&&bT?bT(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}wT.exports=X7});var Wb=V((Ehe,xT)=>{var Z7=gf(),J7=Xl();function Q7(t,e,i){(i!==void 0&&!J7(t[e],i)||i===void 0&&!(e in t))&&Z7(t,e,i)}xT.exports=Q7});var _T=V((Che,ST)=>{function eG(t){return function(e,i,r){for(var n=-1,o=Object(e),a=r(e),l=a.length;l--;){var c=a[t?l:++n];if(i(o[c],c,o)===!1)break}return e}}ST.exports=eG});var CT=V((Phe,ET)=>{var tG=_T(),iG=tG();ET.exports=iG});var MT=V((xd,tu)=>{var rG=Gn(),TT=typeof xd=="object"&&xd&&!xd.nodeType&&xd,PT=TT&&typeof tu=="object"&&tu&&!tu.nodeType&&tu,nG=PT&&PT.exports===TT,IT=nG?rG.Buffer:void 0,AT=IT?IT.allocUnsafe:void 0;function oG(t,e){if(e)return t.slice();var i=t.length,r=AT?AT(i):new t.constructor(i);return t.copy(r),r}tu.exports=oG});var Vb=V((Ihe,RT)=>{var sG=Gn(),aG=sG.Uint8Array;RT.exports=aG});var OT=V((Ahe,NT)=>{var kT=Vb();function lG(t){var e=new t.constructor(t.byteLength);return new kT(e).set(new kT(t)),e}NT.exports=lG});var LT=V((The,DT)=>{var uG=OT();function cG(t,e){var i=e?uG(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}DT.exports=cG});var zT=V((Mhe,FT)=>{function dG(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}FT.exports=dG});var UT=V((Rhe,qT)=>{var pG=yo(),HT=Object.create,hG=function(){function t(){}return function(e){if(!pG(e))return{};if(HT)return HT(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();qT.exports=hG});var $b=V((khe,BT)=>{function fG(t,e){return function(i){return t(e(i))}}BT.exports=fG});var vf=V((Nhe,WT)=>{var mG=$b(),gG=mG(Object.getPrototypeOf,Object);WT.exports=gG});var yf=V((Ohe,VT)=>{var vG=Object.prototype;function yG(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||vG;return t===i}VT.exports=yG});var jT=V((Dhe,$T)=>{var bG=UT(),wG=vf(),xG=yf();function SG(t){return typeof t.constructor=="function"&&!xG(t)?bG(wG(t)):{}}$T.exports=SG});var Ws=V((Lhe,GT)=>{function _G(t){return t!=null&&typeof t=="object"}GT.exports=_G});var XT=V((Fhe,KT)=>{var EG=Wa(),CG=Ws(),PG="[object Arguments]";function IG(t){return CG(t)&&EG(t)==PG}KT.exports=IG});var bf=V((zhe,QT)=>{var ZT=XT(),AG=Ws(),JT=Object.prototype,TG=JT.hasOwnProperty,MG=JT.propertyIsEnumerable,RG=ZT(function(){return arguments}())?ZT:function(t){return AG(t)&&TG.call(t,"callee")&&!MG.call(t,"callee")};QT.exports=RG});var bo=V((Hhe,eM)=>{var kG=Array.isArray;eM.exports=kG});var wf=V((qhe,tM)=>{var NG=9007199254740991;function OG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=NG}tM.exports=OG});var Sd=V((Uhe,iM)=>{var DG=pf(),LG=wf();function FG(t){return t!=null&&LG(t.length)&&!DG(t)}iM.exports=FG});var nM=V((Bhe,rM)=>{var zG=Sd(),HG=Ws();function qG(t){return HG(t)&&zG(t)}rM.exports=qG});var sM=V((Whe,oM)=>{function UG(){return!1}oM.exports=UG});var xf=V((_d,iu)=>{var BG=Gn(),WG=sM(),uM=typeof _d=="object"&&_d&&!_d.nodeType&&_d,aM=uM&&typeof iu=="object"&&iu&&!iu.nodeType&&iu,VG=aM&&aM.exports===uM,lM=VG?BG.Buffer:void 0,$G=lM?lM.isBuffer:void 0,jG=$G||WG;iu.exports=jG});var pM=V((Vhe,dM)=>{var GG=Wa(),KG=vf(),YG=Ws(),XG="[object Object]",ZG=Function.prototype,JG=Object.prototype,cM=ZG.toString,QG=JG.hasOwnProperty,eK=cM.call(Object);function tK(t){if(!YG(t)||GG(t)!=XG)return!1;var e=KG(t);if(e===null)return!0;var i=QG.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&cM.call(i)==eK}dM.exports=tK});var fM=V(($he,hM)=>{var iK=Wa(),rK=wf(),nK=Ws(),oK="[object Arguments]",sK="[object Array]",aK="[object Boolean]",lK="[object Date]",uK="[object Error]",cK="[object Function]",dK="[object Map]",pK="[object Number]",hK="[object Object]",fK="[object RegExp]",mK="[object Set]",gK="[object String]",vK="[object WeakMap]",yK="[object ArrayBuffer]",bK="[object DataView]",wK="[object Float32Array]",xK="[object Float64Array]",SK="[object Int8Array]",_K="[object Int16Array]",EK="[object Int32Array]",CK="[object Uint8Array]",PK="[object Uint8ClampedArray]",IK="[object Uint16Array]",AK="[object Uint32Array]",ei={};ei[wK]=ei[xK]=ei[SK]=ei[_K]=ei[EK]=ei[CK]=ei[PK]=ei[IK]=ei[AK]=!0;ei[oK]=ei[sK]=ei[yK]=ei[aK]=ei[bK]=ei[lK]=ei[uK]=ei[cK]=ei[dK]=ei[pK]=ei[hK]=ei[fK]=ei[mK]=ei[gK]=ei[vK]=!1;function TK(t){return nK(t)&&rK(t.length)&&!!ei[iK(t)]}hM.exports=TK});var gM=V((jhe,mM)=>{function MK(t){return function(e){return t(e)}}mM.exports=MK});var yM=V((Ed,ru)=>{var RK=Hb(),vM=typeof Ed=="object"&&Ed&&!Ed.nodeType&&Ed,Cd=vM&&typeof ru=="object"&&ru&&!ru.nodeType&&ru,kK=Cd&&Cd.exports===vM,jb=kK&&RK.process,NK=function(){try{var t=Cd&&Cd.require&&Cd.require("util").types;return t||jb&&jb.binding&&jb.binding("util")}catch{}}();ru.exports=NK});var Sf=V((Ghe,xM)=>{var OK=fM(),DK=gM(),bM=yM(),wM=bM&&bM.isTypedArray,LK=wM?DK(wM):OK;xM.exports=LK});var Gb=V((Khe,SM)=>{function FK(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}SM.exports=FK});var Kb=V((Yhe,_M)=>{var zK=gf(),HK=Xl(),qK=Object.prototype,UK=qK.hasOwnProperty;function BK(t,e,i){var r=t[e];(!(UK.call(t,e)&&HK(r,i))||i===void 0&&!(e in t))&&zK(t,e,i)}_M.exports=BK});var CM=V((Xhe,EM)=>{var WK=Kb(),VK=gf();function $K(t,e,i,r){var n=!i;i||(i={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=r?r(i[l],t[l],l,i,t):void 0;c===void 0&&(c=t[l]),n?VK(i,l,c):WK(i,l,c)}return i}EM.exports=$K});var IM=V((Zhe,PM)=>{function jK(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}PM.exports=jK});var Pd=V((Jhe,AM)=>{var GK=9007199254740991,KK=/^(?:0|[1-9]\d*)$/;function YK(t,e){var i=typeof t;return e=e??GK,!!e&&(i=="number"||i!="symbol"&&KK.test(t))&&t>-1&&t%1==0&&t<e}AM.exports=YK});var Yb=V((Qhe,TM)=>{var XK=IM(),ZK=bf(),JK=bo(),QK=xf(),eY=Pd(),tY=Sf(),iY=Object.prototype,rY=iY.hasOwnProperty;function nY(t,e){var i=JK(t),r=!i&&ZK(t),n=!i&&!r&&QK(t),o=!i&&!r&&!n&&tY(t),a=i||r||n||o,l=a?XK(t.length,String):[],c=l.length;for(var d in t)(e||rY.call(t,d))&&!(a&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||eY(d,c)))&&l.push(d);return l}TM.exports=nY});var RM=V((efe,MM)=>{function oY(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}MM.exports=oY});var NM=V((tfe,kM)=>{var sY=yo(),aY=yf(),lY=RM(),uY=Object.prototype,cY=uY.hasOwnProperty;function dY(t){if(!sY(t))return lY(t);var e=aY(t),i=[];for(var r in t)r=="constructor"&&(e||!cY.call(t,r))||i.push(r);return i}kM.exports=dY});var _f=V((ife,OM)=>{var pY=Yb(),hY=NM(),fY=Sd();function mY(t){return fY(t)?pY(t,!0):hY(t)}OM.exports=mY});var LM=V((rfe,DM)=>{var gY=CM(),vY=_f();function yY(t){return gY(t,vY(t))}DM.exports=yY});var BM=V((nfe,UM)=>{var FM=Wb(),bY=MT(),wY=LT(),xY=zT(),SY=jT(),zM=bf(),HM=bo(),_Y=nM(),EY=xf(),CY=pf(),PY=yo(),IY=pM(),AY=Sf(),qM=Gb(),TY=LM();function MY(t,e,i,r,n,o,a){var l=qM(t,i),c=qM(e,i),d=a.get(c);if(d){FM(t,i,d);return}var m=o?o(l,c,i+"",t,e,a):void 0,f=m===void 0;if(f){var v=HM(c),b=!v&&EY(c),_=!v&&!b&&AY(c);m=c,v||b||_?HM(l)?m=l:_Y(l)?m=xY(l):b?(f=!1,m=bY(c,!0)):_?(f=!1,m=wY(c,!0)):m=[]:IY(c)||zM(c)?(m=l,zM(l)?m=TY(l):(!PY(l)||CY(l))&&(m=SY(c))):f=!1}f&&(a.set(c,m),n(m,c,r,o,a),a.delete(c)),FM(t,i,m)}UM.exports=MY});var $M=V((ofe,VM)=>{var RY=mf(),kY=Wb(),NY=CT(),OY=BM(),DY=yo(),LY=_f(),FY=Gb();function WM(t,e,i,r,n){t!==e&&NY(e,function(o,a){if(n||(n=new RY),DY(o))OY(t,e,a,i,WM,r,n);else{var l=r?r(FY(t,a),o,a+"",t,e,n):void 0;l===void 0&&(l=o),kY(t,a,l)}},LY)}VM.exports=WM});var Ef=V((sfe,jM)=>{function zY(t){return t}jM.exports=zY});var KM=V((afe,GM)=>{function HY(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}GM.exports=HY});var ZM=V((lfe,XM)=>{var qY=KM(),YM=Math.max;function UY(t,e,i){return e=YM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=YM(r.length-e,0),a=Array(o);++n<o;)a[n]=r[e+n];n=-1;for(var l=Array(e+1);++n<e;)l[n]=r[n];return l[e]=i(a),qY(t,this,l)}}XM.exports=UY});var QM=V((ufe,JM)=>{function BY(t){return function(){return t}}JM.exports=BY});var iR=V((cfe,tR)=>{var WY=QM(),eR=Bb(),VY=Ef(),$Y=eR?function(t,e){return eR(t,"toString",{configurable:!0,enumerable:!1,value:WY(e),writable:!0})}:VY;tR.exports=$Y});var nR=V((dfe,rR)=>{var jY=800,GY=16,KY=Date.now;function YY(t){var e=0,i=0;return function(){var r=KY(),n=GY-(r-i);if(i=r,n>0){if(++e>=jY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}rR.exports=YY});var sR=V((pfe,oR)=>{var XY=iR(),ZY=nR(),JY=ZY(XY);oR.exports=JY});var lR=V((hfe,aR)=>{var QY=Ef(),eX=ZM(),tX=sR();function iX(t,e){return tX(eX(t,e,QY),t+"")}aR.exports=iX});var cR=V((ffe,uR)=>{var rX=Xl(),nX=Sd(),oX=Pd(),sX=yo();function aX(t,e,i){if(!sX(i))return!1;var r=typeof e;return(r=="number"?nX(i)&&oX(e,i.length):r=="string"&&e in i)?rX(i[e],t):!1}uR.exports=aX});var pR=V((mfe,dR)=>{var lX=lR(),uX=cR();function cX(t){return lX(function(e,i){var r=-1,n=i.length,o=n>1?i[n-1]:void 0,a=n>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(n--,o):void 0,a&&uX(i[0],i[1],a)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var l=i[r];l&&t(e,l,r,o)}return e})}dR.exports=cX});var fR=V((gfe,hR)=>{var dX=$M(),pX=pR(),hX=pX(function(t,e,i){dX(t,e,i)});hR.exports=hX});function Va(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}var Xb=M(()=>{});function Zb(t={}){let e=t.promiseTypeSuffixes||fX,i=t.promiseTypeDelimiter||"_";return r=>{let{dispatch:n}=r;return o=>a=>{let l,c;if(a.payload){let I=a.payload;if(Va(I))l=I;else if(Va(I.promise))l=I.promise,c=I.data;else if(typeof I=="function"||typeof I.promise=="function"){if(l=I.promise?I.promise():I(),c=I.promise?I.data:void 0,!Va(l))return o({...a,payload:l})}else return o(a)}else return o(a);let d=a.type,m=a.meta,[f,v,b]=e,_=(I,N)=>({type:[d,N?b:v].join(i),...I===null||typeof I>"u"?{}:{payload:I},...m!==void 0?{meta:m}:{},...N?{error:!0}:{}}),E=I=>{let N=_(I,!0);n(N)},C=(I=null)=>{let N=_(I,!1);return n(N),{value:I,action:N}};return o({type:[d,f].join(i),...c!==void 0?{payload:c}:{},...m!==void 0?{meta:m}:{}}),l.then(C,E).catch(I=>{if(ne&&I.response)console.error("Request to",I.response.config.url,"failed with code",I.response.status);else{if(I&&I.response&&I.response.status===401){console.warn("No auth for request to",I.response.config.url);return}console.error(I)}}),l}}}var Cf,Pf,If,fX,Jb=M(()=>{Xb();Ne();Cf="PENDING",Pf="FULFILLED",If="REJECTED",fX=[Cf,Pf,If]});var nu,Qb,Id,ti,e0,$a,t0,i0,r0,n0,mX,mR=M(()=>{nu="cargo.site",Qb="wss://w.s.cargo.site",Id="https://cargo.site",ti="https://api.cargo.site/v1",e0="https://cargo.site/_api",$a="https://cargo.site",t0="https://cargo.site/_api/v1-p",i0="yjhpd2ug",r0="https://admin.workspace.cargo.site",n0="https://newadmin.cargo.site",mX=typeof window<"u"?"production":process?.env?.CARGO_ENV;switch(mX){case"localhost":case"local-ssr":nu="local.dev.cargo.site",Qb="wss://ws.dev.cargo.site",Id="https://local.dev.cargo.site",ti="https://api.dev.cargo.site/v1",e0="https://dev.cargo.site/_api",$a="https://dev.cargo.site",t0="https://dev.cargo.site/_api/v1-p",i0="na91uuyv",r0="https://workspace.local.dev.cargo.site",n0="https://admin.local.dev.cargo.site";break;case"local-crdt":nu="local.dev.cargo.site",Qb="wss://ws.local.dev.cargo.site:4443",Id="https://local.dev.cargo.site",ti="https://api.dev.cargo.site/v1",e0="https://dev.cargo.site/_api",$a="https://dev.cargo.site",t0="https://dev.cargo.site/_api/v1-p",i0="na91uuyv",r0="https://workspace.local.dev.cargo.site",n0="https://admin.local.dev.cargo.site";break;case"dev":nu="dev.cargo.site",Qb="wss://ws.dev.cargo.site",Id="https://dev.cargo.site",ti="https://api.dev.cargo.site/v1",e0="https://dev.cargo.site/_api",$a="https://dev.cargo.site",t0="https://dev.cargo.site/_api/v1-p",i0="na91uuyv",r0="https://admin.workspace.dev.cargo.site",n0="https://admin.dev.cargo.site";break}});var Vs=M(()=>{mR()});function gX(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:Af},put:function(r,n){e={key:r,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function vX(t,e){var i=[];function r(l){var c=i.findIndex(function(m){return e(l,m.key)});if(c>-1){var d=i[c];return c>0&&(i.splice(c,1),i.unshift(d)),d.value}return Af}function n(l,c){r(l)===Af&&(i.unshift({key:l,value:c}),i.length>t&&i.pop())}function o(){return i}function a(){i=[]}return{get:r,put:n,getEntries:o,clear:a}}function yX(t){return function(i,r){if(i===null||r===null||i.length!==r.length)return!1;for(var n=i.length,o=0;o<n;o++)if(!t(i[o],r[o]))return!1;return!0}}function vR(t,e){var i=typeof e=="object"?e:{equalityCheck:e},r=i.equalityCheck,n=r===void 0?gR:r,o=i.maxSize,a=o===void 0?1:o,l=i.resultEqualityCheck,c=yX(n),d=a===1?gX(c):vX(a,c);function m(){var f=d.get(arguments);if(f===Af){if(f=t.apply(null,arguments),l){var v=d.getEntries(),b=v.find(function(_){return l(_.value,f)});b&&(f=b.value)}d.put(arguments,f)}return f}return m.clearCache=function(){return d.clear()},m}var Af,gR,yR=M(()=>{Af="NOT_FOUND";gR=function(e,i){return e===i}});function bX(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var i=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+i+"]")}return e}function o0(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var n=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=0,m,f={memoizeOptions:void 0},v=l.pop();if(typeof v=="object"&&(f=v,v=l.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var b=f,_=b.memoizeOptions,E=_===void 0?i:_,C=Array.isArray(E)?E:[E],I=bX(l),N=t.apply(void 0,[function(){return d++,v.apply(null,arguments)}].concat(C)),D=t(function(){for(var z=[],G=I.length,Y=0;Y<G;Y++)z.push(I[Y].apply(null,arguments));return m=N.apply(null,z),m});return Object.assign(D,{resultFunc:v,memoizedResultFunc:N,dependencies:I,lastResult:function(){return m},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),D};return n}var bR,wR=M(()=>{yR();bR=o0(vR)});var s0={};si(s0,{ADMIN_FRAME:()=>ye,CRDTState:()=>$t,FRONTEND_DATA:()=>Tf});var ye,Tf,$t,Rt=M(()=>{ye={adminWindow:null},Tf={},$t=Object.freeze({New:0,Published:1,Draft:2,Deleted:3})});var Si,Qe,vi,Ke,_i=M(()=>{wR();Si=pe(we(),1);Ne();Rt();Qe={};ne?vi=o0(t=>t):vi=function(){return bR.apply(this,[...arguments,{memoizeOptions:{maxSize:10}}])};Qe.getItemParentId=(t,e)=>Qe.flatByParentList(t)[e];Qe.getHomepageId=t=>t.frontendState.isMobile?t.site?.mobile_homepage_id:t.site?.homepage_id;Qe.getHomepagePurl=t=>Qe.getContentById(t,Qe.getHomepageId(t))?.purl?.toLowerCase();Qe.getHiddenHomepageId=t=>{let e=t.site?.mobile_homepage_id,i=t.site?.homepage_id;return e===i?null:t.frontendState.isMobile?i:e};Qe.flatByParentList=vi(t=>t.structure.byParent,t=>{let e={};for(let i in t)for(let r in t[i])e[t[i][r]]=i;return e});Qe.getSetsByParent=vi(t=>t.structure.byParent,t=>t.sets.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});Qe.getPagesByParent=vi(t=>t.structure.byParent,t=>t.pages.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});Qe.getParentSetList=vi(Qe.getItemParentId,Qe.flatByParentList,(t,e)=>{let i=[];for(;t;)i.push(t),t=t!==e[t]?e[t]:null;return i});Qe.getSetContents=vi((t,e)=>e,Qe.getHomepageId,(t,e,i)=>i,(t,e,i)=>t.structure.bySort,(t,e)=>t.structure.byParent[e],t=>t.pages.byId,t=>t.sets.byId,(t,e,i={},r,n=[],o,a)=>{let l;return Si.default.without(n.map(c=>{if(l=o[c]||a[c],i.includeNotIndexable===!0||l&&(l.id===e||Qh(l)))return l}).sort((c,d)=>r[c.id]-r[d.id]),void 0)});Qe.getSetContentsByIndex=vi(Qe.getSetContents,(t,e,i)=>t.structure.indexById,(t,e)=>t.reduce((i,r)=>(i[e[r.id]]=r,i),{}));Qe.getSetDepthsById=vi(t=>t.sets.byId,Qe.flatByParentList,(t,e)=>{let i={};return Object.keys(t).forEach(r=>{let n=0,o=r;for(;e[o];)n++,o=e[o];i[r]=n}),i});Qe.getPinsForSet=vi(Qe.getParentSetList,Qe.getSetDepthsById,(t,e,i,r)=>e,(t,e,i,r)=>i,(t,e,i,r)=>r,(t,e,i,r)=>t.structure.bySort,(t,e,i,r)=>t.pages.byId,Qe.getPagesByParent,t=>t.frontendState.isMobile,(t,e,i,r,n,o,a={},l={},c)=>{if(!i)return[];let d=i,m=0,f={},v=[];return t.concat([i]).forEach(_=>{l[_]&&l[_].forEach(E=>{if(a[E]&&a[E].pin&&a[E].pin_options&&a[E].pin_options.position===r){if(E!==n&&(a[E].pin_options.screen_visibility==="mobile"&&!c||a[E].pin_options.screen_visibility==="desktop"&&c))return;v.push(a[E]),f[E]=a[E].pin_options.fixed?0:e[_]}})}),v.sort((_,E)=>{let C=o[_.id],I=o[E.id];return _.pin_options.fixed?C+=r==="bottom"?9e9:-9e9:_.pin_options.overlay&&(C+=r==="bottom"?9e5:-9e5),E.pin_options.fixed?I+=r==="bottom"?9e9:-9e9:E.pin_options.overlay&&(I+=r==="bottom"?9e5:-9e5),C-I}),v.sort((_,E)=>r==="bottom"?f[E.id]-f[_.id]:f[_.id]-f[E.id]),v});Qe.getAutoRenderableOverlaysForSet=vi(Qe.getParentSetList,Qe.getSetDepthsById,(t,e,i)=>e,(t,e,i)=>i,(t,e,i)=>t.pages.byId,(t,e,i)=>t.frontendState.PIDToEdit,Qe.getPagesByParent,(t,e,i,r,n={},o,a={})=>{if(!i||ne)return[];let l=i,c=0,d=[];return t.concat([i]).forEach(f=>{a[f]&&a[f].forEach(v=>{n[v]&&n[v].overlay&&(n[v].id===o||n[v].overlay_options?.openOnLoad||n[v].purl?.toLowerCase()===r?.toLowerCase())&&d.push(n[v])})}),d});Qe.getContentById=vi((t,e)=>e,(t,e)=>t.pages.byId[e]||t.sets.byId[e],(t,e)=>e);Qe.getContentByPurl=vi((t,e)=>e?.replace("#",""),(t,e)=>(e=e?.replace("#",""),t.pages.byId[Qe.getPagesByUrl(t)[e?.toLowerCase()]]||t.sets.byId[Qe.getSetsByUrl(t)[e?.toLowerCase()]]),(t,e)=>e);Qe.getLoadedIndexesForSet=vi(Qe.getSetContents,t=>t.structure.indexById,(t,e)=>Si.default.without(t.map(i=>{if(Qh(i))return e[i.id]}),void 0));Qe.getMissingIndexesForSet=vi((t,e)=>t.sets.byId[e],Qe.getLoadedIndexesForSet,(t,e)=>t?Si.default.difference([...Array(Math.max(t.page_count||0,0)).keys()],e):[]);Qe.getSortedListOfIndexPairs=vi(t=>t,(t,e)=>e,(t,e)=>t.sets.byId,(t,e)=>t.structure.indexById,Qe.getSetsByParent,(t,e,i,r,n)=>{let o=a=>{let l=Qe.getContentById(t,a);if(!l)return[];let c=[...Array(Math.max(l.page_count||0,0)).keys()].map(d=>[l.id,d]);return n[l.id]&&(n[l.id]||[]).map(d=>i[d]).reverse().forEach(d=>{c.splice(r[d.id]+1,0,o(d.id))}),c};return Si.default.chunk(Si.default.flattenDeep(o(e)),2)});Qe.getSortedListOfMissingIndexPairs=vi(t=>t,Qe.getSortedListOfIndexPairs,(t,e)=>t.sets.byId,Qe.getSetsByParent,(t,e,i,r)=>{let n=[];return Si.default.uniq(e.map(o=>o[0])).forEach(o=>{n=n.concat(Qe.getLoadedIndexesForSet(t,o).map(a=>[o,a]))}),Si.default.differenceWith(e,n,Si.default.isEqual)});Qe.getGappedSetMap=vi(t=>t,Qe.getSortedListOfIndexPairs,Qe.getSortedListOfMissingIndexPairs,(t,e,i)=>{let r=i[0];if(r){let n=Si.default.uniq(e.map(l=>l[0])).reduce((l,c)=>(l[c]=0,l),{}),o=Si.default.findIndex(e,l=>Si.default.isEqual(l,r)),a=Si.default.fromPairs(e.slice(0,o));return Si.default.merge(n,a)}return{}});Qe.getPagesByUrl=vi(t=>t.pages.byId,t=>Si.default.transform(Si.default.omitBy(t,e=>e.crdt_state===$t.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));Qe.getSetsByUrl=vi(t=>t.sets.byId,t=>Si.default.transform(Si.default.omitBy(t,e=>e.crdt_state===$t.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));Qe.getMediaByHash=t=>{let e={};return Si.default.each(t.pages.byId,i=>{Si.default.each(i.media,r=>{r.crdt_state!==$t.Deleted&&(e[r.hash]=r)})}),e};Qe.getMediaByParent=vi(t=>t.pages.byId,t=>{let e={};return Si.default.each(t,i=>{e[i.id]=i.media?.filter(r=>r.crdt_state!==$t.Deleted)}),e});Qe.getRenderedPageModels=vi(t=>t.pages.byId,t=>t.frontendState.renderedPages,(t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0));Ke=Qe});var u0={};si(u0,{actionTypes:()=>Pe,actions:()=>Fe});var ln,Ka,l0,Fe,wX,xR,Pe,Mf,a0,ja,Ga,jt=M(()=>{ln=pe(En(),1),Ka=pe(we(),1);Jb();Ne();Vs();_i();l0=pe(we(),1),Fe={},wX=ne?3e4:1e4,xR={AUTHENTICATE_USER:"AUTHENTICATE_USER",FETCH_SITEDESIGN_MODEL:"FETCH_SITEDESIGN_MODEL",FETCH_SCAFFOLDING:"FETCH_SCAFFOLDING",FETCH_SITE_PACKAGE:"FETCH_SITE_PACKAGE",FETCH_SITE_MODEL:"FETCH_SITE_MODEL",FETCH_SITE_CSS:"FETCH_SITE_CSS",FETCH_MEDIA:"FETCH_MEDIA",FETCH_CONTENT:"FETCH_CONTENT",DELETE_CONTENT:"DELETE_CONTENT",FETCH_COMMERCE_PRODUCTS:"FETCH_COMMERCE_PRODUCTS",FETCH_SHOP_MODEL:"FETCH_SHOP_MODEL"};(0,Ka.each)(xR,function(t,e,i){i[t+"_"+Pf]=e+"_"+Pf,i[t+"_"+Cf]=e+"_"+Cf,i[t+"_"+If]=e+"_"+If});Pe=(0,Ka.merge)({ADD_COMMERCE_PRODUCT_TO_CART:"ADD_COMMERCE_PRODUCT_TO_CART",RESET_COMMERCE_CART:"RESET_COMMERCE_CART",SET_INITIAL_AUTH:"SET_INITIAL_AUTH",PAGES_MOUNTED:"PAGES_MOUNTED",PAGES_UNMOUNTED:"PAGES_UNMOUNTED",UPDATE_FRONTEND_STATE:"UPDATE_FRONTEND_STATE",COMMERCE_PRODUCT_DESTROYED:"COMMERCE_PRODUCT_DESTROYED",COMMERCE_PRODUCT_UPDATED:"COMMERCE_PRODUCT_UPDATED",SHOP_MODEL_UPDATED:"SHOP_MODEL_UPDATED"},xR);Fe.getAuthToken=function(t={}){let e=new Promise((i,r)=>{let n="https://cargo.site/accesstoken";if(t.reverse_bounce_jwt){parent.location.href=n+"/bounce?jwt="+t.reverse_bounce_jwt;return}if(t.bounce){parent.location.href=n+"/bounce?site_url="+t.site_url;return}let o={};t.site_url&&(o.site_url=t.site_url),t.site_id&&(o.site_id=t.site_id),t.jwt&&(o.jwt=t.jwt);let a={};t.nonce&&(a["x-cargo-access-token-nonce"]=t.nonce),ln.default.get(n,{use_auth:!1,withCredentials:!0,params:o,headers:a,timeout:t?.timeout||wX}).then(function(l){if(!l||l.token===null)return r("No token found.");i(l)}).catch(l=>{r(l)})});return{type:Pe.AUTHENTICATE_USER,payload:e}};Fe.setAuthentication=t=>({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:t});Fe.rejectAuthentication=()=>({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}});Fe.fetchScaffolding=function(){return function(t,e){let r=`/pages/${e().site.id}/scaffolding`;return t({type:Pe.FETCH_SCAFFOLDING,payload:ln.default.get(ti+r)})}};Fe.fetchFiles=function(){return function(t,e){let r=`/sites/${e().site.id}/media/files`;return t({type:Pe.FETCH_MEDIA,payload:ln.default.get(ti+r)})}};Fe.fetchCommerceProducts=function(t={}){return t=l0.default.defaults(t,{orderBy:"date_added",orderDir:"asc",idArray:null,onlyNew:!0}),function(e,i){let r=i(),n=`/commerce/${r.site.id}/products`,o;if(t.idArray){n+="/list";let a=new FormData;if(t.idArray){let l=t.idArray.filter(c=>!(t.onlyNew===!0&&r.commerce.products.hasOwnProperty(c)));if(l.length===0)return Promise.resolve();l.forEach(c=>{a.append("ids[]",c)})}o=ln.default.post(ti+n,a,{use_auth:!1})}else o=ln.default.get(ti+n,{use_auth:!1,params:{order_by:t.orderBy,order_dir:t.orderDir,limit:t.limit}});return e({type:Pe.FETCH_COMMERCE_PRODUCTS,payload:o,meta:{options:t}})}};Fe.fetchShopModel=function(t={}){return function(e,i){let r=i();if(!r.site.shop_id)return Promise.resolve();let n=`/commerce/${r.site.id}/shop/${r.site.shop_id}`;return e({type:Pe.FETCH_SHOP_MODEL,payload:ln.default.get(ti+n,{use_cache:t.force!==!0})})}};Fe.resetCommerceCart=function(){return{type:Pe.RESET_COMMERCE_CART,payload:{}}};Fe.addCommerceProductToCart=function(t,e,i={}){return function(r,n){let o=n(),a=o.commerce.products[t],l=a?.variants.find(c=>c.variant_id==e);if(!a||!l){i.failureCallback?.("Product not found");return}if((i.amount===void 0||isNaN(i.amount))&&(i.amount=1),l.inventory!==null&&i.amount>l.inventory)if(l.inventory<=0){i.failureCallback?.("Product is out of stock");return}else i.amount=l.inventory;return typeof i.callback=="function"&&i.callback(),r({type:Pe.ADD_COMMERCE_PRODUCT_TO_CART,payload:{product_id:l.product_id,variant_id:l.variant_id,quantity:i.amount},meta:{is_template:o.site.is_template}})}};Mf=null,a0=!1,ja=[],Ga=[];Fe.pageMounted=function(t){if(Ga.includes(t)&&(Ga=Ga.filter(e=>e!==t)),!ja.includes(t))return(e,i)=>(ja.push(t),Mf||(Mf=new Promise(r=>{requestAnimationFrame(()=>{e({type:Pe.PAGES_MOUNTED,payload:{pages:[...ja]}}),r(),Mf=null,ja=[]})})),Mf)};Fe.pageUnMounted=function(t){if(ja.includes(t)&&(ja=ja.filter(e=>e!==t)),!Ga.includes(t))return(e,i)=>{if(i().frontendState.PIDBeingEdited===t?.id)return e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[t]}});Ga.push(t),a0||(a0=!0,requestAnimationFrame(()=>{e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[...Ga]}}),a0=!1,Ga=[]}))}};Fe.fetchSiteModel=function(){return function(t,e){let r=`/sites/${e().site.id}`,n=ln.default.get(ti+r);return t({type:Pe.FETCH_SITE_MODEL,payload:n})}};Fe.fetchSiteCSS=function(){return function(t,e){let r=`/sites/${e().site.id}/css`,n=ln.default.get(ti+r);return t({type:Pe.FETCH_SITE_CSS,payload:n})}};Fe.fetchSitePackage=function(){return function(t,e){let i=e(),r;ne?r=i.frontendState.hostname:r=Ha?rb:window.location.hostname,ib&&(r=r.replace("local.dev.cargo.site","dev.cargo.site"));let n=ln.default.get(ti+`/package/${r}`);return t({type:Pe.FETCH_SITE_PACKAGE,payload:n})}};Fe.fetchSiteDesignModel=function(){return function(t,e){let r=`/sites/${e().site.id}/design`,n=ln.default.get(ti+r);return t({type:Pe.FETCH_SITEDESIGN_MODEL,payload:n})}};Fe.fetchPagesByTag=function(t,e={}){return function(i,r){let n=store.getState(),o=ln.default.get(ti+`/pages/${n.site.id}/tag/${t}`,{withCredentials:!0,use_cache:e.force!==!0});return i({type:Pe.FETCH_CONTENT,payload:o})}};Fe.fetchContent=function(t,e={}){return e.idType||(e.idType="pid"),function(i,r){let n=r(),o;if(e.indexes&&n.frontendState.inAdminFrame===!0){let m=n.structure.byParent[t]?.reduce((f,v)=>(f[n.structure.indexById[v]]=v,f),{});m&&(o={},e.indexes.forEach(f=>{let v=m[f],b=n.structure.liveIndexes[v];if(b){let[_,E]=b.split("/");o[_]||(o[_]=[]),o[_].push(parseInt(E))}}),o=l0.default.map(o,(f,v)=>({set_id:v,index:f})))}if(e.force!==!0&&(e.idType==="purl"?Ke.getContentByPurl(n,t):Ke.getContentById(n,t)||t==="root")&&(e.indexes===void 0||e.indexes.length===0)&&e.prev!==!0&&e.next!==!0)return i({type:Pe.FETCH_CONTENT,payload:Promise.resolve()});let a=`/pages/${n.site.id}/url/${t}`;e.next===!0?a=`/pages/${n.site.id}/next/${t}`:e.prev===!0?a=`/pages/${n.site.id}/prev/${t}`:e.idType==="pid"&&(a=`/pages/${n.site.id}/id/${t}`);let l={};(0,Ka.isArray)(e.indexes)&&(a=`/pages/${n.site.id}/filter/`,o&&Object.keys(o).length>0?l.indexBySet=JSON.stringify(o):l.indexBySet=JSON.stringify([{set_id:t,index:e.indexes}]));let c=ln.default.get(ti+a,{withCredentials:!0,use_cache:e.force!==!0,params:l,validateStatus:function(m){return m>=200&&m<300&&m!==204},contentIdentifier:{idType:e.idType,id:t}}),d=new Promise((m,f)=>{c.then(v=>{(0,Ka.isArray)(v.data)||(v.data=[v.data]),e.cb?.(v),m(v)}).catch(f)});return i({type:Pe.FETCH_CONTENT,payload:d})}};Fe.updateFrontendState=function(t){return function(e,i){return e({type:Pe.UPDATE_FRONTEND_STATE,payload:t})}};Fe.deleteContent=function(t){return function(e,i){let r=new Promise().resolve({id:t});return{type:Pe.DELETE_CONTENT,payload:r}}};ne||(window.actions=Fe)});function c0(){return t=>e=>(Va(e.payload)&&e.payload.catch(function(i){if(ne&&i.response)console.error("Request to",i.response.config.url,"failed with code",i.response.status);else{if(i&&i.response&&i.response.status===401){console.warn("No auth for request to",i.response.config.url);return}console.error(i)}return i}),t(e))}var Nfe,SR=M(()=>{Xb();Nfe=pe(we(),1);Ne()});function _R(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITE_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.site),i){if(Ha&&(i.domain_active=!1),!ne)try{localStorage.setItem("c3-site",JSON.stringify({id:i.id,host:window.location.host}))}catch(r){console.error(r)}return{...t,...i,crdt_state:$t.Published}}break}return t}var zfe,ER=M(()=>{jt();Ne();Rt();zfe=pe(we(),1)});function xX(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return Rf.default.isArray(i)||(i=[i]),{...t,...i.reduce((r,n)=>(n.page_type!=="page"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=$t.Published,r[n.id]=n),r),{})};break;case Pe.DELETE_CONTENT:if(t[e.payload.id]){let r={...t};return delete r[e.payload.id],r}break;case Pe.UPDATE_PAGE:return{...t,[e.meta.id]:Rf.default.merge({},Rf.default.cloneDeep(t[e.meta.id]),e.payload)}}return t}var Rf,d0,CR,PR=M(()=>{jt();di();Rt();Rf=pe(we(),1);Ne();d0={byId:xX},CR=$n(d0)});function SX(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return{...t,...i.reduce((r,n)=>(n.page_type!=="set"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=$t.Published,r[n.id]=n),r),{})};break}return t}var p0,IR,AR=M(()=>{jt();di();Rt();p0={byId:SX},IR=$n(p0)});function _X(t=MR,e){switch(e.type){case Pe.RESET_COMMERCE_CART:try{localStorage.removeItem("cargo-commerce-cart")}catch(n){console.error("Unable to store cart",n)}return{};case Pe.ADD_COMMERCE_PRODUCT_TO_CART:let i=e.payload,r;i.quantity===null?(r={...t},delete r[i.variant_id]):(t[i.variant_id]&&(i={...t[i.variant_id],quantity:Math.max(0,(t[i.variant_id].quantity||0)+i.quantity)}),r={...t,[i.variant_id]:i});try{e.meta?.is_template!==!0&&localStorage.setItem("cargo-commerce-cart",JSON.stringify(r))}catch(n){console.error("Unable to store cart",n)}return r}return t}function EX(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_COMMERCE_PRODUCTS_FULFILLED:let i=e.meta?.options||{},r=(e.payload.data?.data||[]).reduce((o,a,l)=>{let c=t[a?.product_id];return i.onlyNew&&c?(i.idArray===null&&c.sort_index===void 0&&(c.sort_index=l),o):(i.idArray===null&&(a.sort_index=l),TR(a),{...o,[a.product_id]:a})},{});return{...t,...r};case Pe.COMMERCE_PRODUCT_UPDATED:return TR(e.payload),{...t,[e.payload.product_id]:e.payload};break;case Pe.COMMERCE_PRODUCT_DESTROYED:let n={...t};return delete n[e.payload.product_id],n;break}return t}function CX(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...t,...e.payload.data};case Pe.SHOP_MODEL_UPDATED:return{...t,...e.payload}}return t}var $s,MR,TR,h0,RR,kR=M(()=>{$s=pe(we(),1);di();jt();Ne();MR={};if(!ne)try{MR=JSON.parse(localStorage.getItem("cargo-commerce-cart"))||{},window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.commerce&&window.__PRELOADED_STATE__.commerce.cart&&delete window.__PRELOADED_STATE__.commerce.cart}catch{}TR=t=>{t.name&&(t.name=$s.default.unescape(t.name)),t.variants?.forEach(e=>{$s.default.each(e.attributes,(i,r)=>{let n=$s.default.unescape(i);delete e.attributes[r],e.attributes[$s.default.unescape(r)]=n})}),$s.default.each(t.attributes,(e,i)=>{let r=e.map(n=>$s.default.unescape(n));delete t.attributes[i],t.attributes[$s.default.unescape(i)]=r})};h0={products:EX,cart:_X,shop:CX},RR=$n(h0)});function OR(t=PX,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_MEDIA_FULFILLED:let i=e.payload.data;if(i)return{...t,data:NR.default.uniqBy([...t.data,...i],"id")};break}return t}var NR,PX,DR=M(()=>{jt();Rt();NR=pe(we(),1),PX={data:[],crdt_state:$t.Published}});function LR(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITE_CSS_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.css),i)return{...t,...i,crdt_state:$t.Published};break}return t}var nme,FR=M(()=>{jt();Rt();nme=pe(we(),1)});function f0(t=IX,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i){let r={...t},n={};return(0,js.each)(i,function(o){o.page_type==="set"&&(n.hasOwnProperty(o.id)||(n[o.id]=[])),o.id!=="root"&&o.hasOwnProperty("set_id")&&(n.hasOwnProperty(o.set_id)||(n[o.set_id]=[]),n[o.set_id].push(o.id))}),r.byParent=(0,js.mergeWith)({},t.byParent,n,(o,a)=>{if((0,js.isArray)(o))return(0,js.uniq)(o.concat(a))}),r.bySort={...t.bySort,...i.reduce((o,a)=>(a.id!=="root"&&a.hasOwnProperty("sort")&&(o[a.id]=a.sort),o),{})},r.indexById={...t.indexById,...i.reduce((o,a)=>(a.id!=="root"&&a.hasOwnProperty("index")&&(o[a.id]=a.index),o),{})},r}break}return t}var js,IX,zR=M(()=>{jt();js=pe(we(),1);Rt();IX={byParent:{root:[]},bySort:{},indexById:{},liveIndexes:{},crdt_state:$t.Published}});function TX(t=AX,e){switch(e.type){case Pe.AUTHENTICATE_USER_PENDING:return{...t,authenticating:!0};case Pe.AUTHENTICATE_USER_FULFILLED:if(e.payload?.data?.access_token){if(!ne)try{localStorage.setItem("c3-auth",JSON.stringify(e.payload.data))}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!0,data:e.payload.data}}else{if(!ne)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}case Pe.AUTHENTICATE_USER_REJECTED:if(!ne)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}return t}var cme,AX,HR,qR=M(()=>{cme=pe(we(),1);Ne();jt();AX={authenticating:!1,authenticated:!1};HR=TX});function RX(t=MX,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.design),i)return m0.default.merge(m0.default.cloneDeep(t),i.site_design);break}return t}var m0,MX,UR,BR=M(()=>{jt();m0=pe(we(),1);Rt();MX={images:{},quick_view:{},site:{enableColorFilter:!1,enableHomeLinkActiveStates:!1},cart:{theme:"light"},contact_form:{theme:"light"},crdt_state:$t.Published};UR=RX});function VR(t=WR,e){if(!e.payload)return t;let i;switch(e.type){case Pe.UPDATE_FRONTEND_STATE:return g0.default.mergeWith({},WR,t,e.payload,(r,n,o,a,l)=>{n===void 0&&l.hasOwnProperty(o)&&delete a[o]});case Pe.FETCH_SITE_PACKAGE_FULFILLED:return{...t,hasSiteModel:!0,hasScaffolding:!0,hasSiteDesign:!0,hasSiteCSS:!0,hasSitePackage:!0};case Pe.FETCH_SCAFFOLDING_FULFILLED:return{...t,hasScaffolding:!0};case Pe.FETCH_SITE_MODEL_FULFILLED:return{...t,hasSiteModel:!0};case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...t,hasShopModel:!0};case Pe.FETCH_SITE_CSS_FULFILLED:return{...t,hasSiteCSS:!0};case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:return{...t,hasSiteDesign:!0};case Pe.PAGES_MOUNTED:return i=[...t.renderedPages,...e.payload.pages],{...t,renderedPages:i};case Pe.PAGES_UNMOUNTED:return{...t,renderedPages:g0.default.difference(t.renderedPages,e.payload.pages)};case Pe.FETCH_CONTENT_REJECTED:return{...t,networkErrors:[...t.networkErrors,{...e.payload.config?.contentIdentifier,code:e.payload.response?.status}]}}return t}var g0,bme,WR,$R=M(()=>{jt();Ne();Ne();g0=pe(we(),1),bme=nb(),WR={hasSiteModel:!1,hasScaffolding:!1,hasSiteDesign:!1,hasSiteCSS:!1,hasShopModel:!1,hasSitePackage:!1,quickView:{mode:"default",inited:!1,autoScrolling:!1,elementArray:!1,activeIndex:0,startingIndex:0},contactForm:{transition:!1,inited:!1},adminMode:Ri,inAdminFrame:Ri,renderedPages:[],networkErrors:[],pageNotFound:!1,fontsLoaded:[],activeHashPurl:""}});var y0={};si(y0,{default:()=>v0,rawReducers:()=>kX});var v0,kX,b0=M(()=>{ER();PR();AR();kR();DR();FR();zR();qR();BR();$R();jt();v0={structure:f0,site:_R,pages:CR,sets:IR,media:OR,css:LR,auth:HR,siteDesign:UR,frontendState:VR,commerce:RR},kX={pages:d0,sets:p0,commerce:h0}});var jR,Dme,GR,KR=M(()=>{jR=pe(zb(),1);di();jI();Dme=pe(fR(),1);jt();SR();Jb();b0();Ne();GR=()=>{let t=[],e=(0,jR.createDynamicMiddlewares)(),i=[$I,c0,Zb(),e.enhancer],r=cf(Fb(...i),...t),n=ne?{}:window.__PRELOADED_STATE__||{},o=fd($n(v0),n,r);return ne||(window.store=o,delete window.__PRELOADED_STATE__),{store:o}}});function g(t,e,i,r,n,o){e||(e={});var a,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?a=e[l]:c[l]=e[l];var d={type:t,props:c,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--NX,__i:-1,__u:0,__source:n,__self:o};if(typeof t=="function"&&(a=t.defaultProps))for(l in a)c[l]===void 0&&(c[l]=a[l]);return Je.vnode&&Je.vnode(d),d}var NX,Vme,oe=M(()=>{Ee();Ee();NX=0,Vme=Array.isArray});var YR=M(()=>{Ee();oe()});var XR=M(()=>{});var ns,kf=M(()=>{qe();XR();oe();ns=({customStyle:t,className:e})=>g("div",{style:t,className:`caution-processing${e?" "+e:""}`})});var ZR=M(()=>{});var JR,QR,w0,ek,tk=M(()=>{qe();pt();di();Vs();kf();ZR();oe();JR=0,QR=!(typeof window<"u"&&window.document&&window.document.createElement),w0=class extends se{constructor(e){if(super(e),QR)return;let i=new URLSearchParams(window.location.search.replace(/\+/g,"%2B")),r=["cargo.site","local.dev.cargo.site","local.dev.cargo.site","dev.cargo.site"];this.state={error:null,loading:!1,checkingAutomatedAuth:!0,formView:"login",resetEmail:null,prevFormState:null,prefilledEmail:i.get("email"),isHomePageLogin:r.includes(window.location.hostname)},e.canCreateNewAccount?this.state.formView="newAcct":e.magicEmailLogin&&(this.state.formView="magicEmail"),this.containerRef=Re.createRef();let n=i.get("t");if(this.redirectURL=i.get("rd"),i.has("t")){i.delete("t");let o=i.toString();o.length>0&&(o="?"+o),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+o)}if(this.props.loginToUdotCargoOnly){this.state.checkingAutomatedAuth=!1;return}if(JR>=1){this.state.checkingAutomatedAuth=!1;return}if(n==="")this.state.checkingAutomatedAuth=!1;else if(i.has("c")&&i.has("signature"))fetch(`${ti}/auth/verify?${i.toString()}`,{method:"get"}).then(async a=>{let l=await a.json();l.access_token&&l.id?(this.props.setAuthData(l.access_token,l.id),this.props.onLoginSuccess?.(l),window.history.replaceState({},document.title,window.location.origin+window.location.pathname)):this.setState({checkingAutomatedAuth:!1,error:"Something went wrong. Please try again later."}),requestAnimationFrame(()=>{this.setState({checkingAutomatedAuth:!1})})}).catch(a=>{console.log(a),this.setState({checkingAutomatedAuth:!1,error:"Something went wrong. Please try again later."})});else{let a=!1;this.props.domain_active&&n===null&&(a=!0);let l={timeout:3e3,jwt:n,bounce:a};this.props.site_url&&(l.site_url=this.props.site_url),this.props.site_id&&(l.site_id=this.props.site_id),this.props.getAuthToken(l).catch(c=>{console.log("Failed to fetch auth token.")}).finally(()=>{JR++,!a&&requestAnimationFrame(()=>{this.props.onCookieAuthComplete?.(),this.setState({checkingAutomatedAuth:!1})})})}}handleInitialTab=e=>{if(e.key!=="Tab")return;let i=this.containerRef.current;if(!i||i.contains(document.activeElement))return;let r=i.querySelector('input, select, textarea, button, [tabindex]:not([tabindex="-1"])');r&&(e.preventDefault(),r.focus())};ForgotButton=()=>{let e=this.state.loading?{display:"inline-block",pointerEvents:"none"}:{display:"inline-block"};return this.state.formView==="newAcct"?null:g("button",{className:"forgot",style:e,type:"button",onClick:i=>{i.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"login"})},children:"Forgot?"})};createOrLogin=()=>{if(!this.state.isHomePageLogin)return this.ForgotButton();let e=this.state.loading?{display:"inline-block",pointerEvents:"none"}:{display:"inline-block"};return g("button",{className:"account",type:"button",style:e,onClick:i=>{i.preventDefault(),this.state.formView==="login"&&this.setState({formView:"newAcct",error:null,prevFormState:"login"}),this.state.formView==="newAcct"&&this.setState({formView:"login",error:null,prevFormState:"newAcct"})},children:[this.state.formView==="newAcct"?"Login to an existing account":null,this.state.formView==="login"?"New Account":null]})};render(){if(QR||this.state.checkingAutomatedAuth||this.props.cookieAuthOnly)return null;let e=this.state.loading?{display:"inline-block",pointerEvents:"none"}:{display:"inline-block"},i="Cargo Login";return this.state.formView==="newAcct"?i="New Account":this.state.formView==="forgot"&&(i="Reset Password"),g("div",{id:"login",className:`login-window${this.props.noOverlay===!0?" not-overlaid":""}`,ref:this.containerRef,onMouseUp:r=>{if(this.props.canClickout&&!r.target.closest(".login-modal")){let n=new CustomEvent("remove-login-form");document.dispatchEvent(n),this.props.onClickout&&!this.state.loading&&this.props.onClickout()}},children:g("div",{className:"login-modal custom login-frame",children:[g("div",{className:"login-header",children:[g("div",{className:"logo-box"}),g("div",{className:"title",children:i})]}),this.state.formView==="newAcct"?g("form",{children:[g("div",{className:"input-fields new",children:[this.state.prefilledEmail?null:g("div",{className:"text-input bars",children:g("input",{type:"text",name:"email",id:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error?g("div",{className:"under-input-row",children:g("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null]}),this.state.formView==="newAcct"?g("div",{className:"terms",children:["By creating an account, you agree to our ",g("a",{href:"https://cargo.site/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"}),g("br",{}),"and ",g("a",{href:"https://cargo.site/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}):null,g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:e,onClick:r=>{r.preventDefault(),this.setState({error:null,loading:!0});let n=new FormData(this.containerRef.current.querySelector("form"));this.validateLogin(n)&&this.login(n)},children:[this.state.loading&&g(ns,{className:"accent default-border-radius"}),"OK"]}),this.createOrLogin()]})]}):null,this.state.formView==="login"||this.state.formView==="magicEmail"?g("form",{children:[g("div",{className:"input-fields",children:[this.state.prefilledEmail?null:g("div",{className:"text-input bars",children:this.state.formView==="magicEmail"?g("input",{type:"text",name:"cargoMagicField",id:"cargoMagicField",autoComplete:"email",placeholder:"Enter your e\u200Cma\u200Cil a\u200Cdd\u200Cres\u200Cs",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}}):g("input",{type:"text",name:"email",id:"email",placeholder:this.state.formView==="magicEmail"?"Enter your e\u200Cma\u200Cil address":"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.formView!=="magicEmail"&&g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.isHomePageLogin?g("div",{className:"under-input-row",children:[this.state.error?g(te,{children:g("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null,g("span",{children:this.ForgotButton()})]}):g(te,{children:this.state.error?g("div",{className:"under-input-row",children:[g("span",{style:{color:"#FF0000",marginLeft:"5px"},children:this.state.error}),g("span",{})]}):null})]}),g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:e,onClick:r=>{r.preventDefault(),this.setState({error:null,loading:!0});let n=!0,o=new FormData(this.containerRef.current.querySelector("form"));this.state.formView==="magicEmail"&&(n=this.validateMagicLogin(o)),n&&this.login(o)},children:[this.state.loading&&g(ns,{className:"accent default-border-radius"}),"OK"]}),this.state.formView!=="magicEmail"&&this.createOrLogin()]})]}):null,this.state.formView==="forgot"?g(te,{children:g("form",{children:[g("div",{className:"enter-email",children:"Enter an email address associated with your Cargo Account:"}),g("div",{className:"input-fields",children:[g("div",{className:"text-input bars",children:g("input",{type:"text",name:"email",id:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error?g("div",{className:"under-input-row",children:g("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null]}),g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:e,onClick:r=>{r.preventDefault(),this.setState({error:null,loading:!0});let n=new FormData(this.containerRef.current.querySelector("form"));this.forgot(n)},children:[this.state.loading&&g(ns,{className:"accent default-border-radius"}),"Submit"]}),g("button",{className:"forgot",style:e,type:"button",onClick:r=>{r.preventDefault(),this.setState({formView:this.state.prevFormState?this.state.prevFormState:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="reset"?g(te,{children:g("form",{children:[g("div",{className:"enter-email",children:[this.state.resetEmail?g(te,{children:["We\u2019ve sent a reset code to ",g("br",{}),this.state.resetEmail]}):g(te,{children:"We\u2019ve sent a reset code to the email associated with your Cargo Account:"})," 							"]}),g("div",{className:"input-fields",children:[g("div",{className:"text-input bars",children:g("input",{type:"text",name:"pwreset",placeholder:"Enter Reset Code",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password",autoComplete:"new-password",placeholder:"Enter a new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password_reset_confirm",autoComplete:"new-password",placeholder:"Confirm new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error?g("div",{className:"under-input-row",children:g("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null]}),g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:e,onClick:r=>{r.preventDefault();let n=new FormData(this.containerRef.current.querySelector("form")),o=this.validateForm(n);o&&(this.setState({error:null,loading:!0}),this.forgot(n)),o||this.setState({loading:!1})},children:[this.state.loading&&g(ns,{className:"accent default-border-radius"}),"OK"]}),g("button",{className:"forgot",type:"button",style:e,onClick:r=>{r.preventDefault(),this.setState({formView:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="magicEmailSent"?g("form",{children:[g("div",{className:"input-fields",children:g("div",{className:"field-message",style:{paddingTop:"20px"},children:g("span",{children:"We\u2019ve emailed you a login link"})})}),g("div",{className:"login-options",children:g("button",{className:"login",type:"submit",style:{visibility:"hidden"},onClick:r=>{r.preventDefault(),r.target.closest(".login-modal").style.display="none"},children:"OK"})})]}):null]})})}login=e=>{if(this.props.site_url&&e.append("site_url",this.props.site_url),this.props.templateID&&e.append("site_id",this.props.templateID),this.state.prefilledEmail&&e.append("email",this.state.prefilledEmail),this.state.formView==="magicEmail"){let n=e.get("cargoMagicField");e.append("email",n),e.delete("cargoMagicField"),fetch(`${ti}/auth/send`,{method:"post",body:e,credentials:"include"}).then(async o=>{if(o.ok)this.setState({formView:"magicEmailSent",loading:!1});else{let a=await o.json();this.setState({error:a.message||"Something went wrong. Please try again later.",loading:!1})}}).catch(o=>{console.log(o),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})});return}let r=this.state.formView==="newAcct"?"/dispatch/admin/loginCreate":"/dispatch/admin/login";if(e.append("network","c3"),!this.props.site_url&&!this.props.templateID&&this.state.formView==="newAcct"){let n=window.store.getState(),o=$a==="https://cargo.site"?1597765:1791886;if(n){let a=n.templates?n.templates.flatMap(l=>l.sites):[];if(a.length>0){let l=a.length-1,c=Math.floor(Math.random()*l),d=a[c];d&&(o=d?.id?d.id:o)}}e.append("site_id",o)}fetch($a+r,{method:"post",body:e,credentials:"include"}).then(async n=>{let o=await n.json(),{access_token:a,id:l,bounce_jwt:c}=o.jdata||{};a&&l?(this.props.loginToUdotCargoOnly!==!0&&this.props.setAuthData(a,l),this.props.domain_active&&c?this.props.getAuthToken({reverse_bounce_jwt:c}).then(()=>{this.redirectURL?window.location.href=this.redirectURL:this.props.onLoginSuccess?.(o.jdata)}):this.redirectURL?window.location.href=this.redirectURL:this.props.onLoginSuccess?.(o.jdata)):this.setState({error:o?.error||"Something went wrong. Please try again later.",loading:!1})}).catch(n=>{console.log(n),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.props.loadingTillFormRemoval!==!0&&this.setState({loading:!1})})};forgot=e=>{e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),fetch($a+"/dispatch/auth/handleResetFormPost",{method:"post",body:e,credentials:"include"}).then(async i=>{let r=await i.json();if(r.error&&r.error?.[0]?.length>0)this.setState({error:r.error[0],loading:!1});else if(this.state.formView==="forgot")this.setState({formView:"reset",resetEmail:e.get("email")});else{let n=new FormData;n.set("email",this.state.resetEmail),n.set("password",e.get("password")),this.login(n)}}).catch(i=>{console.log(i),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})})};validateMagicLogin(e){let i=null;for(let r of e.entries()){let[n,o]=r;n==="cargoMagicField"&&(o===""||!o)&&this.state.formView==="magicEmail"&&(o===""||!o)&&(i="Field cannot be empty.")}return i?(this.setState({error:i,loading:!1}),!1):!0}validateLogin(e){let i=null;for(let r of e.entries()){let[n,o]=r;n==="email"&&(o===""||!o)&&!this.state.prefilledEmail&&(this.state.formView==="newAcct"&&(o===""||!o)?i="Fields cannot be empty.":i="Incorrect Username or Password."),n==="password"&&(o===""||!o)&&i===null&&(i="Fields cannot be empty.")}return i?(this.setState({error:i,loading:!1}),!1):!0}validateForm(e){var i=e.get("pwreset").trim(),r=e.get("password").trim(),n=e.get("password_reset_confirm").trim();return i==""?(this.setState({error:"Reset code cannot be empty."}),!1):r==""||n==""?(this.setState({error:"Password cannot be empty."}),!1):r!=n?(this.setState({error:"Passwords do not match."}),!1):!0}componentDidMount=()=>{this.animateContainer(),document.addEventListener("keydown",this.handleInitialTab,!0)};componentDidUpdate=()=>{this.animateContainer()};componentWillUnmount(){document.removeEventListener("keydown",this.handleInitialTab,!0)}animateContainer=()=>{this.props.animateIn===!1?requestAnimationFrame(()=>{this.containerRef.current&&this.containerRef.current?.classList?.add("active-immediate")}):this.containerRef.current&&!this.containerRef.current.classList.contains("active")&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.containerRef?.current&&this.containerRef?.current?.classList.add("active")})})}},ek=De(t=>({site_url:t.site?.site_url,site_id:t.site?.id,domain_active:t.site?.domain_active}),(t,e)=>It({getAuthToken:e.getAuthTokenAction,setAuthData:(i,r)=>({type:"AUTHENTICATE_USER_FULFILLED",payload:{data:{access_token:i,id:r}}})},t))(w0)});var Cn,Ya=M(()=>{pt();oe();Cn=t=>e=>g(t,{store:qh(),...e})});function OX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FX(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(r){return r}).join(" ")}var Mge,Rge,x0,S0,_0,ou,DX,LX,ik,Nf,kge,rk=M(()=>{is();is();Bh();qe();jh();Da();ql();Vh();Mge=function(t){Ur(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.history=$h(r.props),r}var i=e.prototype;return i.render=function(){return Re.createElement(Hs,{history:this.history,children:this.props.children})},e}(Re.Component),Rge=function(t){Ur(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.history=JC(r.props),r}var i=e.prototype;return i.render=function(){return Re.createElement(Hs,{history:this.history,children:this.props.children})},e}(Re.Component),x0=function(e,i){return typeof e=="function"?e(i):e},S0=function(e,i){return typeof e=="string"?kr(e,null,null,i):e},_0=function(e){return e},ou=Re.forwardRef;typeof ou>"u"&&(ou=_0);DX=ou(function(t,e){var i=t.innerRef,r=t.navigate,n=t.onClick,o=Rr(t,["innerRef","navigate","onClick"]),a=o.target,l=Ut({},o,{onClick:function(d){try{n&&n(d)}catch(m){throw d.preventDefault(),m}!d.defaultPrevented&&d.button===0&&(!a||a==="_self")&&!OX(d)&&(d.preventDefault(),r())}});return _0!==ou?l.ref=e||i:l.ref=i,Re.createElement("a",l)}),LX=ou(function(t,e){var i=t.component,r=i===void 0?DX:i,n=t.replace,o=t.to,a=t.innerRef,l=Rr(t,["component","replace","to","innerRef"]);return Re.createElement(zs.Consumer,null,function(c){c||Bn(!1);var d=c.history,m=S0(x0(o,c.location),c.location),f=m?d.createHref(m):"",v=Ut({},l,{href:f,navigate:function(){var _=x0(o,c.location),E=pr(c.location)===pr(S0(_)),C=n||E?d.replace:d.push;C(_)}});return _0!==ou?v.ref=e||a:v.innerRef=a,Re.createElement(r,v)})}),ik=function(e){return e},Nf=Re.forwardRef;typeof Nf>"u"&&(Nf=ik);kge=Nf(function(t,e){var i=t["aria-current"],r=i===void 0?"page":i,n=t.activeClassName,o=n===void 0?"active":n,a=t.activeStyle,l=t.className,c=t.exact,d=t.isActive,m=t.location,f=t.sensitive,v=t.strict,b=t.style,_=t.to,E=t.innerRef,C=Rr(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Re.createElement(zs.Consumer,null,function(I){I||Bn(!1);var N=m||I.location,D=S0(x0(_,N),N),F=D.pathname,z=F&&F.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),G=z?za(N.pathname,{path:z,exact:c,sensitive:f,strict:v}):null,Y=!!(d?d(G,N):G),L=typeof l=="function"?l(Y):l,Z=typeof b=="function"?b(Y):b;Y&&(L=FX(L,o),Z=Ut({},Z,a));var $=Ut({"aria-current":Y&&r||null,className:L,style:Z,to:D},C);return ik!==Nf?$.ref=e||E:$.innerRef=E,Re.createElement(LX,$)})})});var Pn,bt,Ct,At,Ui=M(()=>{Pn=new Map;typeof window<"u"&&(window.listeners=Pn);bt=(t,e,i,r={})=>{let n=t;for(;n&&(Pn.has(n)&&Pn.get(n).has(e)&&(Pn.get(n).get(e)&&Pn.get(n).get(e)[0]==null&&console.trace(t,e,i,r),Pn.get(n).get(e).forEach(o=>o(i))),r.bubbles!==!1);)n=n.parentNode||n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host},Ct=(t,e,i)=>{if(!t){console.error("Unable to subscribe to non-existing element");return}Pn.has(t)||Pn.set(t,new Map);let r=Pn.get(t);r.has(e)||r.set(e,[]);let n=r.get(e);n.includes(i)||n.push(i)},At=(t,e,i)=>{if(!Pn.has(t))return;let r=Pn.get(t);if(r.has(e)){if(!i){r.delete(e);return}r.set(e,r.get(e).filter(n=>n!==i)),r.get(e).length===0&&r.delete(e),r.size===0&&Pn.delete(t)}}});function Lf(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(let n=0;n<i.length;n++)if(!hasOwnProperty.call(e,i[n])||!Object.is(t[i[n]],e[i[n]]))return!1;return!0}function un(t){if(ne)return t;let e,i,r,n=()=>{e={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},i=!1,r=void 0};n();let o=function(){let l=arguments.length-1;if(l===-1)return i===!1&&(r=t.call(this),i=!0),r;let c=e;for(let b=0;b<l;b+=1){let _=arguments[b],E=_===null||typeof _!="object"&&typeof _!="function",C;E?c.primitiveArgs===null?C=c.primitiveArgs=new Map:C=c.primitiveArgs:c.referenceArgs===null?C=c.referenceArgs=new WeakMap:C=c.referenceArgs,C.has(_)===!1?(c={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},C.set(_,c)):c=C.get(_)}let d,m=arguments[l],f=m===null||typeof m!="object"&&typeof m!="function",v;return f?c.primitiveResults===null?v=c.primitiveResults=new Map:v=c.primitiveResults:c.referenceResults===null?v=c.referenceResults=new WeakMap:v=c.referenceResults,v.has(m)?d=v.get(m):(d=t.apply(this,arguments),v.set(m,d)),d};return o.clear=function(){let l=arguments.length-1;if(l===-1){n();return}let c=e;for(let f=0;f<l;f+=1){let v=arguments[f],_=v===null||typeof v!="object"&&typeof v!="function"?c.primitiveArgs:c.referenceArgs;if(_===null)return;c=_.get(v)}let d=arguments[l];d===null||typeof d!="object"&&typeof d!="function"?(c.primitiveArgs!==null&&c.primitiveArgs.delete(d),c.primitiveResults!==null&&c.primitiveResults.delete(d)):(c.referenceArgs!==null&&c.referenceArgs.delete(d),c.referenceResults!==null&&c.referenceResults.delete(d))},o}var Gs,su,zX,E0,os,HX,qX,Of,ok,sk,Df,nk,ak,au,hr=M(()=>{Gs=pe(we(),1);_i();Ne();Ee();Ui();su=(t={},e)=>{let i={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:t.hasOwnProperty("t")&&t.t=="webgl"};t=Gs.default.extend(i,t),t.t==="original"&&(t.retina=!1),t.retina===!0&&!t.webgl&&(t.q==null&&(t.q=75),t.hasOwnProperty("w")&&(t.w=Math.min(t.w*2,e.width)),t.hasOwnProperty("h")&&(t.h=Math.min(t.h*2,e.height))),t.w&&t.w>e.width&&(t.w=e.width),t.h&&t.h>e.height&&(t.h=e.height);var r=zX(t.w,t.h,e);t.w=r.w,t.h=r.h;var n=["t","w","h","q","c"],o=[];return Gs.default.each(t,function(a,l){n.indexOf(l)===-1||a===""||(l==="c"?o.push("c/"+a.x+"/"+a.y+"/"+a.w+"/"+a.h):o.push(l+"/"+a))},void 0),e.hash!==void 0&&e.name!==void 0&&r.w>0?t.url="https://freight.cargo.site/"+o.join("/")+"/i/"+e.hash+"/"+e.name:t.url="",t},zX=(t,e,i)=>{let r=t,n=e,o=parseInt(i.width),a=parseInt(i.height);if(o==a)r=t||e||o,n=r;else if(t&&!e){let l=o/t;n=Math.floor(a/l),r=t}else if(e&&!t){let l=a/e;r=Math.floor(o/l),n=e}else{let l=Math.min(a/e,o/t);r=Math.floor(o/l),n=Math.floor(a/l)}return{w:r,h:n}},E0=(t=1,e)=>{!t||t<1||requestAnimationFrame(()=>{e?.(),E0(--t,e)})};os=(t,e,i,r,n=0,o={})=>{o.context=o.context||{};let a=(t.byParent[r.id]||[]).reduce((l,c)=>(l[t.indexById[c]]=c,l),{});for(;n>=0&&n<r.page_count&&o.context.hasBreak!==!0;){let l=a[n],c=l&&(e.byId[l]||i.byId[l]);if(!(c?.page_type==="set"&&o.includeSets!==!0)&&o.callback?.(r.id,n,c)==="break"){o.context.hasBreak=!0;break}c?.page_type==="set"&&os(t,e,i,c,o.reverse===!0?c.page_count-1:0,{...o,traverseUp:!1}),o.reverse===!0?n--:n++}if(o.traverseUp!==!1&&(o.reverse===!0&&n<0||o.reverse===!1&&n>r.page_count-1)){let l=i.byId[Gs.default.findKey(t.byParent,d=>d.includes(r.id))],c=t.indexById[r.id];if(l&&c!==void 0){if(o.includeSets&&o.callback?.(l.id,c,r)==="break"){o.context.hasBreak=!0;return}os(t,e,i,l,c+(o.reverse===!0?-1:1),o)}}};HX=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout;Je.debounceRendering=t=>{HX(()=>{bt(document,"preact-render-start"),t(),bt(document,"preact-render-complete")})};qX=Je.debounceRendering,Of=null,ok=()=>{Je.debounceRendering=t=>{Of=t}},sk=t=>{Of&&!t&&(bt(document,"preact-render-start"),Of(),bt(document,"preact-render-complete")),Of=null,Je.debounceRendering=qX},Df=new WeakMap,nk=Je.diffed;Je.diffed=t=>{Df.has(t)&&Df.get(t)(t.__e),nk&&nk(t)};ak=(t,e)=>(Df.set(t,e),()=>{Df.delete(t)}),au=(t,e)=>{if(!t)return null;let i="",r=(o,a)=>{let l=a.style?.getPropertyValue(o);return l!==""&&l!==void 0?l:null},n=[];return Gs.default.each(t.rules,o=>{let a=o.selectorText,l={},c=!1,d=!1,m=!1;o.cssText&&o.cssText.includes("--text-style")&&(d=!0,n.push(a+" a"),n.push(a+" a:hover")),o.cssText&&Gs.default.each(n,b=>{o.cssText.includes(b)&&(d=!0)}),o?.selectorText?.includes(".mobile")&&(m=!0),Gs.default.each(e,b=>{let _=!1;Array.isArray(b.denyList)&&b.denyList.forEach(C=>{C.includes("match:")&&a?.match(C.replace("match:",""))&&(_=!0),a&&a===C&&(_=!0)});let E=!1;Array.isArray(b.allowList)?b.allowList.forEach(C=>{C.includes("match:")&&a?.match(C.replace("match:",""))&&(E=!0),a&&a===C&&(E=!0)}):E=!0,(d||m)&&(_=!0),!(_===!0||E===!1)&&(l=b.properties.reduce((C,I)=>(I&&(C[I]=r(I,o)),C),l))});let f=".mobile "+a,v=Array.from(t.rules).find(b=>b.selectorText===f);v&&Object.keys(l).forEach(b=>{r(b,v)&&(l[b]=null)}),!(Object.values(l).every(b=>b===null)||Object.values(l).length===0)&&(i+=f+" { ",Gs.default.each(l,(b,_)=>{if(b){let E=b.split(" ").reduce((C,I,N)=>C+` calc(${I} * var(--mobile-padding-offset))`,"");i+=`${_}: ${E};`}}),i+=" } ")}),i}});function VX(t,e){let i=WX(t.pages.byId,lu),r=BX(i,t.structure.bySort),n=UX(i);return{renderedPages:i,renderedPins:r,nestingMap:n,sortMap:t.structure.bySort,adminMode:t.frontendState.adminMode}}var pi,ss,P0,lu,C0,UX,BX,WX,lk,Ad=M(()=>{Ee();qe();_i();pi=pe(we(),1);pt();hr();oe();ss=xn(),P0=()=>{},lu=[],C0=class extends Ii{constructor(e){super(e),this.state={adjustPairs:[],levelData:{},pageHeights:{},renderedPins:[],renderedPages:[],nestingMap:{},onPageMount:i=>{lu=[...lu,i]},onPageUnmount:i=>{lu=lu.filter(r=>r!==i)}},P0=this.updateHeights}updateHeights=e=>{this.setState(i=>({pageHeights:{...i.pageHeights,...e}}))};getTallestOfAdjusterCandidates=e=>{let i=null,r=[];pi.default.each(e,o=>{r.push({pageID:o.id,pageName:o.title,pageHeight:this.getHeightById(o.id)})});let n=pi.default.maxBy(r,o=>o.pageHeight);return n!==void 0?pi.default.filter(e,o=>o.id===n.pageID)[0]:!1};componentDidUpdate=(e,i)=>{this.makePinAdjustments(e,i)};findTallestOverlayAdjusterPageInLevel=(e,i)=>{let r=e.filter(n=>n.pin_options?.overlay===!0&&n.pin_options.adjust===!0);return r.length>0?this.getTallestOfAdjusterCandidates(r):null};getAdjustOnlyPageHeights=(e,i)=>{let r=pi.default.filter(this.props.nestingMap[i][e],o=>o.pin_options?.adjust&&!o.pin_options?.overlay),n=0;return pi.default.each(r,o=>{n+=this.getHeightById(o.id)}),n};getAdjustOnlyPinsByLevel=(e,i)=>pi.default.filter(this.props.nestingMap[i][e],r=>!r?.pin_options?.overlay);getOverlayPinsByLevel=(e,i)=>pi.default.filter(this.props.nestingMap[i][e],r=>r?.pin_options?.overlay);getClosestPageByProximity=(e,i)=>e.sort((r,n)=>i==="top"?this.props.sortMap[r.id]-this.props.sortMap[n.id]:this.props.sortMap[n.id]-this.props.sortMap[r.id])[0];getPagesToAdjust=(e,i)=>{let r=[],n=null,o=this.getAdjustOnlyPinsByLevel(e,i);if(o.length>0?r.push(this.getClosestPageByProximity(o,e)):pi.default.each(this.props.nestingMap,(a,l)=>{if(parseInt(l)>i&&a[e].length>0){let c=a[e].filter(m=>m.pin_options?.overlay===!0),d=a[e].filter(m=>m.pin_options?.overlay===!1);if(r=c.length>0?c:[],r.length===0&&d?.length>0&&r.push(this.getClosestPageByProximity(d,e)),n=l,r.length>0)return!1}}),r[0]===void 0){let a=this.props.renderedPages.filter(c=>c.pin===!1).sort((c,d)=>this.props.sortMap[c.id]-this.props.sortMap[d.id]),l=e==="top"?0:a.length-1;a.length>0&&r.push(a[l])}return{adjustedPages:r,adjustedLevel:n}};getHeightById=e=>this.state.pageHeights[e]??lu.find(i=>i.id===e)?.getBoundingClientRect().height;makePinAdjustments=(e,i)=>{if(!this.props.renderedPages||this.props.renderedPages.length===0||pi.default.isEqual(this.props.renderedPins,e.renderedPins)&&pi.default.isEqual(this.state.pageHeights,i.pageHeights)&&pi.default.isEqual(this.props.renderedPages,e.renderedPages)&&pi.default.isEqual(this.props.sortMap,e.sortMap))return;let r=[],n={levels:{},locations:{top:{totalHeight:0},bottom:{totalHeight:0}}};pi.default.each(this.props.nestingMap,(c,d)=>{let m={};d=parseInt(d),m.level=d,pi.default.each(c,(f,v)=>{if(v==="center")return;m[v]={adjustsSelf:!1,totalHeight:0,startingHeight:null,adjusterId:null,adjusterHeight:null,adjustedLevel:null,adjusteeIDs:null,hasOverlayPins:null};let b=m[v];b.hasOverlayPins=this.getOverlayPinsByLevel(v,d).length>0;let _=this.findTallestOverlayAdjusterPageInLevel(f,v);if(_){b.adjusterId=_.id,b.adjusterHeight=this.getHeightById(_.id),b.adjustsSelf=this.getAdjustOnlyPinsByLevel(v,d).length>0;let N=this.getPagesToAdjust(v,d).adjustedPages;N?.length>0&&(b.adjustedLevel=this.props.renderedPins[N[0].id]?.depth??"content",b.adjusteeIDs=pi.default.map(N,"id"),r[_.id]={adjusts:pi.default.map(N,"id"),location:v,adjustedHeight:this.getHeightById(_.id)})}let E=0,C=_?this.getHeightById(_.id):0,I=!0;b.totalHeight=(I?C:0)+this.getAdjustOnlyPageHeights(v,d),pi.default.each(n.levels,function(N,D){D<d&&(E+=N[v].totalHeight)}),b.startingHeight=E===0?null:E}),n.levels[d]=m});let a=(this.props.nestingMap[0]?.top||[]).filter(c=>{let d=c.pin_options;return d?.fixed===!0&&d?.adjust===!0}),l=a.length>0?this.getHeightById(this.getTallestOfAdjusterCandidates(a)?.id):null;(!pi.default.isEqual(i.adjustPairs,r)||!pi.default.isEqual(i.renderedPins,this.props.renderedPins)||!pi.default.isEqual(i.levelData,n))&&this.setState({adjustPairs:r,renderedPins:this.props.renderedPins,levelData:n,totalTopFixedPinsHeight:l})};getAdjustingLevelHeight=(e,i,r)=>{let n=null;return pi.default.each(e.levels,o=>{o[r].adjustedLevel===i&&(n=o[r].totalHeight)}),n};render(){return g(ss.Provider,{value:this.state,children:this.props.children||null})}},UX=un(t=>{let e=store.getState();return t.reduceRight((i,r)=>{let n=Ke.getParentSetList(e,r.id).length-1;r.pin===!0&&r.pin_options.fixed===!0&&(n=0),i[n]||(i[n]={top:[],bottom:[],center:[]});let o=i[n],a=r.pin?r.pin_options.position:"center",l=o[a];return l.push(r),l.sort((c,d)=>e.structure.bySort[c.id]-e.structure.bySort[d.id]),i},{})}),BX=un((t,e)=>{let i=store.getState(),r=t.map(n=>({depth:Ke.getParentSetList(i,n.id).length-1,pageListSort:e[n.id],id:n.id,fixed:n.pin_options?.fixed&&n.pin_options?.fixed===!0})).sort((n,o)=>n.pageListSort-o.pageListSort).sort((n,o)=>{if(n.fixed||o.fixed)return n.depth-o.depth});return t.reduceRight((n,o,a)=>{if(o.pin===!0&&pi.default.isPlainObject(o.pin_options)){let l=Ke.getParentSetList(i,o.id).length-1;n[o.id]={depth:o.pin_options.fixed?0:Ke.getParentSetList(i,o.id).length-1,originalDepth:l,location:o.pin_options?.position,type:o.pin_options.fixed?"fixed":o.pin_options.overlay?"overlay":"adjust",adjusts:o.pin_options?.adjust,sort:e[o.id],pinSort:r.findIndex(c=>c.id===o.id)+1}}return n},{})}),WX=un((t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0&&i.overlay!==!0));lk=De(VX)(C0)});function Ot(t){class e extends se{constructor(r){super(r)}render(r){return g(t,{...this.props,pageInfo:this.context})}}return e.contextType=uk,e}var Ff,uk,I0,zf,ki=M(()=>{Ee();pt();oe();Ff=new Map,uk=xn({isEditing:!1,pid:null,filterIndexes:[],setPageData:()=>!1,getPageData:()=>!1},"PageInfoContext"),I0=class extends se{constructor(e){super(e)}setPageData=(e={},i)=>{if(!this.props.pageRef.current)return;let n=Array.from(this.props.pageRef.current.querySelectorAll(i.tagName)).indexOf(i);if(n!==-1){let o=Ff.get(this.props.value.pid+"-"+i.tagName+"-"+n);o?o={...o,...e}:o=e,Ff.set(this.props.value.pid+"-"+i.tagName+"-"+n,o)}};getPageData=e=>{if(!this.props.pageRef.current)return null;let r=Array.from(this.props.pageRef.current.querySelectorAll(e.tagName)).indexOf(e);return r!==-1?Ff.get(this.props.value.pid+"-"+e.tagName+"-"+r)||{}:{}};getContextObject=()=>(this.props.value!==this.lastProps?.value&&(this.currentContextValue={...this.props.value,setPageData:this.setPageData,getPageData:this.getPageData}),this.lastProps=this.props,this.currentContextValue);render(e){return g(uk.Provider,{value:this.getContextObject(),children:e.children})}componentDidUpdate(e){e.adminMode!==this.props.adminMode&&Ff.clear()}};zf=De((t,e)=>({adminMode:t.frontendState.adminMode}))(I0)});var Hf,ck,dk=M(()=>{Hf=()=>new Map,ck=(t,e,i)=>{let r=t.get(e);return r===void 0&&t.set(e,r=i()),r}});var pk,hk=M(()=>{pk=()=>new Set});var fk,eve,mk=M(()=>{fk=Array.from,eve=Array.isArray});var qf,gk=M(()=>{dk();hk();mk();qf=class{constructor(){this._observers=Hf()}on(e,i){ck(this._observers,e,pk).add(i)}once(e,i){let r=(...n)=>{this.off(e,r),i(...n)};this.on(e,r)}off(e,i){let r=this._observers.get(e);r!==void 0&&(r.delete(i),r.size===0&&this._observers.delete(e))}emit(e,i){return fk((this._observers.get(e)||Hf()).values()).forEach(r=>r(...i))}destroy(){this._observers=Hf()}}});var yk,uu,vk,A0,Ye,T0=M(()=>{yk=pe(we());gk();Ne();A0=class extends qf{constructor(){super(),this.data={baseUnit:-1,mobile:{portrait:!0,active:!1,chrome:0,maxHeight:720,minHeight:720},window:{w:1280,h:720}},ne||(this.isInstagram=ob(),this.SvhSupported=CSS.supports("height","100svh"),this.SvhSupported&&(this.minHeightMeasuringStick=document.createElement("div"),this.minHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100svh;"),this.minHeightMeasuringStick.setAttribute("tabindex",-1),this.minHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.minHeightMeasuringStick)),this.maxHeightMeasuringStick=document.createElement("div"),this.maxHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100vh;"),this.maxHeightMeasuringStick.setAttribute("tabindex",-1),this.maxHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.maxHeightMeasuringStick),this.mobilePortraitMediaQuery=window.matchMedia("(max-aspect-ratio: 4/5)"),this.mobileLandscapeMediaQuery=window.matchMedia("(min-aspect-ratio: 2/3) and (max-height: 500px)"),this.setupMobileListener(),this.onWindowResize(),window._windowInfo=this,window.addEventListener("resize",this.onWindowResize,{passive:!0}))}setupStore(e){e.subscribe(()=>{let i=e.getState();i.frontendState&&i.frontendState.adminMode!==vk&&(setTimeout(()=>{this.onWindowResize()},150),vk=i.frontendState.adminMode),i.adminState&&i.adminState.viewport!==uu&&(uu=i.adminState.viewport,this.onMobileChange())})}setupMobileListener(){this.mobilePortraitMediaQuery.removeEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.removeEventListener("change",this.onMobileChange),this.onMobileChange(),this.mobilePortraitMediaQuery.addEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.addEventListener("change",this.onMobileChange)}onMobileChange=()=>{let e;uu?e=uu==="mobile":e=this.mobilePortraitMediaQuery.matches||this.mobileLandscapeMediaQuery.matches;let i=this.mobilePortraitMediaQuery.matches||uu&&uu==="mobile"||!1;(e!==this.data.mobile.active||e&&i!==this.data.mobile.portrait)&&(this.data.mobile.active=e,this.data.mobile.portrait=i,this.onWindowResize(),this.emit("mobile-change",[e]))};getBaseUnit(e){e=e||{};var i=0;return e=yk.default.extend(!0,{height:this.data.window.h,width:this.data.window.w,min:11,max:!1,weight:5},e),i=e.width<e.height?e.width:e.height,i/=100/e.weight,e.min&&i<e.min&&(i=e.min),e.max&&i>e.max&&(i=e.max),i}onWindowResize=()=>{let{data:e}=this,i=document.documentElement.clientWidth,r=window.innerHeight,n=0,o=0,a=this.maxHeightMeasuringStick.getBoundingClientRect().height;if(this.SvhSupported)o=this.minHeightMeasuringStick.getBoundingClientRect().height;else{let v=100;o=0;let b;for(;;){let _=window.matchMedia.call(window,"(min-height:"+o+"px)").matches;if(b!==void 0&&_!==b&&(v/=2,v*=-1),o+=v,b=_,Math.abs(v)<.01){o=Math.round(o);break}}}n=a-o;let l=0,c=5,d=0,m=9;o+n>i&&(l=(o+n)/i-1),l=l/.777777778,l>1&&(l=1),e.mobile.active&&!e.mobile.portrait&&(m=18),d=this.getBaseUnit({weight:m+c*l,min:20,width:i,height:o+n});let f=!this.isInstagram;if(!f){let v=e.window.w,b=e.window.h;switch(!0){case v!=i:case Math.abs(b-r)>150:f=!0;break;default:f=!1;break}}f&&(e.window.h=r,e.window.w=i,e.mobile.minHeight=o,e.mobile.maxHeight=a,e.mobile.chrome=e.mobile.maxHeight-e.window.h,e.baseUnit=d,d!==e.size&&(document.documentElement.style.setProperty("--base-size",d*.16+"px"),document.documentElement.style.setProperty("--viewport-height",r+"px"),document.documentElement.style.setProperty("--min-viewport-height",o+"px")),this.data=e),this.emit("window-resize",[])};applyGrid=e=>{e==null&&(e=this.data.mobile.active);let i=this.data.window.w,r=this.data.window.h;e&&(r=this.data.mobile.minHeight);let n=Math.max(Math.round(i*(40/1920)),15),o=Math.max(Math.round(i*(25/1920)),15),a=15,l=e?4:8,c=8,d=4,m=4,f=i-a*2,v=r-a*2,b=f/2,_=(f-(l-1)*n)/l;b=Math.floor(b/m)*m;let E=f-b;document.documentElement.style.setProperty("--grid-width",f+"px"),document.documentElement.style.setProperty("--grid-height",v+"px"),document.documentElement.style.setProperty("--grid-cell-height",v/c+"px"),document.documentElement.style.setProperty("--grid-cell-height-rounded",Math.round(v/c)+"px"),document.documentElement.style.setProperty("--grid-subcell-height",v/(c*3)+"px"),document.documentElement.style.setProperty("--grid-leftPanel-width",E+"px"),document.documentElement.style.setProperty("--grid-rightPanel-width",b+"px"),document.documentElement.style.setProperty("--grid-cell-width",_+"px"),document.documentElement.style.setProperty("--grid-subcell-width",(_-o*2)/3+"px"),document.documentElement.style.setProperty("--grid-column-gap",n+"px"),document.documentElement.style.setProperty("--grid-subcolumn-gap",o+"px")}},Ye=new A0});var Bi=M(()=>{T0();T0()});function wo(t){class e extends se{constructor(r){super(r),this.lastScrollUIDRef=me()}render(){return g(t,{...this.props,scrollContext:this.context})}componentDidMount(){this.context&&this.props.baseNode&&(this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid),this.props.baseNode}refreshScrollContext=r=>{r.element==this.props.baseNode&&this.props.baseNode&&(this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid),setTimeout(()=>{this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid},0))};componentWillUnmount(){this.props.baseNode&&this.context&&this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid)}componentDidUpdate(r,n){this.props.baseNode!==r.baseNode?(r.baseNode&&this.context.removeElementFromScrollContext(r.baseNode,this.context.scrollUid),this.props.baseNode&&this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid):this.lastScrollUIDRef.current!==this.context.scrollUid&&this.props.baseNode&&(this.lastScrollUIDRef.current&&this.context.removeElementFromScrollContext(this.props.baseNode,this.lastScrollUIDRef.current),this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid)}}return e.contextType=R0,e}function YX(t){return It({updateFrontendState:Fe.updateFrontendState},t)}var M0,KX,R0,cu,du,Xa,Td,bk,Uf,pu,xo=M(()=>{Ee();M0=pe(we(),1);Ne();jt();Ee();qe();di();pt();Bi();Ui();oe();KX={scrollUid:"default",scrollingElement:null,getScrollPosition:()=>({scrollHeight:0,scrollWidth:0,x:0,y:0,w:0,h:0}),scrollIntoView:()=>{},removeElementFromScrollContext:()=>{},addElementToScrollContext:()=>{},updateScrollPosition:()=>{}},R0=xn(M0.default.cloneDeep(KX)),cu={},du={},Xa={default:new Set};ne||(Td=new ResizeObserver(function(t){t.forEach(function(e){bt(e.target,"elementResize",null,{bubbles:!1})})}));bk=(t,e)=>{t.forEach(function(i){let r="inside";i.boundingClientRect.bottom<0&&!i.isIntersecting?r="above":i.boundingClientRect.top>=0&&!i.isIntersecting&&(r="below"),bt(i.target,e,{hasLayout:i.boundingClientRect.width>0&&i.boundingClientRect.height>0,visible:i.isIntersecting,position:r},{bubbles:!1})})},Uf=class extends Ii{constructor(e){super(e),this.state={scrollUid:"default",scrollingElement:null,getScrollPosition:this.getScrollPosition,scrollIntoView:this.scrollIntoView,updateScrollPosition:this.updateScrollPosition,addElementToScrollContext:this.addElementToScrollContext,removeElementFromScrollContext:this.removeElementFromScrollContext},this.scrollData={x:0,y:0,w:0,h:0}}addElementToScrollContext=(e,i)=>{if(i=="default")return;let r=e.classList.contains("quick-view-item"),n=e.parentNode?.nodeName==="GALLERY-SLIDESHOW",o=e.parentNode?.nodeName==="MARQUEE-INNER",a=e.hasAttribute("uses")&&e.getAttribute("uses").includes("flying-object");r||n||o||a?(r||a)&&(bt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),bt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})):Xa[i].has(e)||(Xa[i].add(e),du[i].observe(e),cu[i].observe(e))};removeElementFromScrollContext=(e,i)=>{du[i]?.unobserve(e),cu[i]?.unobserve(e),Xa[i]?.delete(e)};updateScrollPosition=e=>{if(ne||!this.state.scrollingElement)return;let i=e.x||this.scrollData.x,r=e.y||this.scrollData.y;this.state.scrollingElement===window?document.scrollingElement.scrollTo({top:r,left:i,behavior:"instant"}):this.state.scrollingElement.scrollTo({top:r,left:i,behavior:"instant"})};onScrollRequest=e=>{if(e.defaultPrevented)return;e.stopPropagation(),e.preventDefault();let i={...e.detail};this.scrollIntoView(e.target,i)};scrollIntoView=(e=null,i={})=>{this.onScroll(),this.onResize();let{transitionTime:r=1e3,preventQuickViewClose:n=!0,lazyScroll:o=!1,callback:a=null,verticalAlign:l="center",windowAlign:c="center",easing:d="easeInOutCubic",offset:m={x:0,y:0}}=i;if(!(this.state.scrollingElement===window?document.scrollingElement:this.state.scrollingElement).contains(e)||!e){a&&a();return}let v=e.getBoundingClientRect();for(;v.width===0&&v.height==0&&e;)e=e.parentElement,v=e.getBoundingClientRect();let b=v.left+v.width*.5,_=v.top,E=0;switch(l){case"center":E=v.height*.5;break;case"bottom":E=v.height;break;case"top":E=0;break}let C=document.documentElement.clientWidth,I=document.documentElement.clientHeight,N=0;switch(c){case"top":N=0;break;case"bottom":N=-I;break;case"center":default:N=-I+.5;break}if(o&&v.bottom>=20&&v.right>=20&&v.top<=I-20&&v.left<=C-20){a&&a();return}let D=this.getScrollPosition(),F={...D},z=D.x,G=D.y,Y=Math.max(0,Math.min(D.scrollWidth-C,z-(C*.5-b)));Y+=m.x;let L=Math.max(0,Math.min(D.scrollHeight-I,G+_+E+N+m.y)),Z=0,$=0;cancelAnimationFrame(this.scrollAnimationFrame);var j=()=>{cancelAnimationFrame(this.scrollAnimationFrame),this.state.scrollingElement.removeEventListener("mousewheel",j),this.props.updateFrontendState({quickView:{autoScrolling:!1}}),a&&a()};this.state.scrollingElement.addEventListener("mousewheel",j);let ie=H=>{let ae=$===0?0:H-$;$=H,Z=Z+ae;let ee=0;if($e[d])ee=$e[d](Z/r);else if(typeof d=="function")ee=d(Z/r);else switch(d){case"linear":ee=Z/r;break;default:ee=sb(Z/r);break}let J=this.getScrollPosition(),K=e.getBoundingClientRect().top,W=Math.max(0,Math.min(J.scrollHeight-I,J.y+K+E+N+m.y))-L;W!==0&&(L+=W,G+=W),Z<=r?(this.updateScrollPosition({x:z+(Y-z)*ee,y:G+(L-G)*ee}),this.scrollAnimationFrame=requestAnimationFrame(ie)):(this.updateScrollPosition({x:Y,y:L}),j())};this.props.updateFrontendState({quickView:{autoScrolling:n}}),r==0?(this.updateScrollPosition({x:Y,y:L}),j()):this.scrollAnimationFrame=requestAnimationFrame(ie)};render(){return g(R0.Provider,{value:this.props.passthrough?this.context:this.state,children:this.props.children})}componentDidUpdate(e,i,r){ne||(this.checkScrollElement(),this.state.scrollingElement!=i.scrollingElement&&this.removeListeners(i))}setNewElement=e=>{let i=M0.default.uniqueId();Xa[i]=new Set,e==window?(Ct(document.scrollingElement,"elementResize",this.onResize),Td.observe(document.scrollingElement),window.addEventListener("scroll",this.onScroll,{passive:!1}),window.addEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(Ct(e,"elementResize",this.onResize),e.addEventListener("request-scroll",this.onScrollRequest,{passive:!1}),Td.observe(e),e.addEventListener("scroll",this.onScroll,{passive:!1})),du[i]=new IntersectionObserver(r=>bk(r,"viewportIntersectionChange"),{root:e==window?document:e,rootMargin:"0px",threshold:0}),cu[i]=new IntersectionObserver(r=>bk(r,"lazyLoadIntersectionChange"),{root:e==window?document:e,rootMargin:window.screen.height*1.5+"px "+window.screen.width*1.5+"px",threshold:0}),this.setState({scrollUid:i,scrollingElement:e},()=>{this.onResize()})};removeListeners=e=>{e.scrollingElement&&(e.scrollingElement==window?(window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll,{passive:!0}),Td.unobserve(document.scrollingElement),window.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(At(e.scrollingElement,"elementResize",this.onResize),e.scrollingElement.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),e.scrollingElement.removeEventListener("scroll",this.onScroll,{passive:!0}),Td.unobserve(e.scrollingElement)),Object.keys(Xa[e.scrollUid]).forEach(i=>{cu[e.scrollUid].unobserve(i),du[e.scrollUid].unobserve(i),Xa[e.scrollUid].delete(i)})),e.scrollUid!="default"&&(cu[e.scrollUid].disconnect(),du[e.scrollUid].disconnect(),delete cu[e.scrollUid],delete du[e.scrollUid],delete Xa[e.scrollUid])};checkScrollElement=()=>{!ne&&this.props.scrollingElement.current&&this.props.scrollingElement.current!=this.state.scrollingElement&&!this.props.passthrough?this.setNewElement(this.props.scrollingElement.current):this.state.scrollingElement!==null&&this.props.passthrough&&this.setState({scrollingElement:null,scrollUid:"default"})};componentDidMount(){ne||this.checkScrollElement()}componentWillUnmount(){ne||(cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.onScrollFrame),this.removeListeners(this.state))}onResize=e=>{ne||!this.state.scrollingElement||(e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),this.state.scrollingElement===window?(this.scrollData.scrollHeight=document.scrollingElement.scrollHeight,this.scrollData.scrollWidth=document.scrollingElement.scrollWidth,this.scrollData.h=document.documentElement.clientHeight,this.scrollData.w=document.documentElement.clientWidth):(this.scrollData.scrollHeight=this.state.scrollingElement.scrollHeight,this.scrollData.scrollWidth=this.state.scrollingElement.scrollWidth,this.scrollData.h=this.state.scrollingElement.clientHeight,this.scrollData.w=this.state.scrollingElement.clientWidth),this.onScroll())};onScroll=()=>{ne||!this.state.scrollingElement||this.props.passthrough||(this.state.scrollingElement===window?(this.scrollData.x=window.pageXOffset||document.scrollingElement.scrollLeft||document.documentElement.scrollLeft||0,this.scrollData.y=window.pageYOffset||document.scrollingElement.scrollTop||document.documentElement.scrollTop||0):(this.scrollData.x=this.state.scrollingElement.scrollLeft,this.scrollData.y=this.state.scrollingElement.scrollTop))};getScrollPosition=()=>({...this.scrollData})};Uf.contextType=R0;pu=De((t,e)=>({quickView:t.frontendState.quickView}),YX)(Uf)});function XX(t,e,i,r){if(ne)return;i=i||t.observedAttributes||Object.keys(t.propTypes||{});function n(){let a=Reflect.construct(HTMLElement,[],n);a.__observedAttributes=i,a._editorProperties={},a._vdomComponent=t,a.attachShadow({mode:"open",delegatesFocus:r&&r.delegatesFocus}),a._customSlots=r&&r.customSlots?r.customSlots:[],a._replaceChild=r&&r.replaceChild,a._props={},a._uid=hu.default.uniqueId(),a._initialMount=!0;let l=c=>{let d=new WeakMap;c.forEach(m=>{switch(m.type){case"childList":a._customElementComponent&&(d.has(a.children)||d.set(a.children,Array.from(a.children)),a._customElementComponent.setState({childArray:d.get(a.children)}));break;case"attributes":let f=m.target.getAttribute(m.attributeName);m.attributeName!=="style"&&m.attributeName!=="class"&&f!==a[m.attributeName]&&(f==null&&(f=void 0),a.__observedAttributes?.indexOf(m.attributeName)>-1?a[m.attributeName]=f:a._customElementComponent&&a._customElementComponent.setState(v=>{let b={...v.baseNodeProps};if(b[m.attributeName]!==f)return b[m.attributeName]=f,{baseNodeProps:b}}),a._props[m.attributeName]=f);break}})};return a.__observer=new MutationObserver(l),a.flushMutationQueue=function(){let c=a.__observer.takeRecords();c.length>0&&l(c)},i.forEach(c=>{let d=hu.default.camelCase(c),m=function(){return a._customElementComponent?a._customElementComponent.state.baseNodeProps[c]:a._props?.[c]??void 0},f=function(v){let b=v;b=b==null||b===""?void 0:b,b=b==="true"?!0:b,b=b==="false"?!1:b;let _=!1,E=typeof b;if((b==null||E==="string"||E==="boolean"||E==="number")&&(_=!0),a._customElementComponent&&a._customElementComponent.setState(C=>{let I={...C.baseNodeProps};if(I[c]!==b)return I[c]=b,{baseNodeProps:I}}),a._props[c]=b,_){let C=c.toLowerCase();v===""||v===void 0||v==null?a._customElementComponent.props.baseNode.hasAttribute(C)&&C!=="tag-text"&&a.removeAttribute(C):v!==""&&v!==a.getAttribute(C)&&a.setAttribute(C,v)}};Object.defineProperty(a,c,{get:m,set:f,configurable:!0}),Object.defineProperty(a,d,{get:m,set:f,configurable:!0})}),a}n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=ZX,n.prototype.disconnectedCallback=QX,n.prototype.adoptedCallback=JX;let o=e||t.tagName||t.displayName||t.name;return r?.extends?customElements.get(o)||customElements.define(o,n,{extends:r.extends}):customElements.get(o)||customElements.define(o,n)}function ZX(){if(this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component"))return;let t=this.nodeName=="TEXT-ICON";if(this._initialMount){let i=document.createElement("style");i.id="space-filler",t?i.innerHTML=`:host {
				height: 1.2em;
				width: 1.2em;
				contain: layout;
				cursor: text;

				margin-top: -1em;
				margin-bottom: -.25em;
				display: inline-block;
				vertical-align: baseline;
			
				position: relative;
			}`:i.innerText=":host { display: block; opacity: 0; }",this.shadowRoot.appendChild(i)}delete this._initialMount,this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!1});let e={element:this,portalHost:null};t?e.component=g(Bf,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid):e.component=g(eZ,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid),bt(this,"custom-element-connected",e),this._portalHost=e.portalHost,this._portalHost===null&&k0.push(this)}function JX(){}function QX(){this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component")||(this.__observer.disconnect(),this._portalHost&&bt(this._portalHost,"custom-element-disconnected",{component:null,element:this}),this._portalHost=null,this._selectState=null)}var hu,k0,Bf,eZ,So,Zt,Wi=M(()=>{Ee();qe();hr();hu=pe(we(),1);Ne();pt();xo();Ui();oe();k0=[];Bf=class extends se{constructor(e){super(e);let i=this.getPropsFromAttributes();this.state={baseNodeProps:{...i,...e.baseNode._props},childArray:Array.from(e.baseNode.children)},e.baseNode._customElementComponent=this}getPropsFromAttributes=()=>{let e=this.props.baseNode.attributes,i=0,r={};for(i=e.length;i--;){let n=e[i].value==="true"?!0:e[i].value;n=n==="false"?!1:n,r[e[i].name]=n}return{...r,...this.props.baseNode._props}};componentDidMount(){if(ne)return;let e=this.getPropsFromAttributes();this.setState(i=>hu.default.isEqual(e,this.state.baseNodeProps)?null:{baseNodeProps:e}),Ct(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}componentWillUnmount(){At(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}refreshAttributes=e=>{if(e.element==this.props.baseNode){let i=this.getPropsFromAttributes();this.setState(r=>hu.default.isEqual(i,this.state.baseNodeProps)?null:{baseNodeProps:i})}};render(e,i){let{baseNodeProps:r,childArray:n}=i;return Tt(this.props.customElementComponent,{...e,...r,childArray:n})}},eZ=wo(Bf),So=class extends Ii{constructor(e){super(e),this.state={portals:[]},!ne&&(Hc(this.props.portalHost)?this.stopListeningToVnodeDiff=ak(this.props.portalHost,this.onPortalHostMounted):this.props.portalHost instanceof Node&&this.onPortalHostMounted(this.props.portalHost))}render(e){return g(te,{children:this.state.portals.map(([i,r],n)=>i&&r?Ge(i,r):Ge(null,null))},"portal-map")}addPortal=e=>{if(e.portalHost)return;let{component:i,element:r}=e;if(!i||!r)return;e.portalHost=this.portalHostElement;let n=!1;this.setState(o=>{let a=[...o.portals],l=a.findIndex(([c,d])=>d===r&&c!==null);return l===-1?a.push([i,r]):(a[l]=[null,null],n=!0),{portals:a}},()=>{n&&this.addPortal(e)})};removePortal=e=>{e.element&&this.setState(i=>{let r=[...i.portals],n=r.findIndex(([o,a])=>a===e.element);return n!==-1?(r[n]=[r[n][0],null],{portals:r}):null},()=>{})};onElementHostConnected=e=>{let i=e.element,r=[];this.setState(n=>{let o=[...n.portals];return o.forEach(([a,l],c)=>{i.contains(l)&&(r.push(l),o[c]=[null,null])}),{portals:o}},()=>{r.forEach(n=>{n.connectedCallback()})})};onPortalHostMounted=e=>{this.portalHostElement!==e&&(this.portalHostElement=e,bt(this.portalHostElement,"element-host-connected",{element:this.portalHostElement}),Ct(this.portalHostElement,"custom-element-connected",this.addPortal),Ct(this.portalHostElement,"custom-element-disconnected",this.removePortal),Ct(this.portalHostElement,"element-host-connected",this.onElementHostConnected));let i=k0.filter(r=>this.portalHostElement.contains(r));i.forEach(r=>r.connectedCallback()),hu.default.pullAll(k0,i)};componentDidMount(){}componentDidUpdate(e,i){ne||this.state.portals.forEach(r=>{if(r[1]?.shadowRoot?.children){let n=Array.from(r[1].shadowRoot.children).find(o=>o.id==="space-filler");n&&n.remove()}})}componentWillUnmount(){ne||(this.portalHostElement&&(At(this.portalHostElement,"element-host-connected",this.onElementHostConnected),At(this.portalHostElement,"custom-element-disconnected",this.removePortal),At(this.portalHostElement,"custom-element-connected",this.addPortal),delete this.portalHostElement),this.stopListeningToVnodeDiff?.())}},Zt=XX});var wk,N0,xk,Sk=M(()=>{Ee();Rt();Ni();xo();_i();wk=pe(we(),1);oe();N0=class extends se{constructor(e){super(e),this.state={dragPos:{x:0,y:0},referenceDragPos:{x:0,y:0},swapTarget:null,readyForDrop:!1,draggingOverItem:!1,rect:{top:0,left:0,width:0,height:0}},this.dropRef=me(),this.onDragOver=wk.default.throttle(this.onDragOver,80)}showDropTarget=()=>{if(Math.abs(this.state.dragPos.x-this.state.referenceDragPos.x)>10||Math.abs(this.state.dragPos.y-this.state.referenceDragPos.y)>10){this.setState({swapTarget:null});return}ye.globalDragEventController.customDropTarget!==this.dropRef.current&&(ye.globalDragEventController.releaseCustomDropTarget(ye.globalDragEventController.customDropTarget),ye.globalDragEventController.setCustomDropTarget(this.dropRef.current)),this.setState({readyForDrop:!0})};getRect=()=>{this.state.swapTarget&&this.setState({rect:this.state.swapTarget.getBoundingClientRect()})};render(e,i){let{draggingOverItem:r,readyForDrop:n,rect:o}=i,a={frame:{display:n?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.6)",position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px",height:o.height+"px",pointerEvents:"none",zIndex:999},replace:{pointerEvents:"none",position:"relative",top:"unset",left:"unset"}};return g("div",{ref:this.dropRef,style:a.frame,children:g("button",{className:"media-options-button multiple",style:a.replace,children:"Replace"})})}onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:!1})};onDragDrop=(e,i,r)=>{clearTimeout(this.showDropTargetTimer),this.onDragOver.cancel(),!(this.dropRef.current!==r.customDropTarget||!this.state.swapTarget||r.inAdmin)&&(CargoEditor.mutationManager.execute(()=>{let n=window.store.getState(),o=this.state.swapTarget,a=r.draggedMediaItems[0],l=o.closest("[thumbnail-index]"),c=o.getAttribute("hash"),d=a.getAttribute("hash"),m=o.closest(".page[id]")?.getAttribute("id");if(l){let C=o.getAttribute("href");m=Ke.getContentByPurl(n,C)?.id||null}if(!m||!d)return;let f=Ke.getMediaByHash(n)[d]||null,v=Ke.getMediaByHash(n)[c]||null;if(!f)return;let{CRDTItem:b}=ye.getCRDTItem({reducer:"pages.byId",item:m});if(!(n.pages.byId[m].media||[]).find(C=>C.hash==f.hash)){if(!(b.get("media")instanceof ye.adminWindow.Y.Array)){let I=new ye.adminWindow.Y.Array;I.insert(0,b.get("media")||[]),b.set("media",I)}let C=ye.convertStateToSharedType(f,new ye.adminWindow.Y.Map);b.get("media").push([C])}if(l)ye.applyChangesToYType(b,{thumb_media_id:f.id});else{let C=f&&v&&(f.is_video!==v.is_video||f.is_image!==v.is_image||f.is_video!==v.is_video);v&&C&&(o.removeAttribute("autoplay"),o.removeAttribute("loop"),o.removeAttribute("muted"),o.removeAttribute("poster"),o.removeAttribute("browser-default"),f.is_video?(!f.has_audio_track||f.duration<15?(o.setAttribute("autoplay",!0),o.setAttribute("muted",!0),o.setAttribute("loop",!0)):(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),f.duration<20&&o.setAttribute("loop",!0)),o.setAttribute("autoplay",!0),o.setAttribute("loop",!0),o.setAttribute("muted",!0)):f.is_url&&(f.url_type=="vimeo"||f.url_type=="youtube")&&(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),o.setAttribute("muted",!1),o.setAttribute("loop",!1))),o.removeAttribute("src"),o.setAttribute("hash",d),o.removeAttribute("width"),o.removeAttribute("height")}}),this.setState({readyForDrop:!1,swapTarget:null,draggingOverItem:!1}))};onBeforeDrop=(e,i,r)=>{!r.fromAdmin&&!r.fromOutside||this.state.readyForDrop&&this.state.swapTarget?.nodeName==="MEDIA-ITEM"&&r.draggedMediaItems.length===1&&(ye.globalDragEventController.releaseCustomDropTarget(r.customDropTarget),ye.globalDragEventController.setCustomDropTarget(this.dropRef.current))};onDragOver=(e,i,r)=>{let n=i.target.closest("MEDIA-ITEM"),o=r.draggedMediaItems.length===1&&r.draggedMediaItems[0]!==n&&!r.draggedMediaItems.some(l=>l.getAttribute("hash")==="placeholder")&&CargoEditor.getActiveEditor().getElement().contains(n)&&r.draggedMediaItems[0]?.getAttribute("hash")!==n?.getAttribute("hash"),a=!r.inAdmin&&r.fromAdmin;if(n&&a&&o){let l=Math.abs(this.state.dragPos.x-r.cursorPosition.x)>2||Math.abs(this.state.dragPos.y-r.cursorPosition.y)>2;this.state.swapTarget!==n||l?(ye.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({dragPos:{...r.cursorPosition},referenceDragPos:{...r.cursorPosition},readyForDrop:!1,draggingOverItem:!0,swapTarget:n}),this.showDropTargetTimer=setTimeout(this.showDropTarget,400)):this.setState({dragPos:{...r.cursorPosition}}),this.getRect()}else ye.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:null,dragPos:{...r.cursorPosition}})};componentDidMount(){this.findDragController().then(()=>{ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("drop",this.onDragDrop),ye.globalDragEventController.on("dragend",this.onDragEnd),ye.globalDragEventController.on("before-drop",this.onBeforeDrop)})}componentWillUnmount(){this.onDragOver.cancel(),this.getRect.cancel(),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("dragend",this.onDragEnd),ye.globalDragEventController.off("before-drop",this.onBeforeDrop)}componentDidUpdate(e,i){(this.state.swapTarget!==i.swapTarget||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&this.state.swapTarget?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=()=>{this.ticking||(this.rectFrame=requestAnimationFrame(()=>{this.getRect(),this.ticking=!1}),this.ticking=!0)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let a=ye.globalDragEventController||null;a?(clearInterval(n),e(a)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()})},xk=wo(N0)});var Wf,O0,_k,Ek=M(()=>{Ee();Ls();Rt();Ni();xo();Ne();Wf=pe(we(),1);oe();O0=class extends se{constructor(e){super(e),this.state={rect:{top:null,left:null},initialRect:{top:null,left:null},initialScrollY:0,isClickable:!0,visible:!1,parentFontInfo:{fontSize:null,lineHeight:null}},this.maxButtonHeight=20,this.minButtonHeight=10,this.clonedRange=null,this.ticking=!1,this.isDebug=!1,Tf.contentWindow?.CargoEditor&&Object.keys(Tf.contentWindow?.CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}componentWillUnmcount(){CargoEditor&&(CargoEditor.events.off("cursor-activity",this.onSelectionChange),CargoEditor.events.off("editor-keydown",this.onEditorKeydown)),window.removeEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("selectionchange",this.onSelectionChange),window.removeEventListener("blur",this.onEditorBlur),this.props?.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)}bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),window.addEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),document.addEventListener("selectionchange",this.onSelectionChange),window.addEventListener("blur",this.onEditorBlur),CargoEditor.events.on("cursor-activity",this.onSelectionChange),CargoEditor.events.on("editor-keydown",this.onEditorKeydown),this.props?.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)};componentDidUpdate(e,i){this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement&&(this.props.scrollContext.scrollingElement?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=e=>{if(!this.state.visible||this.ticking)return;let i=window.pageYOffset,r=window.pageYOffset-this.state.initialScrollY,n=Math.round(this.state.initialRect.top-r);this.setState({rect:{top:n,left:this.state.initialRect.left}})};onEditorBlur=()=>{this.setState({visible:!1})};onEditorKeydown=()=>{this.setState({visible:!1})};onMouseUp=e=>{this.setState({clickable:!0}),e.target.closest("[editing]")&&this.checkAndSetVisiblity()};onMouseDown=()=>{this.setState({visible:!1,clickable:!0})};onSelectionChange=Wf.default.debounce(e=>{if(this.ticking)return;if(this.ticking=!0,this.setState({visible:!1}),!CargoEditor.getActiveRange())return null;let r=document.querySelector('[editing="true"] bodycopy');if(!r)return null;let n,o=window.getComputedStyle(r);n=o.getPropertyValue("font-size"),n=Number(n.match(/[\d\.]+/));let a=o.getPropertyValue("line-height");a=Number(a.match(/[\d\.]+/)),this.setState({parentFontInfo:{fontSize:n,lineHeight:a}},()=>{this.setButtonPosition()})},50);checkAndSetVisiblity=Wf.default.debounce((e,i)=>{e=CargoEditor.getActiveRange(),i=CargoEditor?.getActiveEditor();let r=i?.checkIfEmpty(),n=this.isEligibleEmptyLine(e),o=!!(r||n);this.isDebug&&console.log("checkAndSetVisible",o),this.setVisible(o)},400);setVisible=e=>{this.isDebug&&console.log("set visible",e),this.setState({initialScrollY:window.pageYOffset,visible:e},()=>{this.ticking=!1})};isEligibleEmptyLine=e=>{if(!e)return!1;let i=e.endContainer.childNodes[e.endOffset-1],r=e.endContainer.childNodes[e.endOffset],n=e.endContainer.childNodes[e.endOffset-2];for(;i&&CargoEditor.helpers.isWhitespaceNode(i);)i=i.previousSibling;for(;r&&CargoEditor.helpers.isWhitespaceNode(r);)r=r.nextSibling;for(;n&&CargoEditor.helpers.isWhitespaceNode(n);)n=n.previousSibling;return!!(e.collapsed&&e.endContainer&&e.endContainer.nodeType==Node.ELEMENT_NODE&&(e.endContainer.nodeName==="BODYCOPY"||e.endContainer.nodeName==="COLUMN-UNIT")&&(e.endOffset===0&&e.endContainer.childNodes.length==0||this.checkNodeContent(i)&&this.checkNodeContent(n)||this.checkNodeContent(r)&&!i))};restoreTextCursorPosition=e=>{e.detail.cachedRange&&window.requestAnimationFrame(()=>{CargoEditor.helpers.setActiveRange(e.detail.cachedRange),CargoEditor?.getActiveEditor().getElement().focus()})};checkNodeContent=e=>!!(e&&e.nodeName==="BR"||e?.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(e)?.getPropertyValue("display")==="block");getTextCursorRect=(e,i,r)=>{if(!e)return!1;if(this.clonedRange===e)return null;this.clonedRange=e.cloneRange();let n=sn(),o=r.fontSize*.15*-1,a=r.lineHeight*.15*-1,l=document.createElement("input");l.style.display="inline-block",l.style.fontSize=r.fontSize+"px",l.style.border="0",l.style.background="blue",l.style.outline="none",l.style.width="2px",n?(l.style.height=r.lineHeight+"px",l.style.lineHeight=r.lineHeight+"px",l.style.margin=`${a}px 0 0 0`,l.style.padding="0",l.style.verticalAlign="text-bottom"):(l.style.height=r.fontSize+"px",l.style.verticalAlign="middle",l.style.margin=`${o}px 0 0 0`,l.style.padding="0"),l.setAttribute("data-ignore-changes",""),l.setAttribute("data-prevent-copy",""),l.setAttribute("disabled",""),l.setAttribute("readonly",""),l.setAttribute("test-delete-visible",""),l.setSaveable(!1),e.insertNode(l);let c=CargoEditor?.getActiveEditor()?.getElement?.()?.getBoundingClientRect(),d=l.getBoundingClientRect();l.nextSibling&&l.nextSibling.nodeType===Node.TEXT_NODE&&l.nextSibling.setSaveable(!0),l.remove();let m=c.height-i.height;return this.clonedRange&&CargoEditor.helpers.setActiveRange(this.clonedRange),{bottom:d.bottom-m,height:d.height,center:d.bottom-m-(d.top-m),left:d.left,right:d.right,top:d.top-m,width:d.width,x:d.x-m,y:d.y}};setButtonPosition=()=>{this.isDebug&&console.log("set button position");let e=CargoEditor.getActiveRange(),i=!1,r=!1,n=null,o=null,a=null,l=null,c=null,d=null,m=0,f=0,v=this.state.parentFontInfo?.fontSize;if(!this.state.parentFontInfo){this.ticking=!1;return}if(v>20&&(v=20),v<10&&(v=10),!Wf.default.isEmpty(CargoEditor)&&(n=CargoEditor?.getActiveEditor(),n&&(o=n.getElement()),i=n?.checkIfEmpty(),r=this.isEligibleEmptyLine(e)),d=o?o.getBoundingClientRect():null,r||i){let _=this.getTextCursorRect(e,d,this.state.parentFontInfo),E=0,C=0;if(!_){this.ticking=!1;return}let I=this.state.parentFontInfo,N=1-I.fontSize/I.lineHeight,D=I.lineHeight,F=I.fontSize;sn()?E=_.bottom-I.lineHeight*.5:E=_.bottom-_.height*.5,l=E,c=Math.ceil(_.left)}f=c?4:0,c=c+f,this.isDebug&&console.log("coordinate state set..."),this.setState({initialRect:{top:l,left:c},rect:{top:l,left:c}},()=>{this.checkAndSetVisiblity()})};callContextMenu=e=>{e.preventDefault(),e.stopPropagation(),this.setState({visible:!1});let i=CargoEditor.getActiveRange().nativeRange;document.activeElement.blur(),ye.adminWindow.ContextMenuOpener.openContextMenu(e,"insert-content",{cachedRange:i})};render(){let e=this.state.parentFontInfo.fontSize?this.state.parentFontInfo.fontSize:20,i=e>20?20:e;i=i<10?10:i;let r=i/2,n={frame:{transform:`translate3d(${this.state.rect.left}px, ${this.state.rect.top}px, 0px)`,zIndex:999,display:"flex",position:"fixed",top:0,left:0,pointerEvents:"none",height:0,width:0},button:{display:"flex",visibility:this.state.visible&&this.state.rect.top!==0&&this.state.rect.left!==0?"visible":"hidden",position:"relative",top:"unset",left:"unset",height:i+"px",width:i+"px",pointerEvents:this.state.isClickable?"all":"none",transform:`translate(0, -${r}px)`},svg:{pointerEvents:"none",height:i+"px",width:i+"px",maxHeight:this.maxButtonHeight+"px",maxWidth:this.maxButtonHeight+"px",minHeight:this.minButtonHeight+"px",minWidth:this.minButtonHeight+"px"}};return g("div",{style:n.frame,children:g("button",{className:"insert-content-button",style:n.button,onContextMenu:o=>{o.preventDefault(),this.callContextMenu(o)},onMouseDown:o=>{this.callContextMenu(o)},children:g("svg",{style:n.svg,id:"insert-ineditor",className:"plus-icon",width:i+"px",height:i+"px",viewBox:"0 0 20 20",fill:"none",children:[g("circle",{cx:"10",cy:"10",r:"8"}),g("g",{children:[g("line",{x1:"10",y1:"5",x2:"10",y2:"15"}),g("line",{x1:"5",y1:"10",x2:"15",y2:"10"})]})]})})})}},_k=wo(O0)});var _o,He,D0,Ck,Ni=M(()=>{Ee();qe();pt();_o=pe(we(),1);Rt();Ne();Sk();Ek();hr();oe();He={},D0=class extends se{constructor(e){super(e),this.sR=document.createElement("div"),this.testHover=_o.default.throttle(this.testHover,60),this.lockedElements=[],this.state={selecting:!1,unattachedOverlayContainer:null,active:!1,locked:!1,loaded:!1,hoveredElements:[]},this.onContentChange=_o.default.throttle(this.onContentChange,80,{leading:!0,tailing:!0}),window.addEventListener("scroll",this.onScroll),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{this.updateElementRect(r.target)})}),this.dragController=null,this.portalMap=new Map,this.noPointerEventsArray=[],this.editorOverlayRef=me(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),this.findDragController().then(i=>{this.dragController=i,this.dragController.on("dragstart",this.onDragStart),this.dragController.on("dragend",this.unlock),this.dragController.on("drop",this.unlock)}).catch(i=>{console.warn("Editor overlay failed to find drag controller.",i)}),He.lock=this.lock,He.unlock=this.unlock,He.lockItem=this.lockItem,He.unlockItem=this.unlockItem,He.setHoveredElements=this.setHoveredElements,He.deactivateHoverElement=this.deactivateHoverElement,He.activateHoverElement=this.activateHoverElement,He.getPortal=this.getPortal,He.removePortal=this.removePortal,He.portalMap=this.portalMap,He.testHover=this.testHover,He.updateElementRect=this.updateElementRect,this.pointerPosition={x:-9e9,y:-9e9}}render(){var e=localStorage.getItem("c3-plus-button")==="true";return g("div",{className:`${this.state.selecting?"selecting":""}${this.props.darkMode?" dark":""}`,id:"editor-overlay",ref:this.editorOverlayRef,style:{display:this.state.loaded?"":"none"},children:this.state.unattachedOverlayContainer&&Ge(g(te,{children:[g(xk,{}),e?g(_k,{}):null]}),this.state.unattachedOverlayContainer)})}componentDidMount(){if(!this.editorOverlayRef.current.shadowRoot){this.editorOverlayRef.current.attachShadow({mode:"open"}),this.editorOverlayRef.current.shadowRoot.innerHTML='<link rel="stylesheet" href="https://build.cargo.site/frontend/fe282c/css/front-end/editor-ui.css"><div id="unattached-editor-overlays"></div>',Array.from(this.sR.children).forEach(r=>{this.editorOverlayRef.current.shadowRoot.appendChild(r)}),this.editorOverlayRef.current.shadowRoot.querySelector("link").addEventListener("load",()=>{this.setState({loaded:!0})});let i=this.editorOverlayRef.current.shadowRoot.querySelector("#unattached-editor-overlays");this.setState({unattachedOverlayContainer:i})}this.sR=this.editorOverlayRef.current.shadowRoot,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("mousedown",this.onPointerDown),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerLeave),this.findAdminWindow().then(e=>{ye.adminWindow.addEventListener("pointermove",this.onAdminPointerMove)}).catch(e=>{console.warn("Editor Overlay failed to find Editor.",e)})}componentDidUpdate(e,i){let{hoveredElements:r}=i,{hoveredElements:n}=this.state,o=_o.default.difference(n,r);_o.default.difference(r,n).forEach(l=>{let c=this.portalMap.get(l);c&&c.portalHosts.forEach((d,m)=>{d?.pointerOut?.()})}),o.forEach(l=>{let c=this.portalMap.get(l);c&&c.portalHosts.forEach((d,m)=>{d?.pointerIn?.()})}),this.updatePageButtonPositions(),this.props.adminMode!==e.adminMode&&(this.props.adminMode?(this.unlock(),this.afterAdminTimeout=setTimeout(()=>{this.testHover()},80)):(this.setHoveredElements([]),this.lock()))}componentWillUnmount(){clearTimeout(this.afterAdminTimeout),this.onContentChange.cancel(),this.dragController&&(this.dragController.off("dragstart",this.onDragStart),this.dragController.off("dragend",this.unlock),this.dragController.off("drop",this.unlock)),this.CargoEditor&&(this.CargoEditor.events.off("mutation-start",this.onMutationStart),this.CargoEditor.events.off("mutation-end",this.onMutationEnd),this.CargoEditor.events.off("editor-keyup",this.onContentChange),this.CargoEditor.events.off("editor-summary-created",this.onContentChange)),this.portalMap.forEach((e,i,r)=>{this.removePortal(i)}),this.noPointerEventsArray=[],window.removeEventListener("mousedown",this.onPointerDown),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("pointermove",this.onPointerMove),document.body.removeEventListener("pointerleave",this.onPointerLeave),ye.adminWindow?.removeEventListener("pointermove",this.onAdminPointerMove)}findAdminWindow=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let a=ye.adminWindow;a?(clearInterval(n),e(a)):r++,r>200&&(clearInterval(n),i("not found."))};n=setInterval(o,300),o()});onMutationStart=()=>{ok()};onMutationEnd=()=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{sk(),this.ticking=!1}))};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("mutation-start",this.onMutationStart),this.CargoEditor.events.on("mutation-end",this.onMutationEnd),this.CargoEditor.events.on("editor-keyup",this.onContentChange),this.CargoEditor.events.on("editor-summary-created",this.onContentChange)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let a=ye.globalDragEventController||null;a?(clearInterval(n),e(a)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()});updateElementRect=e=>{let r=this.portalMap.get(e);if(r){let n={x:0,y:0,top:0,left:0,right:0,bottom:0,width:0,height:0},o=e.getBoundingClientRect();Object.keys(n).forEach(a=>{n[a]=Math.round(o[a])}),n.height<10&&(n.height=10,n.bottom=n.top+10),r.extraMargins.forEach((a,l)=>{if(!(a===void 0||a===0))switch(l){case 0:n.top=n.y=n.top-a,n.height=n.height+a;break;case 1:n.right=n.right+a,n.width=n.width+a;break;case 2:n.height=n.height+a,n.bottom=n.bottom+a;break;case 3:n.left=n.x=n.left-a,n.width=n.width+a;break}}),this.portalMap.set(e,{portalHosts:r.portalHosts,rect:n,extraMargins:r.extraMargins}),r.portalHosts.forEach((a,l)=>{a?.updatePosition?.(n)})}};onContentChange=(e,i)=>{this.state.hoveredElements.forEach(r=>{this.updateElementRect(r)})};onScroll=()=>{this.noPointerEventsArray.forEach(this.updateElementRect),this.updatePageButtonPositions()};updatePageButtonPositions=()=>{let i=Array.from(this.portalMap).map(([l,c])=>{let d=null,m=Array.from(c?.portalHosts??[]).find(([_,E])=>E.props?.name=="EditPageButton"&&!E.props.isEditingPage?(d=_,!0):!1);if(!d?.querySelector("button.edit-page"))return!1;let f=d.querySelector("button.edit-page").getBoundingClientRect(),b=f.top<c.rect.top?{left:f.left+-m[1].state.shiftButtonX,width:f.width+1,top:f.top,height:f.height*2+1}:{left:f.left+-m[1].state.shiftButtonX,width:f.width+1,top:f.top-f.height+-2,height:f.height*2+1};return{mapRect:c.rect,portalHost:d,proposedRect:b,rect:b,component:m[1]}}).filter(l=>!!l),r=_o.default.sortBy(i,l=>l.mapRect.left),n=!0,o=4,a=0;for(;n&&a<o;)n=!1,r.forEach((l,c,d)=>{if(c===0)return;let m=l.rect,f=d.filter(v=>{if(v==l)return!1;let b=v.proposedRect;return m.left<b.left+b.width&&m.left+m.width>b.left&&m.top<b.top+b.height&&m.top+m.height>b.top});if(f.length>0){n=!0;let v=d[c-1],b=_o.default.sortBy(f,_=>-(_.proposedRect.left+_.proposedRect.width))[0];l.proposedRect={left:b.proposedRect.left+b.proposedRect.width,width:m.width,top:m.top,height:m.height},l.component.setState({shifted:!0,shiftButtonX:l.proposedRect.left-m.left}),c==1&&r[0].component.setState({shifted:!0,shiftButtonX:0})}else l.component.setState({shifted:!1,shiftButtonX:0}),c==1&&r[0].component.setState({shifted:!1,shiftButtonX:0})}),a++};onDragStart=()=>{this.setState({hoveredElements:[],locked:!0}),this.dragContentChangeTimeout=setTimeout(()=>{this.onContentChange()},30)};getPortal=(e,i={})=>{if(e)if(this.portalMap.has(e)){var r=this.portalMap.get(e),n=null;if(r.portalHosts.forEach((o,a)=>{i.component===o&&(n=a)}),n)return n;{let o=document.createElement("div");return this.sR.appendChild(o),r.portalHosts.set(o,i.component),o}}else{let o=document.createElement("div");this.sR.appendChild(o);let a={portalHosts:new Map,rect:{width:0,height:0,top:0,left:0,bottom:0,right:0},extraMargins:i.extraMargins||[]};return o.setAttribute("editor-overlay-tag-name",e.tagName),o._editorBaseNode=e,a.portalHosts.set(o,i.component),this.portalMap.set(e,a),i.trackResize&&this.resizeObserver.observe(e),i.noPointerEvents&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),i.extraMargins&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),o}};removePortal=(e,i)=>{if(this.portalMap.has(e)){let r=this.portalMap.get(e);r.portalHosts.has(i)&&(r.portalHosts.delete(i),i.parentNode.removeChild(i)),r.portalHosts.size===0&&(this.resizeObserver.unobserve(e),this.noPointerEventsArray.indexOf(e)>-1&&this.noPointerEventsArray.splice(this.noPointerEventsArray.indexOf(e),1),this.portalMap.delete(e))}};lock=()=>{this.setState({locked:!0})};unlock=()=>{this.setState({locked:!1})};lockItem=e=>{this.lockedElements.indexOf(e)===-1&&this.lockedElements.push(e)};unlockItem=e=>{let i=this.lockedElements.indexOf(e);i>-1&&this.lockedElements.splice(i,1)};deactivateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r],o=r.indexOf(e);if(o>-1)n=n.splice(o,1);else return null;return{...i,hoveredElements:n}})};activateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r];if(n.indexOf(e)==-1)n.push(e);else return null;return{...i,hoveredElements:n}})};setHoveredElements=e=>{let i=Array.isArray(e)?e:[e];i=i.filter(r=>!!r),_o.default.isEqual(this.state.hoveredElements,i)||this.setState({hoveredElements:i})};testHover=()=>{let{locked:e}=this.state;if(e)return;let i=Array.from(document.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[],r=Array.from(this.editorOverlayRef.current.shadowRoot.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[];r=r.map(c=>c.closest("[editor-overlay-tag-name]")?._editorBaseNode).filter(c=>!!c),r=_o.default.difference(r,i),r.forEach(c=>{c&&i.indexOf(c)==-1&&i.push(c)}),this.noPointerEventsArray.forEach(c=>{let d=this.portalMap.get(c);d&&d.rect&&this.pointerPosition.x<=d.rect.left+d.rect.width&&this.pointerPosition.x>=d.rect.left&&this.pointerPosition.y<=d.rect.top+d.rect.height&&this.pointerPosition.y>=d.rect.top&&i.indexOf(c)==-1&&i.push(c)}),i=_o.default.uniq(i);let n=[...this.state.hoveredElements];this.lockedElements.forEach(c=>{let d=n.indexOf(c),m=i.indexOf(c);m===-1&&d>-1?i.push(c):d===-1&&m>-1&&i.splice(m,1)});let o=CargoEditor?.getActiveEditor?.()?.getElement(),a=o?o.closest(".overlay-content"):null,l=a&&i.some(c=>c.tagName==="BODYCOPY"&&a.contains(c));o&&a&&l&&(i=i.filter(c=>a.contains(c))),this.setHoveredElements(i)};onAdminPointerMove=e=>{e.target.tagName==="IFRAME"?(this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY+-40):(this.pointerPosition.x=-9e9,this.pointerPosition.y=-9e9),this.testHover()};onPointerLeave=e=>{this.setState({selecting:!1}),setTimeout(()=>{this.setHoveredElements([])},100)};onFirstSelectionChange=()=>{this.setState({selecting:!0})};onPointerDown=e=>{this.selectionWaitTimeout=setTimeout(()=>{document.addEventListener("selectionchange",this.onFirstSelectionChange,{once:!0})},60)};onPointerUp=e=>{clearTimeout(this.selectionWaitTimeout),document.removeEventListener("selectionchange",this.onFirstSelectionChange,{once:!0}),this.setState({selecting:!1})};onPointerMove=e=>{this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY,this.testHover()}},Ck=De((t,e)=>({adminMode:t.frontendState.adminMode,darkMode:t.adminState?.darkMode||!1}))(D0)});var F0,fu,L0,Vf,Vi,Kn=M(()=>{Ee();Ni();F0=pe(we(),1);oe();fu=[],L0=F0.default.debounce(()=>{if(window.removeEventListener("CargoEditor-load",L0),CargoEditor&&Object.keys(CargoEditor).length>0){var t=CargoEditor.getActiveRange(),e=CargoEditor.helpers.normalizeRangeAroundShadowDom(t);let r=[],n=[];if(t&&!t.collapsed){var i=CargoEditor.helpers.getAllEffectivelyContainedNodes(t);i=i.filter(o=>o.shadowRoot),fu.forEach(o=>{i.includes(o.props.baseNode)?r.push(o):n.push(o)})}else n=fu;if(n.forEach(o=>{o.setState({selected:!1})}),r.forEach(o=>{o.setState({selected:!0}),CargoEditor.plugins.shadowDom.shadowDomSelectedElements.indexOf(o.props.baseNode)==-1&&CargoEditor.plugins.shadowDom.shadowDomSelectedElements.push(o.props.baseNode)}),e.shadowDomElementAdjacentToCollapsedRange){let o=fu.find(a=>a.props.baseNode===e.shadowDomElementAdjacentToCollapsedRange);o&&o.setState({selected:!0,collapseDirection:e.collapseDirection})}fu.length=0}},30),Vf=class extends se{constructor(e){super(e),this.state={resetAnimation:!1,selected:!1,collapseDirection:!1,currentColor:"black"},this.uniqueClassName=this.props.overlayMode?"selection-status-"+F0.default.uniqueId():"selection-status"}render(e,i){let r=i.collapseDirection?" "+i.collapseDirection+" collapsed-range":"";return g(te,{children:[g("style",{id:"selection-status",children:`
		${this.state.selected&&!this.props.onlyAllowCollapsedRange?`
		::slotted(*) {
			--selection-color: transparent;
		}
		`:""}

		${this.props.onlyAllowCollapsedRange?"":`:host(::selection) {
			background-color:transparent;
		}`}

		.${this.uniqueClassName} {
			${this.props.overlayMode?`
				transform: translate3d(${this.props.overlayPosition.x}px, ${this.props.overlayPosition.y}px, 0);
				width: ${this.props.overlayPosition.width}px;
				height: ${this.props.overlayPosition.height}px;
				position: fixed;
				top: 0;
				left: 0;
			`:`
				inset: 0px;
				position: absolute;
			`}
			padding: 0;
			margin: 0;
			opacity: 1;
		    background-color: var(--selection-color);
			overflow:hidden;

			z-index: ${this.props.inFront?"99999":"-1"};
			pointer-events:none;
			display:none;
		}

		.${this.uniqueClassName}.selected {
			display:block;
		}

      
		@keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}
		}
		@-webkit-keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}			
		}		

		.${this.uniqueClassName}.collapsed-range {
			width: 1px;
		    mix-blend-mode: unset;
			background-color: ${this.props.overlayMode?this.state.currentColor:"currentColor"};

		    ${this.state.resetAnimation?`
		    visibility: visible;
		    -webkit-animation:none;
		    animation: none;`:`-webkit-animation: blink-animation 1s steps(4, start) infinite;
	        animation: blink-animation 1s steps(4, start) infinite;`}
	        z-index: 9999;
		}

		.${this.uniqueClassName}.before.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+-1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 auto 0 -1px;
			`}
				
		}
		.${this.uniqueClassName}.after.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+this.props.overlayPosition.width+1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 -1px 0 auto;
			`}
		}		

		`}),g("div",{className:`${this.uniqueClassName}${this.state.selected?" selected":""}${r}`})]},"selection-status-fragment")}componentDidMount(){CargoEditor?.getActiveEditor?.()?(fu.push(this),L0()):(fu.push(this),window.addEventListener("CargoEditor-load",L0)),this.props.baseNode.__shadow_selection=!0,this.props.baseNode.addEventListener("selected-in-editor",this.select),this.props.baseNode.addEventListener("unselected-in-editor",this.unselect)}componentDidUpdate(e,i){this.state.collapseDirection!==i.collapseDirection&&this.setState({resetAnimation:!0},()=>{this.resetTimeout=setTimeout(()=>{this.setState({resetAnimation:!1})},100)})}componentWillUnmount(){clearTimeout(this.resetTimeout),delete this.props.baseNode.__shadow_selection,this.props.baseNode.removeEventListener("unselected-in-editor",this.unselect),this.props.baseNode.removeEventListener("selected-in-editor",this.select)}select=e=>{if(e.target!==this.props.baseNode)return;this.props.overlayMode&&!this.state.selected&&(He.updateElementRect(this.props.baseNode),this.updateCurrentColor());let i=e?.detail?.collapsed||!1,r=!0;this.props.onlyAllowCollapsedRange&&(r=i),this.setState({selected:r,collapseDirection:i}),this.props.onSelectionChange&&(i?this.props.onSelectionChange(!1):this.props.onSelectionChange(!0))};unselect=()=>{this.setState(e=>({selected:!1,collapseDirection:!1})),this.props.onSelectionChange&&this.props.onSelectionChange(!1)};updateCurrentColor=()=>{if(this.props.baseNode.shadowRoot){let e=document.createElement("span");e.style.color="currentColor",e.style.position="absolute",this.props.baseNode.shadowRoot.appendChild(e);let r=window.getComputedStyle(e).getPropertyValue("color");e.remove(),this.setState({currentColor:r})}}};Vf.defaultProps={inFront:!0,overlayMode:!1};Vi=Vf});var $f,Md,Pk,Rd,Ik,Ak=M(()=>{Ee();$f=pe(we(),1);oe();Md=new Map,Pk=t=>{let e=[],i=[],r=[];Md.forEach((o,a)=>{o.locateEyeball();let{rect:l}=o.state;if(o.props["roll-independently"]==!0){let c=Math.atan2(t.clientY-(l.top+l.height*.5),t.clientX-(l.left+l.width*.5))*(180/Math.PI)+90;o.setState({eyeRotation:c})}else i.push(l.left+l.width*.5),r.push(l.top+l.height*.5),e.push(o)});let n={x:$f.default.mean(i),y:$f.default.mean(r)};e.forEach(o=>{let a=Math.atan2(t.clientY-n.y,t.clientX-n.x)*(180/Math.PI)+90;o.setState({eyeRotation:a})})},Rd=class extends se{constructor(e){super(e),this.state={eyeRotation:0,rect:{top:0,left:0,width:0,height:0},centerPoint:{x:0,y:0}},this.locateEyeball=$f.default.debounce(this.locateEyeball,120,{leading:!0,trailing:!1})}render(e,i){return g(te,{children:[e.children,g("style",{children:`
					:host { 
						pointerEvents: ${e.lowestLevel?"auto":"none"};
						transformOrigin: center center;
						--rotate-transform: rotate( ${this.state.eyeRotation}deg);
					}
				`})]})}locateEyeball=()=>{this.setState({rect:this.props.baseNode.getBoundingClientRect()})};componentDidMount(){Md.size==0&&window.addEventListener("pointermove",Pk),Md.set(this.props.baseNode,this)}componentWillUnmount(){Md.delete(this.props.baseNode),Md.size===0&&window.removeEventListener("pointermove",Pk)}};Rd.defaultProps={"roll-independently":!0};Rd.transformSlot="--rotate-transform";Ik=Rd});var Tk,kd,Mk,Rk=M(()=>{Ee();Tk=pe(we(),1);oe();kd=class extends se{constructor(e){super(e),this.state={suppressTransition:!1,rotation:parseFloat(this.props.rotation)}}render(e,i){let{animate:r}=e,n=Number(r)!==0,o=n?50/Number(r):1,a="var(--base-translate, translate(0))",l=a;return e.transformSlots.forEach(c=>{c==="--rotate-transform"?(a+=` rotate(${parseFloat(e.rotation)}deg)`,l+=` rotate(${parseFloat(e.rotation)+360}deg)`):(a+=` var(${c}, translate(0))`,l+=` var(${c}, translate(0))`)}),g(te,{children:[e.children,g("style",{id:"rotating-item",children:n?`
				@keyframes rotate {
                    from {
                        transform: ${a};
                    }
                    to {
                        transform: ${l};
                    }
                }

                :host {
                	animation: rotate ${Math.abs(o)}s linear ${Math.sign(Number(r))===-1?"reverse":""} infinite;
					will-change: transform;
                }
				`:`
				:host { 
					--rotate-transform: rotate( ${e.rotation}deg);
                }
            `})]})}allowTransition=Tk.default.debounce(()=>{this.setState({suppressTransition:!1},()=>{})},120);componentDidUpdate(e){(this.props.animate!==e.animate||this.props.rotation!==e.rotation)&&this.setState({suppressTransition:!0},()=>{this.allowTransition()})}componentWillUnmount(){this.allowTransition.cancel()}};kd.defaultProps={rotation:0,animate:0};kd.transformSlot="--rotate-transform";Mk=kd});var kk,Nk=M(()=>{kk={speed:"90",rotation:"66",scale:"18.4vmax","flight-path":"387",delay:"2"}});var Ok,Yn,z0,jf,Dk,Lk=M(()=>{Ok=pe(we(),1);Ee();qe();Nk();Ui();oe();z0=new Set,jf=class extends se{constructor(e){super(e),this.flierID="-"+(0,Ok.uniqueId)(),this.flierRef=me();let i=this.generateRandomIntInclusive(1,1e4);this.state={portalElement:null,currentAnimation:"fly1",flightCount:i,calculatedAnimations:{fly1:this.calculateFlyAnimation(i,1),fly2:this.calculateFlyAnimation(i,2),fly3:this.calculateFlyAnimation(i,3),fly4:this.calculateFlyAnimation(i,4)}}}generateRandomIntInclusive(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e+1))+e}calculateDuration(e){return 100*(Math.max(100-Math.abs(e),5)*.01)}generateRandomIntFromSeed(e){var i=Math.sin(e)*1e4;return i-Math.floor(i)}shuffleFromSeed(e,i){for(var r=e.length,n,o;r;)o=Math.floor(this.generateRandomIntFromSeed(i)*r--),n=e[r],e[r]=e[o],e[o]=n,++i;return e}calculateFlyAnimation(e,i){let r=e%2==0,n=this.shuffleFromSeed(["ltr","rtl","ttb","btt"],e),o=Number(this.props.scale.replace("vmax","")),a=this.props.rotation/5*180,l=[{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vh`},{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`}],c=[{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`},{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0:60,r?40:100+1.4*o)}vh`}],d=[{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`}],m=[{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`}],f=n.reduce((v,b)=>{switch(b){case"ltr":return v.concat(l);case"rtl":return v.concat(c);case"ttb":return v.concat(d);case"btt":return v.concat(m);default:return v}},[]);switch(i){case 1:return`
					0% {
						transform: translateX(${f[0].x}) translateY(${f[0].y});
						opacity: 0;
					}
					0.001% {
						transform: translateX(${f[0].x}) translateY(${f[0].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${f[1].x}) translateY(${f[1].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${f[1].x}) translateY(${f[1].y});
						opacity: 0;
					}
				`;case 2:return`
					0% {
						transform: translateX(${f[2].x}) translateY(${f[2].y});
						opacity: 0;
					}
				
					0.001% {
						transform: translateX(${f[2].x}) translateY(${f[2].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${f[3].x}) translateY(${f[3].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${f[3].x}) translateY(${f[3].y});
						opacity: 0;
					}
				`;case 3:return`
					0% {
						transform: translateX(${f[4].x}) translateY(${f[4].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${f[4].x}) translateY(${f[4].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${f[5].x}) translateY(${f[5].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${f[5].x}) translateY(${f[5].y});
						opacity: 0;
					}
				`;case 4:return`
					0% {
						transform: translateX(${f[6].x}) translateY(${f[6].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${f[6].x}) translateY(${f[6].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${f[7].x}) translateY(${f[7].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${f[7].x}) translateY(${f[7].y});
						opacity: 0;
					}
				`}}onAnimationEnd(e){let i=Number(e.animationName.substr(3,1)),r=i<4?i+1:1;this.setState({currentAnimation:`fly${r}`,...r===1&&{flightCount:this.state.flightCount+1,calculatedAnimations:{fly1:this.calculateFlyAnimation(this.state.flightCount+1,1),fly2:this.calculateFlyAnimation(this.state.flightCount+1,2),fly3:this.calculateFlyAnimation(this.state.flightCount+1,3),fly4:this.calculateFlyAnimation(this.state.flightCount+1,4)}}})}componentDidMount(){if(Yn||(Yn=document.createElement("media-item"),Yn.setAttribute("no-component",""),Yn.shadowRoot||Yn.attachShadow({mode:"open"}),Yn.shadowRoot.innerHTML=`
			<style>
				:host {
					all:unset!important;
					border:none!important;
					padding: 0!important;
					position: fixed!important;
					z-index: 5000!important;
					pointer-events:none!important;
					background:none!important;
					inset: 0!important;
					overflow: hidden!important;
				}

				.spinner [part="media"] {
					pointer-events: none;
					border-radius:0!important;
					padding: 0!important;
					border: none !important;
					position: absolute;
					width: 100%;
					height: 100%;
					inset: 0;
				}

				.spinner img,
				.spinner video {
					object-fit: contain;
				}
				.spinner .frame,
				.spinner .sizing-frame {
					display: contents;
				}				
			</style>
			`,document.body.appendChild(Yn)),!this.state.portalElement){let e=document.createElement("div");e.style.display="contents",Yn.shadowRoot.appendChild(e),this.setState({portalElement:e},()=>{this.flierRef.current&&this.flierRef.current.addEventListener("animationend",i=>this.onAnimationEnd(i))})}z0.add(this)}componentWillUnmount(){this.flierRef.current&&this.flierRef.current.removeEventListener("animationend",e=>this.onAnimationEnd(e)),this.state.portalElement&&this.state.portalElement.remove(),z0.delete(this),z0.size==0&&Yn&&(Yn.remove(),Yn=null)}render(e,i){let{speed:r,rotation:n,scale:o,delay:a,adminMode:l}=e,{currentAnimation:c,flightCount:d,calculatedAnimations:m,portalElement:f}=i;return f?g(te,{children:[g("style",{children:":host {display:none!important;}"}),Ge(g(te,{children:[g("style",{children:`

					.flier${this.flierID} {
						pointer-events: none !important;
						top: 0;
						left: 0;
						position: absolute;
						z-index:9995;
						transform: translateX(-100%) translateY(-100%);
						animation-delay: ${a}s;
						animation-duration: ${this.calculateDuration(r)/4}s;
						animation-timing-function: linear;
						animation-direction: ${Math.sign(r)===1?"normal":"reverse"};
					}

					.fly1${this.flierID} {
						animation-name: fly1${this.flierID};
					}

					.fly2${this.flierID} {
						animation-name: fly2${this.flierID};
					}

					.fly3${this.flierID} {
						animation-name: fly3${this.flierID};
					}

					.fly4${this.flierID} {
						animation-name: fly4${this.flierID};
					}

					.flier${this.flierID} .spinner {
						${Number(n)!==0?`animation: spin ${this.calculateDuration(n)}s ${Math.sign(Number(n))===-1?"reverse":"normal"} linear infinite;`:""}
						width: ${o};
						height: ${o};
						display: flex;
						align-items: center;
						justify-content: center;
					}

					.flier${this.flierID} .spinner figure {
						padding: 0;
						margin: 0;
						width: ${o};
						height: ${o};
					}

				
					/* Keyframe values control where the element will begin
						and end its trajectory across the screen. Each rule
						represents a path the element follows across the screen. */
					
				
					@keyframes fly1${this.flierID} {
						${m.fly1}
					}

					@keyframes fly2${this.flierID} {
						${m.fly2}
					}

					@keyframes fly3${this.flierID} {
						${m.fly3}
					}

					@keyframes fly4${this.flierID} {
						${m.fly4}
					}

					@keyframes spin {
						0% {
							transform: rotateZ(0deg);
						}
						100% {
							transform: rotateZ(3600deg);
						}
					}
				`}),g("div",{className:`flier${this.flierID} ${c}${this.flierID}`,ref:this.flierRef,children:g("div",{className:"spinner",children:e.children})})]}),f)]}):null}};jf.defaultProps=kk;Dk=jf});var Fk,Nd,zk,Hk=M(()=>{Ee();qe();Fk=pe(we(),1);Ui();oe();Nd=class extends Ii{constructor(e){super(e),this.uid=Fk.default.uniqueId(),this.state={inited:!1,viewportIntersection:"neutral",isVisible:!1,hasLayout:!1,inTransition:{},suppressTransition:!0}}render(e,i){let r=this.state.viewportIntersection,n=this.props["scroll-variables"].split(" ").filter(c=>c!=="").map(c=>"--scroll-"+c);n.push("--scroll-translate","--scroll-transition","--scroll-opacity"),n=n.map(c=>c+": var("+(c.startsWith("--")?"":"--")+c+"-"+r+"); ").join(" ");let o=this.props["scroll-animation-duration"]||"1000",a=Object.values(this.state.inTransition).some(c=>c==!0),l=!!this.props.scrollContext.scrollingElement?.classList?.contains("overlay-animating");return g(te,{children:[e.children,g("style",{id:"scroll-transition",children:`
				:host {
					--scroll-opacity-above: 1;
				    --scroll-opacity-inside: 1;
				    --scroll-opacity-below: 0;
					opacity: var(--scroll-opacity, 1);
					${a||this.state.waitingForTransition?"will-change: opacity, transform;":""}

					--scroll-transition-above: 0s transform ease-in-out, 0s opacity ease-in-out;
				    --scroll-transition-inside: ${o}ms transform ease-in-out, ${o}ms opacity ease-in-out;
				    --scroll-transition-below: 0s transform ease-in-out, 0s opacity ease-in-out;
					${this.state.suppressTransition||l?"":"transition: var(--scroll-transition);"}

					--scroll-translate-below: translateY(40px);
					--scroll-translate-inside: translateY(0px);
					--scroll-translate-above: translateY(0px);

					${n}
				}

			`})]})}onViewportIntersectionChange=e=>{this.setState({isVisible:e.visible,viewportIntersection:e.position,hasLayout:e.hasLayout})};onTransitionStart=e=>{e.target===this.props.baseNode&&this.setState(i=>({...i,waitingForTransition:!1,inTransition:{...i.inTransition,[e.propertyName]:!0}}))};onTransitionEnd=e=>{e.target===this.props.baseNode&&this.setState(i=>{let r={...i.inTransition,[e.propertyName]:!1},n=Object.values(r).every(o=>o==!1);return{...i,suppressTransition:n,inTransition:r}})};componentDidMount(){if(this.props.baseNode.addEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.addEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.addEventListener("transitioncancel",this.onTransitionEnd),this.props.customElementMode){let e=this.props.visibility?.visible??!1,i=this.props.visibility?.position??"below",r=this.props.visibility?.hasLayout??!1;this.setState({isVisible:e,viewportIntersection:i,hasLayout:r})}else Ct(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}componentDidUpdate(e,i){if(this.state.viewportIntersection!==i.viewportIntersection&&(this.state.isVisible?this.setState({waitingForTransition:!0,suppressTransition:!1}):this.state.waitingForTransition||this.setState({suppressTransition:!0})),this.props.customElementMode&&this.props.visibility?.position!==e.visibility?.position){let r=this.props.visibility?.visible?this.props.visibility.visible:!1,n=this.props.visibility?.position||"below",o=this.props.visibility?.hasLayout||!1;this.setState({isVisible:r,viewportIntersection:n,hasLayout:o})}}componentWillUnmount(){clearTimeout(this.transitionCheckTimeout),cancelAnimationFrame(this.viewportAnimFrame),cancelAnimationFrame(this.lazyloadFrame),clearTimeout(this.initTimeout),this.props.baseNode.removeEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.removeEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.removeEventListener("transitioncancel",this.onTransitionEnd),At(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}};Nd.defaultProps={"scroll-variables":""};Nd.transformSlot="--scroll-translate";zk=Nd});var Kye,Od,Gf,tZ,qk,Uk=M(()=>{Ee();pt();ki();Kye=pe(we(),1);oe();Od=new Map,Gf=class extends se{constructor(e){switch(super(e),this.state={z:0,x:0,y:0,interacted:!1,dragging:!1},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}this.preventClick=!1,this.inSlideshow=this.props.baseNode.parentElement.tagName==="GALLERY-SLIDESHOW"}render(e,i){if(e.adminMode)return e.children;let{x:r,y:n,z:o}=i;return g(te,{children:[e.children,this.inSlideshow?null:g("style",{id:"draggable-item",children:`
				:host {
					${this.props.adminMode?"":`
						pointer-events: auto!important;
						-webkit-user-select: none; 
						-webkit-touch-callout: none;
					`}
					${i.dragging?"--scroll-transition: 0s all!important; cursor: grabbing;":"cursor: grab;"}
					${this.displayInlineBlock?"display: inline-block;":""}
					--drag-transform: ${i.interacted?`translate3d(${r}px, ${n}px, ${o+100}px)`:`translate(${r}px, ${n}px)`};
					${!this.props.adminMode&&i.interacted?`z-index: ${o+100};`:""}					
				}
			`})]})}onDragStart=e=>{e.preventDefault(),e.stopPropagation()};onTouchMove=e=>{e.preventDefault()};onPointerDown=e=>{if(this.props.adminMode||e.button==2||this.inSlideshow)return;this.preventClick=!1;let i=this.state.z;Od.forEach((r,n)=>{n!==this.props.baseNode&&r.state.z>i&&r.setState(o=>({z:o.z-1}))}),this.setState({x:this.state.x,y:this.state.y,z:Od.size+10,interacted:!0,dragging:!0}),this.initialPosition={x:e.clientX+-this.state.x,y:e.clientY+-this.state.y},this.mousePosition={x:e.clientX,y:e.clientY},this.accumulatedDelta=0,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{e.preventDefault();let i=e.clientX,r=e.clientY,n=Math.sqrt(Math.pow(this.mousePosition.x-i,2)+Math.pow(this.mousePosition.y-r,2));this.accumulatedDelta+=n,this.accumulatedDelta>4&&(this.preventClick=!0),this.mousePosition={x:e.clientX,y:e.clientY},this.setState({x:e.clientX-this.initialPosition.x,y:e.clientY-this.initialPosition.y})};onPointerUp=e=>{this.setState({dragging:!1}),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onClickCapture=e=>{this.preventClick&&(e.preventDefault(),e.stopPropagation())};bindListeners=()=>{this.props.adminMode||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.props.baseNode.addEventListener("pointerdown",this.onPointerDown),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}))};unbindListeners=()=>{this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("pointerdown",this.onPointerDown),this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0})};componentDidMount(){this.bindListeners(),Od.set(this.props.baseNode,this),this.setState({z:Od.size+10})}componentDidUpdate(e,i){e.adminMode!==this.props.adminMode&&(this.setState({x:0,y:0,z:0,interacted:!1}),this.unbindListeners(),this.bindListeners())}componentWillUnmount(){this.unbindListeners(),Od.delete(this.props.baseNode)}};Gf.transformSlot="--drag-transform";tZ=De((t,e)=>({adminMode:t.frontendState.adminMode}))(Gf),qk=tZ});var Bk,H0=M(()=>{Bk={"dropshadow-offset":"0rem","dropshadow-color":"rgba(0,0,0,.85)","dropshadow-blur-radius":"0rem"}});var ebe,Kf,Wk,Vk=M(()=>{Ee();ebe=pe(we(),1);H0();oe();Kf=class extends se{constructor(e){super(e)}render(e,i){let r=this.props["dropshadow-offset"].split(" "),n=r[0],o=r.length>1?r[1]:r[0];return g(te,{children:[e.baseNode.tagName==="MEDIA-ITEM"?g("style",{children:`
                        img {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}):g("style",{children:`
                        :host {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}),e.children]})}};Kf.defaultProps=Bk;Wk=Kf});var sbe,Yf,$k,jk=M(()=>{Ee();sbe=pe(we(),1);oe();Yf=class extends se{constructor(e){super(e)}render(e,i){return g(te,{children:[e.baseNode.tagName==="MEDIA-ITEM"?g("style",{children:`
                        img {
                            background-color: ${this.props["background-color"]};
                        }
                    `}):g("style",{children:`
                        :host {
                            background-color: ${this.props["background-color"]};
                        }
                    `}),e.children]})}};Yf.defaultProps={"background-color":"rgba(0,0,0,0)"};$k=Yf});var dbe,Xf,Gk,Kk=M(()=>{Ee();dbe=pe(we(),1);H0();oe();Xf=class extends se{constructor(e){super(e)}render(e,i){let r=Object.keys(e).reduce((n,o)=>{if(o.includes("-style")){let a=o.replace("-style","");n.push({part:a,styles:e[o]?e[o].replaceAll(";","!important;"):""})}return n},[]);return g(te,{children:[g("style",{children:r.map(({part:n,styles:o})=>`[part*="${n}"] { ${o} }`)}),e.children]})}};Xf.defaultProps={};Gk=Xf});var Yk=M(()=>{});var bbe,Zf,Xk,Zk=M(()=>{Ee();bbe=pe(we(),1);Yk();oe();Zf=class extends se{constructor(e){super(e)}calculateDuration(e){return 5*(Math.max(100-Math.abs(e),5)*.01)}render(e,i){let r=this.calculateDuration(Number(this.props["blink-speed"])),n=Math.max(99.9-this.props["blink-pulse"],.1),o="steps(1)";switch(!0){case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="linear"):o="linear";break;case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="ease"):o="ease";break;case Number(this.props["blink-transition"])>0:o="ease";break}return g(te,{children:[e.children,g("style",{children:`
					:host {
						animation: ${r}s infinite ${o} blink;
						-webkit-animation: ${r}s infinite ${o} blink;
					}
					
					@keyframes blink {
						0% {
							opacity: 0;
						}
						50% {
							opacity: 1;
						}
						100% {
							opacity: 0;
						}
					}
				`})]})}};Zf.defaultProps={"blink-transition":"0","blink-speed":"75","blink-pulse":"50"};Xk=Zf});function rZ(t){return!!t&&typeof t=="object"}function nZ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||aZ(t)}function aZ(t){return t.$$typeof===sZ}function lZ(t){return Array.isArray(t)?[]:{}}function Jf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Qf(lZ(t),t,e):t}function uZ(t,e,i){return t.concat(e).map(function(r){return Jf(r,i)})}function cZ(t,e,i){var r={};return i.isMergeableObject(t)&&Object.keys(t).forEach(function(n){r[n]=Jf(t[n],i)}),Object.keys(e).forEach(function(n){!i.isMergeableObject(e[n])||!t[n]?r[n]=Jf(e[n],i):r[n]=Qf(t[n],e[n],i)}),r}function Qf(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||uZ,i.isMergeableObject=i.isMergeableObject||iZ;var r=Array.isArray(e),n=Array.isArray(t),o=r===n;return o?r?i.arrayMerge(t,e,i):cZ(t,e,i):Jf(e,i)}var iZ,oZ,sZ,Jk=M(()=>{iZ=function(e){return rZ(e)&&!nZ(e)};oZ=typeof Symbol=="function"&&Symbol.for,sZ=oZ?Symbol.for("react.element"):60103;Qf.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,n){return Qf(r,n,i)},{})}});var dZ,em,q0=M(()=>{dZ=typeof global=="object"&&global&&global.Object===Object&&global,em=dZ});var pZ,hZ,Ai,Xn=M(()=>{q0();pZ=typeof self=="object"&&self&&self.Object===Object&&self,hZ=em||pZ||Function("return this")(),Ai=hZ});var fZ,In,Dd=M(()=>{Xn();fZ=Ai.Symbol,In=fZ});function vZ(t){var e=mZ.call(t,Ld),i=t[Ld];try{t[Ld]=void 0;var r=!0}catch{}var n=gZ.call(t);return r&&(e?t[Ld]=i:delete t[Ld]),n}var Qk,mZ,gZ,Ld,eN,tN=M(()=>{Dd();Qk=Object.prototype,mZ=Qk.hasOwnProperty,gZ=Qk.toString,Ld=In?In.toStringTag:void 0;eN=vZ});function wZ(t){return bZ.call(t)}var yZ,bZ,iN,rN=M(()=>{yZ=Object.prototype,bZ=yZ.toString;iN=wZ});function _Z(t){return t==null?t===void 0?SZ:xZ:nN&&nN in Object(t)?eN(t):iN(t)}var xZ,SZ,nN,Zn,mu=M(()=>{Dd();tN();rN();xZ="[object Null]",SZ="[object Undefined]",nN=In?In.toStringTag:void 0;Zn=_Z});function EZ(t,e){return function(i){return t(e(i))}}var tm,U0=M(()=>{tm=EZ});var CZ,im,B0=M(()=>{U0();CZ=tm(Object.getPrototypeOf,Object),im=CZ});function PZ(t){return t!=null&&typeof t=="object"}var An,Za=M(()=>{An=PZ});var lN=V((Bbe,aN)=>{"use strict";var oN=Array.isArray,sN=Object.keys,IZ=Object.prototype.hasOwnProperty,AZ=typeof Element<"u";function W0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=oN(t),r=oN(e),n,o,a;if(i&&r){if(o=t.length,o!=e.length)return!1;for(n=o;n--!==0;)if(!W0(t[n],e[n]))return!1;return!0}if(i!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var d=t instanceof RegExp,m=e instanceof RegExp;if(d!=m)return!1;if(d&&m)return t.toString()==e.toString();var f=sN(t);if(o=f.length,o!==sN(e).length)return!1;for(n=o;n--!==0;)if(!IZ.call(e,f[n]))return!1;if(AZ&&t instanceof Element&&e instanceof Element)return t===e;for(n=o;n--!==0;)if(a=f[n],!(a==="_owner"&&t.$$typeof)&&!W0(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}aN.exports=function(e,i){try{return W0(e,i)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}});function TZ(){this.__data__=[],this.size=0}var uN,cN=M(()=>{uN=TZ});function MZ(t,e){return t===e||t!==t&&e!==e}var rm,V0=M(()=>{rm=MZ});function RZ(t,e){for(var i=t.length;i--;)if(rm(t[i][0],e))return i;return-1}var Ks,Fd=M(()=>{V0();Ks=RZ});function OZ(t){var e=this.__data__,i=Ks(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():NZ.call(e,i,1),--this.size,!0}var kZ,NZ,dN,pN=M(()=>{Fd();kZ=Array.prototype,NZ=kZ.splice;dN=OZ});function DZ(t){var e=this.__data__,i=Ks(e,t);return i<0?void 0:e[i][1]}var hN,fN=M(()=>{Fd();hN=DZ});function LZ(t){return Ks(this.__data__,t)>-1}var mN,gN=M(()=>{Fd();mN=LZ});function FZ(t,e){var i=this.__data__,r=Ks(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}var vN,yN=M(()=>{Fd();vN=FZ});function gu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Ys,zd=M(()=>{cN();pN();fN();gN();yN();gu.prototype.clear=uN;gu.prototype.delete=dN;gu.prototype.get=hN;gu.prototype.has=mN;gu.prototype.set=vN;Ys=gu});function zZ(){this.__data__=new Ys,this.size=0}var bN,wN=M(()=>{zd();bN=zZ});function HZ(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var xN,SN=M(()=>{xN=HZ});function qZ(t){return this.__data__.get(t)}var _N,EN=M(()=>{_N=qZ});function UZ(t){return this.__data__.has(t)}var CN,PN=M(()=>{CN=UZ});function BZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Eo,vu=M(()=>{Eo=BZ});function GZ(t){if(!Eo(t))return!1;var e=Zn(t);return e==VZ||e==$Z||e==WZ||e==jZ}var WZ,VZ,$Z,jZ,nm,$0=M(()=>{mu();vu();WZ="[object AsyncFunction]",VZ="[object Function]",$Z="[object GeneratorFunction]",jZ="[object Proxy]";nm=GZ});var KZ,om,IN=M(()=>{Xn();KZ=Ai["__core-js_shared__"],om=KZ});function YZ(t){return!!AN&&AN in t}var AN,TN,MN=M(()=>{IN();AN=function(){var t=/[^.]+$/.exec(om&&om.keys&&om.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();TN=YZ});function JZ(t){if(t!=null){try{return ZZ.call(t)}catch{}try{return t+""}catch{}}return""}var XZ,ZZ,as,j0=M(()=>{XZ=Function.prototype,ZZ=XZ.toString;as=JZ});function sJ(t){if(!Eo(t)||TN(t))return!1;var e=nm(t)?oJ:eJ;return e.test(as(t))}var QZ,eJ,tJ,iJ,rJ,nJ,oJ,RN,kN=M(()=>{$0();MN();vu();j0();QZ=/[\\^$.*+?()[\]{}|]/g,eJ=/^\[object .+?Constructor\]$/,tJ=Function.prototype,iJ=Object.prototype,rJ=tJ.toString,nJ=iJ.hasOwnProperty,oJ=RegExp("^"+rJ.call(nJ).replace(QZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");RN=sJ});function aJ(t,e){return t?.[e]}var NN,ON=M(()=>{NN=aJ});function lJ(t,e){var i=NN(t,e);return RN(i)?i:void 0}var Wr,Xs=M(()=>{kN();ON();Wr=lJ});var uJ,Zs,sm=M(()=>{Xs();Xn();uJ=Wr(Ai,"Map"),Zs=uJ});var cJ,ls,Hd=M(()=>{Xs();cJ=Wr(Object,"create"),ls=cJ});function dJ(){this.__data__=ls?ls(null):{},this.size=0}var DN,LN=M(()=>{Hd();DN=dJ});function pJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var FN,zN=M(()=>{FN=pJ});function gJ(t){var e=this.__data__;if(ls){var i=e[t];return i===hJ?void 0:i}return mJ.call(e,t)?e[t]:void 0}var hJ,fJ,mJ,HN,qN=M(()=>{Hd();hJ="__lodash_hash_undefined__",fJ=Object.prototype,mJ=fJ.hasOwnProperty;HN=gJ});function bJ(t){var e=this.__data__;return ls?e[t]!==void 0:yJ.call(e,t)}var vJ,yJ,UN,BN=M(()=>{Hd();vJ=Object.prototype,yJ=vJ.hasOwnProperty;UN=bJ});function xJ(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ls&&e===void 0?wJ:e,this}var wJ,WN,VN=M(()=>{Hd();wJ="__lodash_hash_undefined__";WN=xJ});function yu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var G0,$N=M(()=>{LN();zN();qN();BN();VN();yu.prototype.clear=DN;yu.prototype.delete=FN;yu.prototype.get=HN;yu.prototype.has=UN;yu.prototype.set=WN;G0=yu});function SJ(){this.size=0,this.__data__={hash:new G0,map:new(Zs||Ys),string:new G0}}var jN,GN=M(()=>{$N();zd();sm();jN=SJ});function _J(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KN,YN=M(()=>{KN=_J});function EJ(t,e){var i=t.__data__;return KN(e)?i[typeof e=="string"?"string":"hash"]:i.map}var Js,qd=M(()=>{YN();Js=EJ});function CJ(t){var e=Js(this,t).delete(t);return this.size-=e?1:0,e}var XN,ZN=M(()=>{qd();XN=CJ});function PJ(t){return Js(this,t).get(t)}var JN,QN=M(()=>{qd();JN=PJ});function IJ(t){return Js(this,t).has(t)}var eO,tO=M(()=>{qd();eO=IJ});function AJ(t,e){var i=Js(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}var iO,rO=M(()=>{qd();iO=AJ});function bu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Ud,K0=M(()=>{GN();ZN();QN();tO();rO();bu.prototype.clear=jN;bu.prototype.delete=XN;bu.prototype.get=JN;bu.prototype.has=eO;bu.prototype.set=iO;Ud=bu});function MJ(t,e){var i=this.__data__;if(i instanceof Ys){var r=i.__data__;if(!Zs||r.length<TJ-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ud(r)}return i.set(t,e),this.size=i.size,this}var TJ,nO,oO=M(()=>{zd();sm();K0();TJ=200;nO=MJ});function wu(t){var e=this.__data__=new Ys(t);this.size=e.size}var sO,aO=M(()=>{zd();wN();SN();EN();PN();oO();wu.prototype.clear=bN;wu.prototype.delete=xN;wu.prototype.get=_N;wu.prototype.has=CN;wu.prototype.set=nO;sO=wu});function RJ(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var lO,uO=M(()=>{lO=RJ});var kJ,Y0,cO=M(()=>{Xs();kJ=function(){try{var t=Wr(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Y0=kJ});function NJ(t,e,i){e=="__proto__"&&Y0?Y0(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var am,X0=M(()=>{cO();am=NJ});function LJ(t,e,i){var r=t[e];(!(DJ.call(t,e)&&rm(r,i))||i===void 0&&!(e in t))&&am(t,e,i)}var OJ,DJ,lm,Z0=M(()=>{X0();V0();OJ=Object.prototype,DJ=OJ.hasOwnProperty;lm=LJ});function FJ(t,e,i,r){var n=!i;i||(i={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=r?r(i[l],t[l],l,i,t):void 0;c===void 0&&(c=t[l]),n?am(i,l,c):lm(i,l,c)}return i}var Qs,Bd=M(()=>{Z0();X0();Qs=FJ});function zJ(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var dO,pO=M(()=>{dO=zJ});function qJ(t){return An(t)&&Zn(t)==HJ}var HJ,J0,hO=M(()=>{mu();Za();HJ="[object Arguments]";J0=qJ});var fO,UJ,BJ,WJ,mO,gO=M(()=>{hO();Za();fO=Object.prototype,UJ=fO.hasOwnProperty,BJ=fO.propertyIsEnumerable,WJ=J0(function(){return arguments}())?J0:function(t){return An(t)&&UJ.call(t,"callee")&&!BJ.call(t,"callee")},mO=WJ});var VJ,Co,xu=M(()=>{VJ=Array.isArray,Co=VJ});function $J(){return!1}var vO,yO=M(()=>{vO=$J});var xO,bO,jJ,wO,GJ,KJ,um,Q0=M(()=>{Xn();yO();xO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bO=xO&&typeof module=="object"&&module&&!module.nodeType&&module,jJ=bO&&bO.exports===xO,wO=jJ?Ai.Buffer:void 0,GJ=wO?wO.isBuffer:void 0,KJ=GJ||vO,um=KJ});function ZJ(t,e){var i=typeof t;return e=e??YJ,!!e&&(i=="number"||i!="symbol"&&XJ.test(t))&&t>-1&&t%1==0&&t<e}var YJ,XJ,SO,_O=M(()=>{YJ=9007199254740991,XJ=/^(?:0|[1-9]\d*)$/;SO=ZJ});function QJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=JJ}var JJ,cm,ew=M(()=>{JJ=9007199254740991;cm=QJ});function EQ(t){return An(t)&&cm(t.length)&&!!ii[Zn(t)]}var eQ,tQ,iQ,rQ,nQ,oQ,sQ,aQ,lQ,uQ,cQ,dQ,pQ,hQ,fQ,mQ,gQ,vQ,yQ,bQ,wQ,xQ,SQ,_Q,ii,EO,CO=M(()=>{mu();ew();Za();eQ="[object Arguments]",tQ="[object Array]",iQ="[object Boolean]",rQ="[object Date]",nQ="[object Error]",oQ="[object Function]",sQ="[object Map]",aQ="[object Number]",lQ="[object Object]",uQ="[object RegExp]",cQ="[object Set]",dQ="[object String]",pQ="[object WeakMap]",hQ="[object ArrayBuffer]",fQ="[object DataView]",mQ="[object Float32Array]",gQ="[object Float64Array]",vQ="[object Int8Array]",yQ="[object Int16Array]",bQ="[object Int32Array]",wQ="[object Uint8Array]",xQ="[object Uint8ClampedArray]",SQ="[object Uint16Array]",_Q="[object Uint32Array]",ii={};ii[mQ]=ii[gQ]=ii[vQ]=ii[yQ]=ii[bQ]=ii[wQ]=ii[xQ]=ii[SQ]=ii[_Q]=!0;ii[eQ]=ii[tQ]=ii[hQ]=ii[iQ]=ii[fQ]=ii[rQ]=ii[nQ]=ii[oQ]=ii[sQ]=ii[aQ]=ii[lQ]=ii[uQ]=ii[cQ]=ii[dQ]=ii[pQ]=!1;EO=EQ});function CQ(t){return function(e){return t(e)}}var Su,dm=M(()=>{Su=CQ});var PO,Wd,PQ,tw,IQ,us,pm=M(()=>{q0();PO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wd=PO&&typeof module=="object"&&module&&!module.nodeType&&module,PQ=Wd&&Wd.exports===PO,tw=PQ&&em.process,IQ=function(){try{var t=Wd&&Wd.require&&Wd.require("util").types;return t||tw&&tw.binding&&tw.binding("util")}catch{}}(),us=IQ});var IO,AQ,AO,TO=M(()=>{CO();dm();pm();IO=us&&us.isTypedArray,AQ=IO?Su(IO):EO,AO=AQ});function RQ(t,e){var i=Co(t),r=!i&&mO(t),n=!i&&!r&&um(t),o=!i&&!r&&!n&&AO(t),a=i||r||n||o,l=a?dO(t.length,String):[],c=l.length;for(var d in t)(e||MQ.call(t,d))&&!(a&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||SO(d,c)))&&l.push(d);return l}var TQ,MQ,hm,iw=M(()=>{pO();gO();xu();Q0();_O();TO();TQ=Object.prototype,MQ=TQ.hasOwnProperty;hm=RQ});function NQ(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||kQ;return t===i}var kQ,_u,fm=M(()=>{kQ=Object.prototype;_u=NQ});var OQ,MO,RO=M(()=>{U0();OQ=tm(Object.keys,Object),MO=OQ});function FQ(t){if(!_u(t))return MO(t);var e=[];for(var i in Object(t))LQ.call(t,i)&&i!="constructor"&&e.push(i);return e}var DQ,LQ,kO,NO=M(()=>{fm();RO();DQ=Object.prototype,LQ=DQ.hasOwnProperty;kO=FQ});function zQ(t){return t!=null&&cm(t.length)&&!nm(t)}var mm,rw=M(()=>{$0();ew();mm=zQ});function HQ(t){return mm(t)?hm(t):kO(t)}var Eu,gm=M(()=>{iw();NO();rw();Eu=HQ});function qQ(t,e){return t&&Qs(e,Eu(e),t)}var OO,DO=M(()=>{Bd();gm();OO=qQ});function UQ(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var LO,FO=M(()=>{LO=UQ});function VQ(t){if(!Eo(t))return LO(t);var e=_u(t),i=[];for(var r in t)r=="constructor"&&(e||!WQ.call(t,r))||i.push(r);return i}var BQ,WQ,zO,HO=M(()=>{vu();fm();FO();BQ=Object.prototype,WQ=BQ.hasOwnProperty;zO=VQ});function $Q(t){return mm(t)?hm(t,!0):zO(t)}var Cu,vm=M(()=>{iw();HO();rw();Cu=$Q});function jQ(t,e){return t&&Qs(e,Cu(e),t)}var qO,UO=M(()=>{Bd();vm();qO=jQ});function KQ(t,e){if(e)return t.slice();var i=t.length,r=VO?VO(i):new t.constructor(i);return t.copy(r),r}var $O,BO,GQ,WO,VO,jO,GO=M(()=>{Xn();$O=typeof exports=="object"&&exports&&!exports.nodeType&&exports,BO=$O&&typeof module=="object"&&module&&!module.nodeType&&module,GQ=BO&&BO.exports===$O,WO=GQ?Ai.Buffer:void 0,VO=WO?WO.allocUnsafe:void 0;jO=KQ});function YQ(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var ym,nw=M(()=>{ym=YQ});function XQ(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var a=t[i];e(a,i,t)&&(o[n++]=a)}return o}var KO,YO=M(()=>{KO=XQ});function ZQ(){return[]}var bm,ow=M(()=>{bm=ZQ});var JQ,QQ,XO,eee,Pu,wm=M(()=>{YO();ow();JQ=Object.prototype,QQ=JQ.propertyIsEnumerable,XO=Object.getOwnPropertySymbols,eee=XO?function(t){return t==null?[]:(t=Object(t),KO(XO(t),function(e){return QQ.call(t,e)}))}:bm,Pu=eee});function tee(t,e){return Qs(t,Pu(t),e)}var ZO,JO=M(()=>{Bd();wm();ZO=tee});function iee(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var xm,sw=M(()=>{xm=iee});var ree,nee,Sm,aw=M(()=>{sw();B0();wm();ow();ree=Object.getOwnPropertySymbols,nee=ree?function(t){for(var e=[];t;)xm(e,Pu(t)),t=im(t);return e}:bm,Sm=nee});function oee(t,e){return Qs(t,Sm(t),e)}var QO,eD=M(()=>{Bd();aw();QO=oee});function see(t,e,i){var r=e(t);return Co(t)?r:xm(r,i(t))}var _m,lw=M(()=>{sw();xu();_m=see});function aee(t){return _m(t,Eu,Pu)}var tD,iD=M(()=>{lw();wm();gm();tD=aee});function lee(t){return _m(t,Cu,Sm)}var rD,nD=M(()=>{lw();aw();vm();rD=lee});var uee,Em,oD=M(()=>{Xs();Xn();uee=Wr(Ai,"DataView"),Em=uee});var cee,Cm,sD=M(()=>{Xs();Xn();cee=Wr(Ai,"Promise"),Cm=cee});var dee,Pm,aD=M(()=>{Xs();Xn();dee=Wr(Ai,"Set"),Pm=dee});var pee,Im,lD=M(()=>{Xs();Xn();pee=Wr(Ai,"WeakMap"),Im=pee});var uD,hee,cD,dD,pD,hD,fee,mee,gee,vee,yee,Ja,Iu,Am=M(()=>{oD();sm();sD();aD();lD();mu();j0();uD="[object Map]",hee="[object Object]",cD="[object Promise]",dD="[object Set]",pD="[object WeakMap]",hD="[object DataView]",fee=as(Em),mee=as(Zs),gee=as(Cm),vee=as(Pm),yee=as(Im),Ja=Zn;(Em&&Ja(new Em(new ArrayBuffer(1)))!=hD||Zs&&Ja(new Zs)!=uD||Cm&&Ja(Cm.resolve())!=cD||Pm&&Ja(new Pm)!=dD||Im&&Ja(new Im)!=pD)&&(Ja=function(t){var e=Zn(t),i=e==hee?t.constructor:void 0,r=i?as(i):"";if(r)switch(r){case fee:return hD;case mee:return uD;case gee:return cD;case vee:return dD;case yee:return pD}return e});Iu=Ja});function xee(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&wee.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var bee,wee,fD,mD=M(()=>{bee=Object.prototype,wee=bee.hasOwnProperty;fD=xee});var See,uw,gD=M(()=>{Xn();See=Ai.Uint8Array,uw=See});function _ee(t){var e=new t.constructor(t.byteLength);return new uw(e).set(new uw(t)),e}var Au,Tm=M(()=>{gD();Au=_ee});function Eee(t,e){var i=e?Au(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var vD,yD=M(()=>{Tm();vD=Eee});function Pee(t){var e=new t.constructor(t.source,Cee.exec(t));return e.lastIndex=t.lastIndex,e}var Cee,bD,wD=M(()=>{Cee=/\w*$/;bD=Pee});function Iee(t){return SD?Object(SD.call(t)):{}}var xD,SD,_D,ED=M(()=>{Dd();xD=In?In.prototype:void 0,SD=xD?xD.valueOf:void 0;_D=Iee});function Aee(t,e){var i=e?Au(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var CD,PD=M(()=>{Tm();CD=Aee});function Kee(t,e,i){var r=t.constructor;switch(e){case Fee:return Au(t);case Tee:case Mee:return new r(+t);case zee:return vD(t,i);case Hee:case qee:case Uee:case Bee:case Wee:case Vee:case $ee:case jee:case Gee:return CD(t,i);case Ree:return new r;case kee:case Dee:return new r(t);case Nee:return bD(t);case Oee:return new r;case Lee:return _D(t)}}var Tee,Mee,Ree,kee,Nee,Oee,Dee,Lee,Fee,zee,Hee,qee,Uee,Bee,Wee,Vee,$ee,jee,Gee,ID,AD=M(()=>{Tm();yD();wD();ED();PD();Tee="[object Boolean]",Mee="[object Date]",Ree="[object Map]",kee="[object Number]",Nee="[object RegExp]",Oee="[object Set]",Dee="[object String]",Lee="[object Symbol]",Fee="[object ArrayBuffer]",zee="[object DataView]",Hee="[object Float32Array]",qee="[object Float64Array]",Uee="[object Int8Array]",Bee="[object Int16Array]",Wee="[object Int32Array]",Vee="[object Uint8Array]",$ee="[object Uint8ClampedArray]",jee="[object Uint16Array]",Gee="[object Uint32Array]";ID=Kee});var TD,Yee,MD,RD=M(()=>{vu();TD=Object.create,Yee=function(){function t(){}return function(e){if(!Eo(e))return{};if(TD)return TD(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),MD=Yee});function Xee(t){return typeof t.constructor=="function"&&!_u(t)?MD(im(t)):{}}var kD,ND=M(()=>{RD();B0();fm();kD=Xee});function Jee(t){return An(t)&&Iu(t)==Zee}var Zee,OD,DD=M(()=>{Am();Za();Zee="[object Map]";OD=Jee});var LD,Qee,FD,zD=M(()=>{DD();dm();pm();LD=us&&us.isMap,Qee=LD?Su(LD):OD,FD=Qee});function tte(t){return An(t)&&Iu(t)==ete}var ete,HD,qD=M(()=>{Am();Za();ete="[object Set]";HD=tte});var UD,ite,BD,WD=M(()=>{qD();dm();pm();UD=us&&us.isSet,ite=UD?Su(UD):HD,BD=ite});function Mm(t,e,i,r,n,o){var a,l=e&rte,c=e&nte,d=e&ote;if(i&&(a=n?i(t,r,n,o):i(t)),a!==void 0)return a;if(!Eo(t))return t;var m=Co(t);if(m){if(a=fD(t),!l)return ym(t,a)}else{var f=Iu(t),v=f==$D||f==cte;if(um(t))return jO(t,l);if(f==jD||f==VD||v&&!n){if(a=c||v?{}:kD(t),!l)return c?QO(t,qO(a,t)):ZO(t,OO(a,t))}else{if(!Jt[f])return n?t:{};a=ID(t,f,l)}}o||(o=new sO);var b=o.get(t);if(b)return b;o.set(t,a),BD(t)?t.forEach(function(C){a.add(Mm(C,e,i,C,t,o))}):FD(t)&&t.forEach(function(C,I){a.set(I,Mm(C,e,i,I,t,o))});var _=d?c?rD:tD:c?Cu:Eu,E=m?void 0:_(t);return lO(E||t,function(C,I){E&&(I=C,C=t[I]),lm(a,I,Mm(C,e,i,I,t,o))}),a}var rte,nte,ote,VD,ste,ate,lte,ute,$D,cte,dte,pte,jD,hte,fte,mte,gte,vte,yte,bte,wte,xte,Ste,_te,Ete,Cte,Pte,Ite,Ate,Jt,Rm,cw=M(()=>{aO();uO();Z0();DO();UO();GO();nw();JO();eD();iD();nD();Am();mD();AD();ND();xu();Q0();zD();vu();WD();gm();vm();rte=1,nte=2,ote=4,VD="[object Arguments]",ste="[object Array]",ate="[object Boolean]",lte="[object Date]",ute="[object Error]",$D="[object Function]",cte="[object GeneratorFunction]",dte="[object Map]",pte="[object Number]",jD="[object Object]",hte="[object RegExp]",fte="[object Set]",mte="[object String]",gte="[object Symbol]",vte="[object WeakMap]",yte="[object ArrayBuffer]",bte="[object DataView]",wte="[object Float32Array]",xte="[object Float64Array]",Ste="[object Int8Array]",_te="[object Int16Array]",Ete="[object Int32Array]",Cte="[object Uint8Array]",Pte="[object Uint8ClampedArray]",Ite="[object Uint16Array]",Ate="[object Uint32Array]",Jt={};Jt[VD]=Jt[ste]=Jt[yte]=Jt[bte]=Jt[ate]=Jt[lte]=Jt[wte]=Jt[xte]=Jt[Ste]=Jt[_te]=Jt[Ete]=Jt[dte]=Jt[pte]=Jt[jD]=Jt[hte]=Jt[fte]=Jt[mte]=Jt[gte]=Jt[Cte]=Jt[Pte]=Jt[Ite]=Jt[Ate]=!0;Jt[ute]=Jt[$D]=Jt[vte]=!1;Rm=Mm});function Mte(t){return Rm(t,Tte)}var Tte,dw,GD=M(()=>{cw();Tte=4;dw=Mte});function Rte(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var km,pw=M(()=>{km=Rte});function Nte(t){return typeof t=="symbol"||An(t)&&Zn(t)==kte}var kte,Tu,Nm=M(()=>{mu();Za();kte="[object Symbol]";Tu=Nte});function hw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ote);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var a=t.apply(this,r);return i.cache=o.set(n,a)||o,a};return i.cache=new(hw.Cache||Ud),i}var Ote,KD,YD=M(()=>{K0();Ote="Expected a function";hw.Cache=Ud;KD=hw});function Lte(t){var e=KD(t,function(r){return i.size===Dte&&i.clear(),r}),i=e.cache;return e}var Dte,XD,ZD=M(()=>{YD();Dte=500;XD=Lte});var Fte,zte,Hte,JD,QD=M(()=>{ZD();Fte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zte=/\\(\\)?/g,Hte=XD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Fte,function(i,r,n,o){e.push(n?o.replace(zte,"$1"):r||i)}),e}),JD=Hte});function Ute(t){if(typeof t=="string"||Tu(t))return t;var e=t+"";return e=="0"&&1/t==-qte?"-0":e}var qte,eL,tL=M(()=>{Nm();qte=1/0;eL=Ute});function nL(t){if(typeof t=="string")return t;if(Co(t))return km(t,nL)+"";if(Tu(t))return rL?rL.call(t):"";var e=t+"";return e=="0"&&1/t==-Bte?"-0":e}var Bte,iL,rL,oL,sL=M(()=>{Dd();pw();xu();Nm();Bte=1/0,iL=In?In.prototype:void 0,rL=iL?iL.toString:void 0;oL=nL});function Wte(t){return t==null?"":oL(t)}var aL,lL=M(()=>{sL();aL=Wte});function Vte(t){return Co(t)?km(t,eL):Tu(t)?[t]:ym(JD(aL(t)))}var fw,uL=M(()=>{pw();nw();xu();Nm();QD();tL();lL();fw=Vte});function Gte(t){return Rm(t,$te|jte)}var $te,jte,cL,dL=M(()=>{cw();$te=1,jte=4;cL=Gte});function Qa(){return Qa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Qa.apply(this,arguments)}function Kte(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function yL(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function pL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xte(){var t=Mi(Om);return t||$y(!1),t}function Mu(t,e,i,r){r===void 0&&(r=0);for(var n=fw(e);t&&r<n.length;)t=t[n[r++]];return r!==n.length&&!t||t===void 0?i:t}function mw(t,e,i){for(var r=dw(t),n=r,o=0,a=fw(e);o<a.length-1;o++){var l=a[o],c=Mu(t,a.slice(0,o+1));if(c&&(bL(c)||Array.isArray(c)))n=n[l]=dw(c);else{var d=a[o+1];n=n[l]=Zte(d)&&Number(d)>=0?[]:{}}}return(o===0?t:n)[a[o]]===i?t:(i===void 0?delete n[a[o]]:n[a[o]]=i,o===0&&i===void 0&&delete r[a[o]],r)}function wL(t){var e=function(n){return Tt(Yte,null,function(o){return o||$y(!1),Tt(t,Qa({},n,{formik:o}))})},i=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+i+")",(0,vL.default)(e,t)}var gL,vL,Om,N1e,Yte,hL,fL,bL,Zte,Jte,O1e,Qte,eie,tie,gw,iie,el,mL,rie,xL=M(()=>{Jk();qe();gL=pe(lN());qC();GD();uL();vL=pe(Dh());dL();Om=xn(void 0);Om.displayName="FormikContext";N1e=Om.Provider,Yte=Om.Consumer;hL=function(e){return Array.isArray(e)&&e.length===0},fL=function(e){return typeof e=="function"},bL=function(e){return e!==null&&typeof e=="object"},Zte=function(e){return String(Math.floor(Number(e)))===e},Jte=function(e){return Oa.count(e)===0};O1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Tr:Mt,Qte=Mr(function(t,e){var i=t.action,r=yL(t,["action"]),n=i??"#",o=Xte(),a=o.handleReset,l=o.handleSubmit;return Tt("form",Qa({onSubmit:l,ref:e,onReset:a,action:n},r))});Qte.displayName="Form";eie=function(e,i,r){var n=el(e),o=n[i];return n.splice(i,1),n.splice(r,0,o),n},tie=function(e,i,r){var n=el(e),o=n[i];return n[i]=n[r],n[r]=o,n},gw=function(e,i,r){var n=el(e);return n.splice(i,0,r),n},iie=function(e,i,r){var n=el(e);return n[i]=r,n},el=function(e){if(e){if(Array.isArray(e))return[].concat(e);var i=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,n){return n>r?n:r},0);return Array.from(Qa({},e,{length:i+1}))}else return[]},mL=function(e,i){var r=typeof e=="function"?e:i;return function(n){if(Array.isArray(n)||bL(n)){var o=el(n);return r(o)}return n}},rie=function(t){Kte(e,t);function e(r){var n;return n=t.call(this,r)||this,n.updateArrayField=function(o,a,l){var c=n.props,d=c.name,m=c.formik.setFormikState;m(function(f){var v=mL(l,o),b=mL(a,o),_=mw(f.values,d,o(Mu(f.values,d))),E=l?v(Mu(f.errors,d)):void 0,C=a?b(Mu(f.touched,d)):void 0;return hL(E)&&(E=void 0),hL(C)&&(C=void 0),Qa({},f,{values:_,errors:l?mw(f.errors,d,E):f.errors,touched:a?mw(f.touched,d,C):f.touched})})},n.push=function(o){return n.updateArrayField(function(a){return[].concat(el(a),[cL(o)])},!1,!1)},n.handlePush=function(o){return function(){return n.push(o)}},n.swap=function(o,a){return n.updateArrayField(function(l){return tie(l,o,a)},!0,!0)},n.handleSwap=function(o,a){return function(){return n.swap(o,a)}},n.move=function(o,a){return n.updateArrayField(function(l){return eie(l,o,a)},!0,!0)},n.handleMove=function(o,a){return function(){return n.move(o,a)}},n.insert=function(o,a){return n.updateArrayField(function(l){return gw(l,o,a)},function(l){return gw(l,o,null)},function(l){return gw(l,o,null)})},n.handleInsert=function(o,a){return function(){return n.insert(o,a)}},n.replace=function(o,a){return n.updateArrayField(function(l){return iie(l,o,a)},!1,!1)},n.handleReplace=function(o,a){return function(){return n.replace(o,a)}},n.unshift=function(o){var a=-1;return n.updateArrayField(function(l){var c=l?[o].concat(l):[o];return a=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),a},n.handleUnshift=function(o){return function(){return n.unshift(o)}},n.handleRemove=function(o){return function(){return n.remove(o)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(pL(n)),n.pop=n.pop.bind(pL(n)),n}var i=e.prototype;return i.componentDidUpdate=function(n){this.props.validateOnChange&&this.props.formik.validateOnChange&&!(0,gL.default)(Mu(n.formik.values,n.name),Mu(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(n){var o;return this.updateArrayField(function(a){var l=a?el(a):[];return o||(o=l[n]),fL(l.splice)&&l.splice(n,1),fL(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),o},i.pop=function(){var n;return this.updateArrayField(function(o){var a=o.slice();return n||(n=a&&a.pop&&a.pop()),a},!0,!0),n},i.render=function(){var n={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,a=o.component,l=o.render,c=o.children,d=o.name,m=o.formik,f=yL(m,["validate","validationSchema"]),v=Qa({},n,{form:f,name:d});return a?Tt(a,v):l?l(v):c?typeof c=="function"?c(v):Jte(c)?null:Oa.only(c):null},e}(se);rie.defaultProps={validateOnChange:!0}});var _L=V((L1e,SL)=>{var nie="__lodash_hash_undefined__";function oie(t){return this.__data__.set(t,nie),this}SL.exports=oie});var CL=V((F1e,EL)=>{function sie(t){return this.__data__.has(t)}EL.exports=sie});var IL=V((z1e,PL)=>{var aie=ff(),lie=_L(),uie=CL();function Dm(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new aie;++e<i;)this.add(t[e])}Dm.prototype.add=Dm.prototype.push=lie;Dm.prototype.has=uie;PL.exports=Dm});var TL=V((H1e,AL)=>{function cie(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}AL.exports=cie});var RL=V((q1e,ML)=>{function die(t,e){return t.has(e)}ML.exports=die});var vw=V((U1e,kL)=>{var pie=IL(),hie=TL(),fie=RL(),mie=1,gie=2;function vie(t,e,i,r,n,o){var a=i&mie,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var d=o.get(t),m=o.get(e);if(d&&m)return d==e&&m==t;var f=-1,v=!0,b=i&gie?new pie:void 0;for(o.set(t,e),o.set(e,t);++f<l;){var _=t[f],E=e[f];if(r)var C=a?r(E,_,f,e,t,o):r(_,E,f,t,e,o);if(C!==void 0){if(C)continue;v=!1;break}if(b){if(!hie(e,function(I,N){if(!fie(b,N)&&(_===I||n(_,I,i,r,o)))return b.push(N)})){v=!1;break}}else if(!(_===E||n(_,E,i,r,o))){v=!1;break}}return o.delete(t),o.delete(e),v}kL.exports=vie});var OL=V((B1e,NL)=>{function yie(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}NL.exports=yie});var LL=V((W1e,DL)=>{function bie(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}DL.exports=bie});var UL=V((V1e,qL)=>{var FL=vd(),zL=Vb(),wie=Xl(),xie=vw(),Sie=OL(),_ie=LL(),Eie=1,Cie=2,Pie="[object Boolean]",Iie="[object Date]",Aie="[object Error]",Tie="[object Map]",Mie="[object Number]",Rie="[object RegExp]",kie="[object Set]",Nie="[object String]",Oie="[object Symbol]",Die="[object ArrayBuffer]",Lie="[object DataView]",HL=FL?FL.prototype:void 0,yw=HL?HL.valueOf:void 0;function Fie(t,e,i,r,n,o,a){switch(i){case Lie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Die:return!(t.byteLength!=e.byteLength||!o(new zL(t),new zL(e)));case Pie:case Iie:case Mie:return wie(+t,+e);case Aie:return t.name==e.name&&t.message==e.message;case Rie:case Nie:return t==e+"";case Tie:var l=Sie;case kie:var c=r&Eie;if(l||(l=_ie),t.size!=e.size&&!c)return!1;var d=a.get(t);if(d)return d==e;r|=Cie,a.set(t,e);var m=xie(l(t),l(e),r,n,o,a);return a.delete(t),m;case Oie:if(yw)return yw.call(t)==yw.call(e)}return!1}qL.exports=Fie});var bw=V(($1e,BL)=>{function zie(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}BL.exports=zie});var ww=V((j1e,WL)=>{var Hie=bw(),qie=bo();function Uie(t,e,i){var r=e(t);return qie(t)?r:Hie(r,i(t))}WL.exports=Uie});var $L=V((G1e,VL)=>{function Bie(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var a=t[i];e(a,i,t)&&(o[n++]=a)}return o}VL.exports=Bie});var xw=V((K1e,jL)=>{function Wie(){return[]}jL.exports=Wie});var Sw=V((Y1e,KL)=>{var Vie=$L(),$ie=xw(),jie=Object.prototype,Gie=jie.propertyIsEnumerable,GL=Object.getOwnPropertySymbols,Kie=GL?function(t){return t==null?[]:(t=Object(t),Vie(GL(t),function(e){return Gie.call(t,e)}))}:$ie;KL.exports=Kie});var XL=V((X1e,YL)=>{var Yie=$b(),Xie=Yie(Object.keys,Object);YL.exports=Xie});var JL=V((Z1e,ZL)=>{var Zie=yf(),Jie=XL(),Qie=Object.prototype,ere=Qie.hasOwnProperty;function tre(t){if(!Zie(t))return Jie(t);var e=[];for(var i in Object(t))ere.call(t,i)&&i!="constructor"&&e.push(i);return e}ZL.exports=tre});var _w=V((J1e,QL)=>{var ire=Yb(),rre=JL(),nre=Sd();function ore(t){return nre(t)?ire(t):rre(t)}QL.exports=ore});var tF=V((Q1e,eF)=>{var sre=ww(),are=Sw(),lre=_w();function ure(t){return sre(t,lre,are)}eF.exports=ure});var nF=V((eEe,rF)=>{var iF=tF(),cre=1,dre=Object.prototype,pre=dre.hasOwnProperty;function hre(t,e,i,r,n,o){var a=i&cre,l=iF(t),c=l.length,d=iF(e),m=d.length;if(c!=m&&!a)return!1;for(var f=c;f--;){var v=l[f];if(!(a?v in e:pre.call(e,v)))return!1}var b=o.get(t),_=o.get(e);if(b&&_)return b==e&&_==t;var E=!0;o.set(t,e),o.set(e,t);for(var C=a;++f<c;){v=l[f];var I=t[v],N=e[v];if(r)var D=a?r(N,I,v,e,t,o):r(I,N,v,t,e,o);if(!(D===void 0?I===N||n(I,N,i,r,o):D)){E=!1;break}C||(C=v=="constructor")}if(E&&!C){var F=t.constructor,z=e.constructor;F!=z&&"constructor"in t&&"constructor"in e&&!(typeof F=="function"&&F instanceof F&&typeof z=="function"&&z instanceof z)&&(E=!1)}return o.delete(t),o.delete(e),E}rF.exports=hre});var sF=V((tEe,oF)=>{var fre=Bs(),mre=Gn(),gre=fre(mre,"DataView");oF.exports=gre});var lF=V((iEe,aF)=>{var vre=Bs(),yre=Gn(),bre=vre(yre,"Promise");aF.exports=bre});var cF=V((rEe,uF)=>{var wre=Bs(),xre=Gn(),Sre=wre(xre,"Set");uF.exports=Sre});var pF=V((nEe,dF)=>{var _re=Bs(),Ere=Gn(),Cre=_re(Ere,"WeakMap");dF.exports=Cre});var wF=V((oEe,bF)=>{var Ew=sF(),Cw=hf(),Pw=lF(),Iw=cF(),Aw=pF(),yF=Wa(),Ru=Ub(),hF="[object Map]",Pre="[object Object]",fF="[object Promise]",mF="[object Set]",gF="[object WeakMap]",vF="[object DataView]",Ire=Ru(Ew),Are=Ru(Cw),Tre=Ru(Pw),Mre=Ru(Iw),Rre=Ru(Aw),tl=yF;(Ew&&tl(new Ew(new ArrayBuffer(1)))!=vF||Cw&&tl(new Cw)!=hF||Pw&&tl(Pw.resolve())!=fF||Iw&&tl(new Iw)!=mF||Aw&&tl(new Aw)!=gF)&&(tl=function(t){var e=yF(t),i=e==Pre?t.constructor:void 0,r=i?Ru(i):"";if(r)switch(r){case Ire:return vF;case Are:return hF;case Tre:return fF;case Mre:return mF;case Rre:return gF}return e});bF.exports=tl});var AF=V((sEe,IF)=>{var Tw=mf(),kre=vw(),Nre=UL(),Ore=nF(),xF=wF(),SF=bo(),_F=xf(),Dre=Sf(),Lre=1,EF="[object Arguments]",CF="[object Array]",Lm="[object Object]",Fre=Object.prototype,PF=Fre.hasOwnProperty;function zre(t,e,i,r,n,o){var a=SF(t),l=SF(e),c=a?CF:xF(t),d=l?CF:xF(e);c=c==EF?Lm:c,d=d==EF?Lm:d;var m=c==Lm,f=d==Lm,v=c==d;if(v&&_F(t)){if(!_F(e))return!1;a=!0,m=!1}if(v&&!m)return o||(o=new Tw),a||Dre(t)?kre(t,e,i,r,n,o):Nre(t,e,c,i,r,n,o);if(!(i&Lre)){var b=m&&PF.call(t,"__wrapped__"),_=f&&PF.call(e,"__wrapped__");if(b||_){var E=b?t.value():t,C=_?e.value():e;return o||(o=new Tw),n(E,C,i,r,o)}}return v?(o||(o=new Tw),Ore(t,e,i,r,n,o)):!1}IF.exports=zre});var Mw=V((aEe,RF)=>{var Hre=AF(),TF=Ws();function MF(t,e,i,r,n){return t===e?!0:t==null||e==null||!TF(t)&&!TF(e)?t!==t&&e!==e:Hre(t,e,i,r,MF,n)}RF.exports=MF});var NF=V((lEe,kF)=>{var qre=mf(),Ure=Mw(),Bre=1,Wre=2;function Vre(t,e,i,r){var n=i.length,o=n,a=!r;if(t==null)return!o;for(t=Object(t);n--;){var l=i[n];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++n<o;){l=i[n];var c=l[0],d=t[c],m=l[1];if(a&&l[2]){if(d===void 0&&!(c in t))return!1}else{var f=new qre;if(r)var v=r(d,m,c,t,e,f);if(!(v===void 0?Ure(m,d,Bre|Wre,r,f):v))return!1}}return!0}kF.exports=Vre});var Rw=V((uEe,OF)=>{var $re=yo();function jre(t){return t===t&&!$re(t)}OF.exports=jre});var LF=V((cEe,DF)=>{var Gre=Rw(),Kre=_w();function Yre(t){for(var e=Kre(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,Gre(n)]}return e}DF.exports=Yre});var kw=V((dEe,FF)=>{function Xre(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}FF.exports=Xre});var HF=V((pEe,zF)=>{var Zre=NF(),Jre=LF(),Qre=kw();function ene(t){var e=Jre(t);return e.length==1&&e[0][2]?Qre(e[0][0],e[0][1]):function(i){return i===t||Zre(i,t,e)}}zF.exports=ene});var Fm=V((hEe,qF)=>{var tne=Wa(),ine=Ws(),rne="[object Symbol]";function nne(t){return typeof t=="symbol"||ine(t)&&tne(t)==rne}qF.exports=nne});var zm=V((fEe,UF)=>{var one=bo(),sne=Fm(),ane=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lne=/^\w*$/;function une(t,e){if(one(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||sne(t)?!0:lne.test(t)||!ane.test(t)||e!=null&&t in Object(e)}UF.exports=une});var VF=V((mEe,WF)=>{var BF=ff(),cne="Expected a function";function Nw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cne);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var a=t.apply(this,r);return i.cache=o.set(n,a)||o,a};return i.cache=new(Nw.Cache||BF),i}Nw.Cache=BF;WF.exports=Nw});var jF=V((gEe,$F)=>{var dne=VF(),pne=500;function hne(t){var e=dne(t,function(r){return i.size===pne&&i.clear(),r}),i=e.cache;return e}$F.exports=hne});var KF=V((vEe,GF)=>{var fne=jF(),mne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gne=/\\(\\)?/g,vne=fne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mne,function(i,r,n,o){e.push(n?o.replace(gne,"$1"):r||i)}),e});GF.exports=vne});var Ow=V((yEe,YF)=>{function yne(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}YF.exports=yne});var t2=V((bEe,e2)=>{var XF=vd(),bne=Ow(),wne=bo(),xne=Fm(),Sne=1/0,ZF=XF?XF.prototype:void 0,JF=ZF?ZF.toString:void 0;function QF(t){if(typeof t=="string")return t;if(wne(t))return bne(t,QF)+"";if(xne(t))return JF?JF.call(t):"";var e=t+"";return e=="0"&&1/t==-Sne?"-0":e}e2.exports=QF});var r2=V((wEe,i2)=>{var _ne=t2();function Ene(t){return t==null?"":_ne(t)}i2.exports=Ene});var Vd=V((xEe,n2)=>{var Cne=bo(),Pne=zm(),Ine=KF(),Ane=r2();function Tne(t,e){return Cne(t)?t:Pne(t,e)?[t]:Ine(Ane(t))}n2.exports=Tne});var ku=V((SEe,o2)=>{var Mne=Fm(),Rne=1/0;function kne(t){if(typeof t=="string"||Mne(t))return t;var e=t+"";return e=="0"&&1/t==-Rne?"-0":e}o2.exports=kne});var Hm=V((_Ee,s2)=>{var Nne=Vd(),One=ku();function Dne(t,e){e=Nne(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[One(e[i++])];return i&&i==r?t:void 0}s2.exports=Dne});var l2=V((EEe,a2)=>{var Lne=Hm();function Fne(t,e,i){var r=t==null?void 0:Lne(t,e);return r===void 0?i:r}a2.exports=Fne});var c2=V((CEe,u2)=>{function zne(t,e){return t!=null&&e in Object(t)}u2.exports=zne});var p2=V((PEe,d2)=>{var Hne=Vd(),qne=bf(),Une=bo(),Bne=Pd(),Wne=wf(),Vne=ku();function $ne(t,e,i){e=Hne(e,t);for(var r=-1,n=e.length,o=!1;++r<n;){var a=Vne(e[r]);if(!(o=t!=null&&i(t,a)))break;t=t[a]}return o||++r!=n?o:(n=t==null?0:t.length,!!n&&Wne(n)&&Bne(a,n)&&(Une(t)||qne(t)))}d2.exports=$ne});var f2=V((IEe,h2)=>{var jne=c2(),Gne=p2();function Kne(t,e){return t!=null&&Gne(t,e,jne)}h2.exports=Kne});var g2=V((AEe,m2)=>{var Yne=Mw(),Xne=l2(),Zne=f2(),Jne=zm(),Qne=Rw(),eoe=kw(),toe=ku(),ioe=1,roe=2;function noe(t,e){return Jne(t)&&Qne(e)?eoe(toe(t),e):function(i){var r=Xne(i,t);return r===void 0&&r===e?Zne(i,t):Yne(e,r,ioe|roe)}}m2.exports=noe});var y2=V((TEe,v2)=>{function ooe(t){return function(e){return e?.[t]}}v2.exports=ooe});var w2=V((MEe,b2)=>{var soe=Hm();function aoe(t){return function(e){return soe(e,t)}}b2.exports=aoe});var S2=V((REe,x2)=>{var loe=y2(),uoe=w2(),coe=zm(),doe=ku();function poe(t){return coe(t)?loe(doe(t)):uoe(t)}x2.exports=poe});var Dw=V((kEe,_2)=>{var hoe=HF(),foe=g2(),moe=Ef(),goe=bo(),voe=S2();function yoe(t){return typeof t=="function"?t:t==null?moe:typeof t=="object"?goe(t)?foe(t[0],t[1]):hoe(t):voe(t)}_2.exports=yoe});var C2=V((NEe,E2)=>{var boe="Expected a function";function woe(t){if(typeof t!="function")throw new TypeError(boe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}E2.exports=woe});var A2=V((OEe,I2)=>{var xoe=Kb(),Soe=Vd(),_oe=Pd(),P2=yo(),Eoe=ku();function Coe(t,e,i,r){if(!P2(t))return t;e=Soe(e,t);for(var n=-1,o=e.length,a=o-1,l=t;l!=null&&++n<o;){var c=Eoe(e[n]),d=i;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(n!=a){var m=l[c];d=r?r(m,c,l):void 0,d===void 0&&(d=P2(m)?m:_oe(e[n+1])?[]:{})}xoe(l,c,d),l=l[c]}return t}I2.exports=Coe});var M2=V((DEe,T2)=>{var Poe=Hm(),Ioe=A2(),Aoe=Vd();function Toe(t,e,i){for(var r=-1,n=e.length,o={};++r<n;){var a=e[r],l=Poe(t,a);i(l,a)&&Ioe(o,Aoe(a,t),l)}return o}T2.exports=Toe});var k2=V((LEe,R2)=>{var Moe=bw(),Roe=vf(),koe=Sw(),Noe=xw(),Ooe=Object.getOwnPropertySymbols,Doe=Ooe?function(t){for(var e=[];t;)Moe(e,koe(t)),t=Roe(t);return e}:Noe;R2.exports=Doe});var O2=V((FEe,N2)=>{var Loe=ww(),Foe=k2(),zoe=_f();function Hoe(t){return Loe(t,zoe,Foe)}N2.exports=Hoe});var L2=V((zEe,D2)=>{var qoe=Ow(),Uoe=Dw(),Boe=M2(),Woe=O2();function Voe(t,e){if(t==null)return{};var i=qoe(Woe(t),function(r){return[r]});return e=Uoe(e),Boe(t,i,function(r,n){return e(r,n[0])})}D2.exports=Voe});var z2=V((HEe,F2)=>{var $oe=Dw(),joe=C2(),Goe=L2();function Koe(t,e){return Goe(t,joe($oe(e)))}F2.exports=Koe});var H2,q2,Lw,Yoe,U2=M(()=>{qe();xL();H2=pe(z2()),q2=pe(we()),Lw=class extends Re.Component{render(){return null}componentDidUpdate(e){if(!q2.default.isEqual(e.formik.initialValues,this.props.formik.initialValues))return;let i=(0,H2.default)(this.props.formik.values,function(r,n){return e.formik.values[n]===r});Object.keys(i).length>0&&this.props.onChange(i,this.props.formik)}},Yoe=wL(Lw)});var Xoe,B2=M(()=>{Xoe=pe(we())});var qm=M(()=>{U2();Ne();B2();Vs()});var W2=V((jEe,Fw)=>{(function(){function t(_,E){document.addEventListener?_.addEventListener("scroll",E,!1):_.attachEvent("scroll",E)}function e(_){document.body?_():document.addEventListener?document.addEventListener("DOMContentLoaded",function E(){document.removeEventListener("DOMContentLoaded",E),_()}):document.attachEvent("onreadystatechange",function E(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",E),_())})}function i(_){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(_)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(_,E){_.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+E+";"}function n(_){var E=_.g.offsetWidth,C=E+100;return _.j.style.width=C+"px",_.i.scrollLeft=C,_.h.scrollLeft=_.h.scrollWidth+100,_.l!==E?(_.l=E,!0):!1}function o(_,E){function C(){var N=I;n(N)&&N.g.parentNode!==null&&E(N.l)}var I=_;t(_.h,C),t(_.i,C),n(_)}function a(_,E,C){E=E||{},C=C||window,this.family=_,this.style=E.style||"normal",this.weight=E.weight||"normal",this.stretch=E.stretch||"normal",this.context=C}var l=null,c=null,d=null,m=null;function f(_){return c===null&&(v(_)&&/Apple/.test(window.navigator.vendor)?(_=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!_&&603>parseInt(_[1],10)):c=!1),c}function v(_){return m===null&&(m=!!_.document.fonts),m}function b(_,E){var C=_.style,I=_.weight;if(d===null){var N=document.createElement("div");try{N.style.font="condensed 100px sans-serif"}catch{}d=N.style.font!==""}return[C,I,d?_.stretch:"","100px",E].join(" ")}a.prototype.load=function(_,E){var C=this,I=_||"BESbswy",N=0,D=E||3e3,F=new Date().getTime();return new Promise(function(z,G){if(v(C.context)&&!f(C.context)){var Y=new Promise(function(Z,$){function j(){new Date().getTime()-F>=D?$(Error(""+D+"ms timeout exceeded")):C.context.document.fonts.load(b(C,'"'+C.family+'"'),I).then(function(ie){1<=ie.length?Z():setTimeout(j,25)},$)}j()}),L=new Promise(function(Z,$){N=setTimeout(function(){$(Error(""+D+"ms timeout exceeded"))},D)});Promise.race([L,Y]).then(function(){clearTimeout(N),z(C)},G)}else e(function(){function Z(){var re;(re=ae!=-1&&ee!=-1||ae!=-1&&J!=-1||ee!=-1&&J!=-1)&&((re=ae!=ee&&ae!=J&&ee!=J)||(l===null&&(re=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!re&&(536>parseInt(re[1],10)||parseInt(re[1],10)===536&&11>=parseInt(re[2],10))),re=l&&(ae==le&&ee==le&&J==le||ae==K&&ee==K&&J==K||ae==U&&ee==U&&J==U)),re=!re),re&&(W.parentNode!==null&&W.parentNode.removeChild(W),clearTimeout(N),z(C))}function $(){if(new Date().getTime()-F>=D)W.parentNode!==null&&W.parentNode.removeChild(W),G(Error(""+D+"ms timeout exceeded"));else{var re=C.context.document.hidden;(re===!0||re===void 0)&&(ae=j.g.offsetWidth,ee=ie.g.offsetWidth,J=H.g.offsetWidth,Z()),N=setTimeout($,50)}}var j=new i(I),ie=new i(I),H=new i(I),ae=-1,ee=-1,J=-1,le=-1,K=-1,U=-1,W=document.createElement("div");W.dir="ltr",r(j,b(C,"sans-serif")),r(ie,b(C,"serif")),r(H,b(C,"monospace")),W.appendChild(j.g),W.appendChild(ie.g),W.appendChild(H.g),C.context.document.body.appendChild(W),le=j.g.offsetWidth,K=ie.g.offsetWidth,U=H.g.offsetWidth,$(),o(j,function(re){ae=re,Z()}),r(j,b(C,'"'+C.family+'",sans-serif')),o(ie,function(re){ee=re,Z()}),r(ie,b(C,'"'+C.family+'",serif')),o(H,function(re){J=re,Z()}),r(H,b(C,'"'+C.family+'",monospace'))})})},typeof Fw=="object"?Fw.exports=a:(window.FontFaceObserver=a,window.FontFaceObserver.prototype.load=a.prototype.load)})()});var V2,$2,zw,j2,G2=M(()=>{Ee();V2=pe(we(),1);qm();$2=pe(W2(),1);oe();zw=class extends se{constructor(e){super(e),this.state={parentWidth:{},width:{},scale:1,fontFamily:null},this.observer=null,this.timeout=null}render(e,i){let r=!!e.baseNode?.getAttribute("style")?.includes("line-height"),n=window.getComputedStyle(e.baseNode),o=n.letterSpacing,a=n.direction,l="0px";return o.includes("-")&&(l=o.replace("-","")),g(te,{children:[g("span",{class:"fit-text",children:e.children}),g("style",{children:`
					:host { 
                        white-space: nowrap!important;
                        display: inline-block!important;
                        --font-scale: ${this.state.scale}!important;
                        ${r?"":"line-height: 1!important;"}
                        animation: none!important;
                        will-change: transform;
                    --rotate-transform: 0deg!important;
                    }
                    .fit-text {
                        padding${a==="ltr"?"-right":"-left"}: ${l}!important;
                    }
				`})]})}locateFitText=()=>{if(!this.props.baseNode||!this.props.baseNode.parentElement)return;let e=this.props.baseNode.parentElement.getBoundingClientRect().width,i=this.props.baseNode.getBoundingClientRect().width;this.setState({parentWidth:e,width:i})};handleResize=()=>{this.locateFitText()};handleFontLoad=()=>{this.timeout=setTimeout(()=>{this.locateFitText()},200)};refreshFontFamily=()=>{let i=window.getComputedStyle(this.props.baseNode).fontFamily.split(",");i=i.map(r=>r.trim()),i=i.map(r=>r.replace(/['"]+/g,"")),i[0]!==this.state.fontFamily&&this.setState({fontFamily:i[0]})};componentDidMount(){this.state.fontFamily||this.refreshFontFamily(),window.addEventListener("resize",this.handleResize),this.observer=new MutationObserver(e=>{V2.default.find(e,i=>{if(i.target.contains(this.props.baseNode||i.target===this.props.baseNode)||i.type==="attributes"&&i.attributeName==="uses"&&i.target?.getAttribute("uses")?.includes("fit-text")===!0)return!0;if(i.target.tagName==="STYLE")return i.target.textContent.includes("font-family")&&this.refreshFontFamily(),!0})&&this.locateFitText()}),this.observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("keyup",this.handleKeyup),this.locateFitText()}handleKeyup=e=>{if(!window.CargoEditor?.getActiveEditor?.())return;let i=window.CargoEditor.getActiveRange();(i.startContainer===this.props.baseNode||i.startContainer.parentElement===this.props.baseNode)&&this.locateFitText()};componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.observer.disconnect(),window.removeEventListener("keyup",this.handleKeyup),clearTimeout(this.timeout)}componentDidUpdate(e,i){if(i.fontFamily!==this.state.fontFamily&&new $2.default(this.state.fontFamily).load().then(()=>{this.handleFontLoad()}).catch(()=>{this.handleFontLoad()}),i.scale!==this.state.scale){let r=this.state.scale-i.scale;if(r>.1||r<-.1){this.locateFitText();return}}if(i.parentWidth!==this.state.parentWidth||i.width!==this.state.width){let r=this.state.parentWidth/(this.state.width/this.state.scale);this.setState({scale:r});return}if(e.baseNode!==this.props.baseNode){this.locateFitText();return}}},j2=zw});var Hw,Nu,Tn,qw,Um,il=M(()=>{Ee();qe();Hw=pe(we(),1);Ne();Kn();Ui();Ak();Rk();Lk();Hk();Uk();Vk();jk();Kk();Zk();G2();xo();oe();Nu=new Set,Tn=class extends se{constructor(e){switch(super(e),ne||(this.observer=new MutationObserver(this.onAttributeChange)),this.usesOrder=["blink","dropshadow","drag","fit-text","rotation","eye-roll","scroll-animate","flying-object","inline-part-styles"],this.state={attributes:this.getAttributes()},this.usesKeys={rotation:Mk,"eye-roll":Ik,drag:qk,"scroll-transition":zk,"flying-object":Dk,dropshadow:Wk,background:$k,"inline-part-styles":Gk,blink:Xk,"fit-text":j2},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}}render(e,i){let r=e.customElementMode?this.props.children:g("slot",{});if(i.attributes.uses.length==0)return g(te,{children:[g("style",{id:"uses-host",children:`
			:host {
				transform-origin: center center;
				transform: var(--base-translate, translate(0));
			}
			`}),r]},"uses-fragment");let n=[];i.attributes.uses.forEach((l,c)=>{this.usesKeys[l]&&this.usesKeys[l].transformSlot&&n.push(this.usesKeys[l].transformSlot)}),i.attributes.uses.forEach((l,c)=>{this.usesKeys[l]&&(r=Tt(this.props.customElementMode?this.usesKeys[l]:wo(this.usesKeys[l]),{...this.state.attributes,...this.props,lowestLevel:c==0,baseNode:this.props.baseNode,children:r,transformSlots:n}))});let o=!!i.attributes.uses.includes("fit-text"),a=g(te,{children:[this.props.adminMode&&!e.customElementMode&&o===!1&&g(Vi,{baseNode:this.props.baseNode}),g("style",{id:"uses-host",children:`
			:host(span){
				display: inline-block;
			}

			:host {
				position: relative;
				transform-origin: center center;
				transform: var(--base-translate, translate(0)) ${n.map(l=>`var(${l}, translate(0))`).join(" ")};
				${this.displayInlineBlock?"display: inline-block;":""}
			}

			${this.props.adminMode&&!e.customElementMode&&o===!1?`:host::selection {
				background: none;
			}`:""}
			`}),r]},"uses-fragment");return e.customElementMode?a:Ge(a,this.props.baseNode.shadowRoot)}componentDidMount(){this.observer?.observe(this.props.baseNode,{attributes:!0})}componentDidUpdate(e,i){e.uses!==this.props.uses&&this.setState({attributes:this.getAttributes()})}componentWillUnmount(){this.observer?.disconnect()}getAttributes=()=>{let e={};for(let[r,n]of Object.entries(this.state?.attributes||{}))e[r]=void 0;let i=[...this.props.baseNode.attributes].reduce((r,n)=>(r[n.name]=n.value,r),{});for(let[r,n]of Object.entries(i))n==="false"?i[r]=!1:n==="true"&&(i[r]=!0);return this.props.customElementMode&&(i.uses=(i.uses||"")+" "+this.props.uses),i.uses=i.uses?.split(" ")||[],i.uses=Hw.default.uniq(i.uses),i.uses.sort((r,n)=>this.usesOrder.indexOf(r)<this.usesOrder.indexOf(n)?-1:1),{...e,...i}};onAttributeChange=e=>{if(!e.some(n=>n.attributeName!=="style"&&n.attributeName!=="class"))return;let r=this.getAttributes();if(r.uses.length===0){if(this.props.removeFromUseList&&!this.props.customElementMode){this.props.removeFromUseList(this.props.baseNode);return}}else Hw.default.isEqual(this.state.attributes,r)||this.setState({attributes:r})}};Tn.defaultProps={uses:[]};qw=class extends se{constructor(e){super(e),this.mutationsList=[],this.hasRunFirstMutationSummary=!1,!ne&&!this.props.customElementMode&&(this.observer=new MutationObserver(this.onMutation))}render(){return this.props.children}componentDidMount(){this.props.bodycopyRef.current&&(this.onSummary(),this.observer?.observe(this.props.bodycopyRef.current,{attributes:!0,subtree:!0,childList:!0,attributeFilter:["uses"]}))}componentWillUnmount(){this.observer?.disconnect(),cancelAnimationFrame(this.onSummaryAnimationFrame),this.props.bodycopyRef.current&&Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")).forEach(this.removeFromUseList)}onMutation=()=>{this.ticking||(this.ticking=!0,this.onSummaryAnimationFrame=requestAnimationFrame(()=>{this.onSummary(),this.ticking=!1}))};onSummary=()=>{if(!this.props.bodycopyRef.current)return;let e=Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")),i=e.filter(n=>!Nu.has(n));Array.from(Nu).filter(n=>!n.hasAttribute("uses")||e.includes(n)).forEach(this.removeFromUseList),i.forEach(this.addToUseList)};addToUseList=e=>{if(!(e.nodeType!==Node.ELEMENT_NODE||window.customElements.get(e.tagName.toLowerCase()))){if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch{CargoEditor?.mutationManager?.execute(()=>{let r={};e.hasAttribute("uses")&&(r.uses=e.getAttribute("uses")),e.hasAttribute("rotation")&&(r.rotation=e.getAttribute("rotation")),e.hasAttribute("animate")&&(r.animate=e.getAttribute("animate")),e.hasAttribute("scroll-transition")&&(r["scroll-transition"]=e.getAttribute("scroll-transition"));let n=document.createElement("span");for(let a in r)n.setAttribute(a,r[a]);e.parentNode.insertBefore(n,e);let o=CargoEditor?.getActiveRange();CargoEditor.helpers.movePreservingRanges(e,n,-1,o),n.attachShadow({mode:"open"}),e.removeAttribute("scroll-transition"),e.removeAttribute("uses"),e.removeAttribute("animate"),e.removeAttribute("rotation"),e=n});return}if(!Nu.has(e)){Nu.add(e);let i={component:g(Tn,{customElementMode:!1,baseNode:e,adminMode:this.props.adminMode,removeFromUseList:this.removeFromUseList}),element:e,portalHost:null};bt(e,"custom-element-connected",i),this.portalHost=i.portalHost}}};removeFromUseList=e=>{let i=this.props.bodycopyRef.current&&this.props.bodycopyRef.current.contains(e),r=e.hasAttribute("uses");if(!i&&this.props.bodycopyRef.current)bt(this.props.bodycopyRef.current,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Nu.delete(e);else if(!r&&(bt(e,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Nu.delete(e),i&&e.shadowRoot))if(CargoEditor?.mutationManager)CargoEditor?.mutationManager?.execute(()=>{let n=document.createElement("div");n.innerHTML=e.outerHTML,e.replaceWith(n.childNodes[0])},{preventDraft:!0});else{let n=document.createElement("div");n.innerHTML=e.outerHTML,e.replaceWith(n.childNodes[0])}}},Um=qw});var $d={};si($d,{default:()=>Joe});var Uw,Joe,K2=M(()=>{Ne();Uw={name:"wallpaper",excludeFromShuffle:!0,options:[{labelName:"Image",name:"activeImage",type:"image",value:"default"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"image-fit",type:"radio",value:"fill",values:[{labelName:"Fill Window",value:"fill"},{labelName:"Fit Window",value:"fit"}]},{labelName:"Display as Slideshow",name:"cycle-group",type:"details-menu",toggle:{name:"cycle-images",type:"check-box",value:!1},children:[{labelName:void 0,name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"range-input",value:3,min:0,max:20,step:.1},{labelName:"Transition Speed",name:"transition-speed",type:"range-input",value:.8,min:0,max:10,step:.1},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!1},{labelName:"Navigation",name:"navigation",type:"check-box",value:!1}]},{labelName:"Opacity",name:"opacity",type:"range-input",value:1,min:0,max:1,step:.01,excludeFromShuffle:!0},{type:"color",labelName:"Background Color",name:"bg-color",value:"transparent",showField:!0},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{name:"alignments",type:"custom",value:null}]};Uw.defaults=st(Uw.options);Joe=Uw});var jd={};si(jd,{default:()=>Qoe});var Bm,Qoe,Y2=M(()=>{Ne();Bm={name:"gradient",options:[{type:"custom",name:"gradient-preset"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{name:"gradient-type",type:"radio",value:"linear",values:[{labelName:"Linear",value:"linear"},{labelName:"Radial",value:"radial"}]},{type:"checkbox-color",checkbox:{labelName:"Color One",name:"color-one-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color One",name:"color-one",value:"#f2c409",requirements:[{option:"color-one-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Two",name:"color-two-active",type:"check-box",value:!1},color:{type:"color",labelName:"Color Two",name:"color-two",value:"#02ff00",requirements:[{option:"color-two-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Three",name:"color-three-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color Three",name:"color-three",value:"#fe2201",requirements:[{option:"color-three-active",shouldBe:!0}]}},{type:"spacer"},{type:"group",className:"grid-columns-even",requirements:[{option:"gradient-type",shouldBe:"radial"}],children:[{labelName:"X",name:"pos-x",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5},{labelName:"Y",name:"pos-y",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5}]},{labelName:"Rotation",name:"rotation",type:"scrubber",suffix:"\xB0",requirements:[{option:"gradient-type",shouldBe:"linear"}],loopValues:!0,numberOnlyMode:!0,value:0,min:0,max:360,step:1},{labelName:"Smoothness",name:"smoothness",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:0,max:100,step:.1},{labelName:"Scale",name:"scale",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:.1,max:100,step:.1},{type:"group",className:"grid-columns-even",children:[{labelName:"Repeat",name:"repeat",type:"check-box",value:!1},{labelName:"Animation",name:"animation-speed",type:"range-input",requirements:[{option:"repeat",shouldBe:!0}],renderWhenDisabled:!0,value:0,min:-100,max:100,step:1}]}]};Bm.defaults=st(Bm.options);Bm.customShuffle=t=>{let e={...t},i=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);switch(Math.floor(Math.random()*20)){case 0:i=r=n=0;break;case 1:i=r=n=255;break;case 2:case 3:i=r=n;break}e["color-one"]="rgb("+i+", "+r+", "+n+")";let a=[];if(Math.random()>.3)for(var l=0;l<3;l++)a.push(Math.random()*240+-120);else a[0]=a[1]=a[2]=Math.random()*240+-120;let c=Math.floor(i+a[0]+1024)%256,d=Math.floor(r+a[1]+1024)%256,m=Math.floor(n+a[2]+1024)%256;e["color-two"]="rgb("+c+", "+d+", "+m+")";let f=Math.floor((i+a[0]+1024)*2)%256,v=Math.floor((r+a[1]+1024)*2)%256,b=Math.floor((n+a[2]+1024)*2)%256;return e["color-three"]="rgb("+f+", "+v+", "+b+")",e["color-one-active"]=!0,Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!0):Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!1):e["color-three-active"]=!0,Math.random()>.5&&(e["animation-speed"]=0),Math.random()>.5&&(e.rotation=Math.round(e.rotation/45)*45),Math.random()>.5&&(e["pos-x"]=0),Math.random()>.5&&(e["pos-y"]=0),Math.random()>.8&&(e.smoothness=100),e};Qoe=Bm});var Ww={};si(Ww,{default:()=>tse,onChangeCustom:()=>ese});var SCe,ese,Bw,tse,X2=M(()=>{Ne();SCe=pe(we()),ese=(t,e,i)=>{let r={};for(let[o,a]of Object.entries(e))t[o]!=a&&(r[o]=a);let n=JSON.parse(e.filters);for(let[o,a]of Object.entries(r))switch(o){case"filters":i.UpdateFilters(n);break;case"rgb":case"film":case"badtv":i.ToggleComponent(n);break;case"image":i.UpdateImage(a);break;default:i.UpdateSettings(e)}},Bw={name:"badtv",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Bad TV",name:"badtv-group",type:"details-menu",toggle:{name:"badtv",type:"check-box",value:!0},children:[{name:"distortion",labelName:"Thick Distortion",type:"range-input",value:3,min:.1,max:10,step:.1,interactive:!0,noisePosn:1,randMin:2.8,randMax:3.2,randRange:"low"},{name:"distortion2",labelName:"Fine Distortion",type:"range-input",value:1,min:.1,max:10,step:.1,noisePosn:20,randMin:1,randMax:5,automate:!0},{name:"speed",labelName:"Distortion Speed",type:"range-input",value:.1,min:0,max:.3,step:.01,noisePosn:40,randMin:0,randMax:.1,randRange:"low"},{name:"rollSpeed",labelName:"Roll Speed",type:"range-input",value:.05,min:0,max:.2,step:.01,noisePosn:50,randMin:0,randMax:.6,randRange:"low"}]},{labelName:"RGB Shift",name:"rgb-group",type:"details-menu",toggle:{name:"rgb",type:"check-box",value:!0},children:[{name:"amount",labelName:"Amount",type:"range-input",value:.005,min:0,max:.1,step:.001,interactive:!0,noisePosn:60,randMin:0,randMax:.025,randRange:"low"},{name:"angle",labelName:"Angle",type:"range-input",value:0,min:0,max:6.28,step:.01,noisePosn:80,randMin:0,randMax:6.28,automate:!0}]},{labelName:"Scanlines",name:"film-group",type:"details-menu",toggle:{name:"film",type:"check-box",value:!0},children:[{name:"sCount",labelName:"Amount",value:800,type:"range-input",min:400,max:1e3,step:1,noisePosn:90,randMin:650,randMax:1e3,randRange:"high"},{name:"sIntensity",labelName:"Strength",value:.95,type:"range-input",min:0,max:2,step:.01},{name:"nIntensity",labelName:"Noise",value:.28,type:"range-input",min:0,max:2,step:.01}]},{type:"spacer"},{labelName:"Automate",name:"automate",type:"check-box",value:!1},{labelName:"Interactive",name:"interactive",type:"check-box",value:!1}]};Bw.defaults=st(Bw.options);tse=Bw});function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function Oe(t,e){if(t=t||"",e=e||{},t instanceof Oe)return t;if(!(this instanceof Oe))return new Oe(t,e);var i=nse(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function nse(t){var e={r:0,g:0,b:0},i=1,r=null,n=null,o=null,a=!1,l=!1;return typeof t=="string"&&(t=Ese(t)),Wm(t)=="object"&&(cs(t.r)&&cs(t.g)&&cs(t.b)?(e=ose(t.r,t.g,t.b),a=!0,l=String(t.r).substr(-1)==="%"?"prgb":"rgb"):cs(t.h)&&cs(t.s)&&cs(t.v)?(r=Gd(t.s),n=Gd(t.v),e=ase(t.h,r,n),a=!0,l="hsv"):cs(t.h)&&cs(t.s)&&cs(t.l)&&(r=Gd(t.s),o=Gd(t.l),e=sse(t.h,r,o),a=!0,l="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=rz(i),{ok:a,format:t.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function ose(t,e,i){return{r:ai(t,255)*255,g:ai(e,255)*255,b:ai(i,255)*255}}function Z2(t,e,i){t=ai(t,255),e=ai(e,255),i=ai(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,a,l=(r+n)/2;if(r==n)o=a=0;else{var c=r-n;switch(a=l>.5?c/(2-r-n):c/(r+n),r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:a,l}}function sse(t,e,i){var r,n,o;t=ai(t,360),e=ai(e,100),i=ai(i,100);function a(d,m,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(m-d)*6*f:f<1/2?m:f<2/3?d+(m-d)*(2/3-f)*6:d}if(e===0)r=n=o=i;else{var l=i<.5?i*(1+e):i+e-i*e,c=2*i-l;r=a(c,l,t+1/3),n=a(c,l,t),o=a(c,l,t-1/3)}return{r:r*255,g:n*255,b:o*255}}function J2(t,e,i){t=ai(t,255),e=ai(e,255),i=ai(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,a,l=r,c=r-n;if(a=r===0?0:c/r,r==n)o=0;else{switch(r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:a,v:l}}function ase(t,e,i){t=ai(t,360)*6,e=ai(e,100),i=ai(i,100);var r=Math.floor(t),n=t-r,o=i*(1-e),a=i*(1-n*e),l=i*(1-(1-n)*e),c=r%6,d=[i,a,o,o,l,i][c],m=[l,i,i,a,o,o][c],f=[o,o,l,i,i,a][c];return{r:d*255,g:m*255,b:f*255}}function Q2(t,e,i,r){var n=[Qn(Math.round(t).toString(16)),Qn(Math.round(e).toString(16)),Qn(Math.round(i).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function lse(t,e,i,r,n){var o=[Qn(Math.round(t).toString(16)),Qn(Math.round(e).toString(16)),Qn(Math.round(i).toString(16)),Qn(nz(r))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function ez(t,e,i,r){var n=[Qn(nz(r)),Qn(Math.round(t).toString(16)),Qn(Math.round(e).toString(16)),Qn(Math.round(i).toString(16))];return n.join("")}function use(t,e){e=e===0?0:e||10;var i=Oe(t).toHsl();return i.s-=e/100,i.s=Vm(i.s),Oe(i)}function cse(t,e){e=e===0?0:e||10;var i=Oe(t).toHsl();return i.s+=e/100,i.s=Vm(i.s),Oe(i)}function dse(t){return Oe(t).desaturate(100)}function pse(t,e){e=e===0?0:e||10;var i=Oe(t).toHsl();return i.l+=e/100,i.l=Vm(i.l),Oe(i)}function hse(t,e){e=e===0?0:e||10;var i=Oe(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),Oe(i)}function fse(t,e){e=e===0?0:e||10;var i=Oe(t).toHsl();return i.l-=e/100,i.l=Vm(i.l),Oe(i)}function mse(t,e){var i=Oe(t).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,Oe(i)}function gse(t){var e=Oe(t).toHsl();return e.h=(e.h+180)%360,Oe(e)}function tz(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=Oe(t).toHsl(),r=[Oe(t)],n=360/e,o=1;o<e;o++)r.push(Oe({h:(i.h+o*n)%360,s:i.s,l:i.l}));return r}function vse(t){var e=Oe(t).toHsl(),i=e.h;return[Oe(t),Oe({h:(i+72)%360,s:e.s,l:e.l}),Oe({h:(i+216)%360,s:e.s,l:e.l})]}function yse(t,e,i){e=e||6,i=i||30;var r=Oe(t).toHsl(),n=360/i,o=[Oe(t)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,o.push(Oe(r));return o}function bse(t,e){e=e||6;for(var i=Oe(t).toHsv(),r=i.h,n=i.s,o=i.v,a=[],l=1/e;e--;)a.push(Oe({h:r,s:n,v:o})),o=(o+l)%1;return a}function xse(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function rz(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ai(t,e){Sse(t)&&(t="100%");var i=_se(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Vm(t){return Math.min(1,Math.max(0,t))}function cn(t){return parseInt(t,16)}function Sse(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function _se(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Qn(t){return t.length==1?"0"+t:""+t}function Gd(t){return t<=1&&(t=t*100+"%"),t}function nz(t){return Math.round(parseFloat(t)*255).toString(16)}function iz(t){return cn(t)/255}function cs(t){return!!Jn.CSS_UNIT.exec(t)}function Ese(t){t=t.replace(ise,"").replace(rse,"").toLowerCase();var e=!1;if(Vw[t])t=Vw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Jn.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Jn.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Jn.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Jn.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Jn.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Jn.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Jn.hex8.exec(t))?{r:cn(i[1]),g:cn(i[2]),b:cn(i[3]),a:iz(i[4]),format:e?"name":"hex8"}:(i=Jn.hex6.exec(t))?{r:cn(i[1]),g:cn(i[2]),b:cn(i[3]),format:e?"name":"hex"}:(i=Jn.hex4.exec(t))?{r:cn(i[1]+""+i[1]),g:cn(i[2]+""+i[2]),b:cn(i[3]+""+i[3]),a:iz(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=Jn.hex3.exec(t))?{r:cn(i[1]+""+i[1]),g:cn(i[2]+""+i[2]),b:cn(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function Cse(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:e,size:i}}var ise,rse,Vw,wse,Jn,Po=M(()=>{ise=/^\s+/,rse=/\s+$/;Oe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),i,r,n,o,a,l;return i=e.r/255,r=e.g/255,n=e.b/255,i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?l=n/12.92:l=Math.pow((n+.055)/1.055,2.4),.2126*o+.7152*a+.0722*l},setAlpha:function(e){return this._a=rz(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=J2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=J2(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+n+"%)":"hsva("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=Z2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Z2(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+n+"%)":"hsla("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return Q2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return lse(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ai(this._r,255)*100)+"%",g:Math.round(ai(this._g,255)*100)+"%",b:Math.round(ai(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ai(this._r,255)*100)+"%, "+Math.round(ai(this._g,255)*100)+"%, "+Math.round(ai(this._b,255)*100)+"%)":"rgba("+Math.round(ai(this._r,255)*100)+"%, "+Math.round(ai(this._g,255)*100)+"%, "+Math.round(ai(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:wse[Q2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var i="#"+ez(this._r,this._g,this._b,this._a),r=i,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=Oe(e);r="#"+ez(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+i+",endColorstr="+r+")"},toString:function(e){var i=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,o=!i&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Oe(this.toString())},_applyModification:function(e,i){var r=e.apply(null,[this].concat([].slice.call(i)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(pse,arguments)},brighten:function(){return this._applyModification(hse,arguments)},darken:function(){return this._applyModification(fse,arguments)},desaturate:function(){return this._applyModification(use,arguments)},saturate:function(){return this._applyModification(cse,arguments)},greyscale:function(){return this._applyModification(dse,arguments)},spin:function(){return this._applyModification(mse,arguments)},_applyCombination:function(e,i){return e.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(yse,arguments)},complement:function(){return this._applyCombination(gse,arguments)},monochromatic:function(){return this._applyCombination(bse,arguments)},splitcomplement:function(){return this._applyCombination(vse,arguments)},triad:function(){return this._applyCombination(tz,[3])},tetrad:function(){return this._applyCombination(tz,[4])}};Oe.fromRatio=function(t,e){if(Wm(t)=="object"){var i={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?i[r]=t[r]:i[r]=Gd(t[r]));t=i}return Oe(t,e)};Oe.equals=function(t,e){return!t||!e?!1:Oe(t).toRgbString()==Oe(e).toRgbString()};Oe.random=function(){return Oe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};Oe.mix=function(t,e,i){i=i===0?0:i||50;var r=Oe(t).toRgb(),n=Oe(e).toRgb(),o=i/100,a={r:(n.r-r.r)*o+r.r,g:(n.g-r.g)*o+r.g,b:(n.b-r.b)*o+r.b,a:(n.a-r.a)*o+r.a};return Oe(a)};Oe.readability=function(t,e){var i=Oe(t),r=Oe(e);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)};Oe.isReadable=function(t,e,i){var r=Oe.readability(t,e),n,o;switch(o=!1,n=Cse(i),n.level+n.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Oe.mostReadable=function(t,e,i){var r=null,n=0,o,a,l,c;i=i||{},a=i.includeFallbackColors,l=i.level,c=i.size;for(var d=0;d<e.length;d++)o=Oe.readability(t,e[d]),o>n&&(n=o,r=Oe(e[d]));return Oe.isReadable(t,r,{level:l,size:c})||!a?r:(i.includeFallbackColors=!1,Oe.mostReadable(t,["#fff","#000"],i))};Vw=Oe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},wse=Oe.hexNames=xse(Vw);Jn=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()});var $w={};si($w,{default:()=>Ise,onChangeCustom:()=>Pse});var PCe,Pse,Kd,Ise,oz=M(()=>{Ne();PCe=pe(we());Po();Pse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color_r")&&(i.Update("color_r",r.color_r),delete r.color_r),r.hasOwnProperty("color_g")&&(i.Update("color_g",r.color_g),delete r.color_g),r.hasOwnProperty("color_b")&&(i.Update("color_b",r.color_b),delete r.color_b);for(let[n,o]of Object.entries(r))i.Update(n,o)},Kd={name:"parallax",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Knockout Mask",name:"knockout_shape",type:"radio",value:"triangle",values:[{customLabel:"RectangleIcon",value:"rectangle"},{customLabel:"SquareIcon",value:"square"},{customLabel:"TriangleIcon",value:"triangle"},{customLabel:"CircleIcon",value:"circle"}]},{labelName:"Knockout Blur",name:"knockout_blur",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Size",name:"knockout",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Rotation",name:"knockout_rotation",type:"range-input",loopValues:!0,value:171,suffix:"\xB0",min:0,max:360,step:1},{type:"spacer"},{labelName:void 0,name:"movement_direction",type:"radio",value:"xy",values:[{labelName:"X/Y Axes",value:"xy"},{labelName:"Z Axis",value:"z"}]},{labelName:"Movement Direction",name:"xy_direction",type:"range-input",loopValues:!0,value:285,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:"Layers",name:"layers",type:"range-input",value:3,min:2,max:15,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:void 0,name:"z_direction",type:"radio",value:"inwards",values:[{labelName:"Inwards",value:"inwards"},{labelName:"Outwards",value:"outwards"}],requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Layers",name:"z_layers",type:"range-input",value:4,min:4,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Speed",name:"speed",type:"range-input",value:30,suffix:"%",min:0,max:100,step:1},{labelName:"Depth",name:"depth",type:"range-input",value:35,suffix:"%",min:0,max:100,step:.5},{labelName:"Base Rotation",name:"base_rotation",type:"range-input",loopValues:!0,value:50,suffix:"\xB0",min:0,max:360,step:1},{labelName:"Skew",name:"skew",type:"range-input",loopValues:!0,value:-50,suffix:"\xB0",min:-1080,max:1080,step:1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",name:"mouse_speed",type:"range-input",value:68,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{type:"spacer"},{labelName:"Background Color",name:"background_color",type:"color",value:"#FFFFFF00"},{labelName:"See-Through",name:"see_through",type:"check-box",value:!1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#FFFFFF00",excludeFromShuffle:!0}]};Kd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.hasOwnProperty("background_color")&&e?.background_color===null&&(e.background_color="rgba(0,0,0,0)"),e.color){let i=Oe(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}if(e.background_color){let i=Oe(e.background_color),r=i.toRgb();e.color_r=r.r,e.color_g=r.g,e.color_b=r.b,e.alpha=r.a,e.hex_color=i.toHexString()}return e};Kd.defaults=st(Kd.options);Kd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Ise=Kd});var jw={};si(jw,{default:()=>Tse,onChangeCustom:()=>Ase});var MCe,Ase,Ou,Tse,sz=M(()=>{Ne();MCe=pe(we());Po();Ase=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Ou={name:"refraction",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"reflection_type",type:"radio",value:"reflection",values:[{labelName:"Reflection",value:"reflection"},{labelName:"Refraction",value:"refraction"}]},{labelName:"Flip Image",name:"flip",type:"check-box",value:!0},{labelName:"Refraction Ratio",name:"refraction_ratio",type:"range-input",requirements:[{option:"reflection_type",shouldBe:"refraction"}],value:19,min:0,max:100,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Range",name:"mouse_speed",type:"range-input",value:63,min:0,max:100,step:.1},{labelName:"Dynamic Image Refraction",name:"refract_interaction",type:"check-box",value:!1,requirements:[{option:"reflection_type",shouldBe:"refraction"}]},{labelName:null,name:"refract_motion",type:"radio",value:"speed",requirements:[{option:"reflection_type",shouldBe:"refraction"},{option:"refract_interaction",shouldBe:!0}],values:[{labelName:"Gather",value:"gather"},{labelName:"Disperse",value:"disperse"},{labelName:"Speed",value:"speed"}]},{type:"spacer"},{labelName:"Geometry: ",name:"geometry",type:"select",values:[{labelName:"Fullerene",value:"buckyball_3"},{labelName:"Compound Eye",value:"compoundeye_2"},{labelName:"Shattered Glass",value:"shattered"},{labelName:"Shard",value:"shard"},{labelName:"Warped Glass",value:"warped_glass_3"},{labelName:"Tube",value:"tube"},{labelName:"Cubic",value:"cubic"},{labelName:"Turbine",value:"turbine"},{labelName:"Icosahedron",value:"icosahedron_small"},{labelName:"Geodesic",value:"icosahedron_2"}]},{labelName:"Geometry Zoom",name:"zoom",type:"range-input",value:100,min:100,max:300,step:1},{labelName:"Rotation X",name:"rot_x",type:"range-input",value:145,min:0,max:360,step:1},{labelName:"Rotation Y",name:"rot_y",type:"range-input",value:195,min:0,max:360,step:1},{labelName:"Rotation Z",name:"rot_z",type:"range-input",value:115,min:0,max:360,step:1},{labelName:"Rotation Speed X",name:"rot_speed_x",type:"range-input",value:3.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Y",name:"rot_speed_y",type:"range-input",value:-1.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Z",name:"rot_speed_z",type:"range-input",value:2,min:-20,max:20,step:.1},{type:"spacer"},{labelName:"Color Overlay",name:"color",type:"color",value:"#ffffff00"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Multiply",value:"multiply_color"},{labelName:"Screen",value:"screen_color"}]}]};Ou.defaults=st(Ou.options);Ou.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Ou.defaults.rgb={value:"rgb(255,255,255)"};Ou.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgb(255,255,255)"),e.color){let i=Oe(e.color);e.rgb=i.toRgbString(),e.color=i.toRgbString(),e.alpha=i.getAlpha()}return e};Tse=Ou});var Gw={};si(Gw,{default:()=>Rse,onChangeCustom:()=>Mse});var OCe,Mse,Du,Rse,az=M(()=>{Ne();OCe=pe(we());Po();Mse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Du={name:"ripples",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Distortion X",name:"scaleX",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Distortion Y",name:"scaleY",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Scale",name:"scale",type:"range-input",value:1,min:1,max:10,step:.01},{labelName:"Speed",name:"target_speed",type:"range-input",value:9,min:0,max:100,step:.1},{labelName:"Direction",name:"direction",type:"scrubber",numberOnlyMode:!0,value:245,min:0,max:360,loopValues:!0,suffix:"\xB0",step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",requires:"mouse_sensitivity",name:"mouse_sensitivity",type:"range-input",value:100,min:0,max:100,step:1},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0}]};Du.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Oe(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Du.defaults=st(Du.options);Du.defaults.alpha={value:0};Du.defaults.hex={value:"#fff"};Rse=Du});var Kw={};si(Kw,{default:()=>Nse,onChangeCustom:()=>kse});var zCe,kse,Lu,Nse,lz=M(()=>{Ne();zCe=pe(we());Po();kse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Lu={name:"slitscan",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"orientation",type:"radio",value:"horizontal",values:[{labelName:"Horizontal",value:"horizontal"},{labelName:"Vertical",value:"vertical"}]},{labelName:"Scan Size",name:"scan_size",type:"range-input",value:90,min:0,max:100,step:.1},{labelName:"Short Wave",name:"scan_cycles",type:"range-input",value:1,min:0,max:20,step:.1},{labelName:"Wiggle",name:"wiggle",type:"range-input",value:20,min:0,max:100,step:.1},{labelName:"Speed",name:"target_speed",type:"range-input",value:17,min:-100,max:100,step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{labelName:"Overlay Color",name:"color",type:"color",value:"transparent",excludeFromShuffle:!0}]};Lu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Oe(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Lu.defaults=st(Lu.options);Lu.defaults.alpha={value:0};Lu.defaults.hex={value:"#000000"};Nse=Lu});var Yw={};si(Yw,{default:()=>Dse,onChangeCustom:()=>Ose});var BCe,Ose,rl,Dse,uz=M(()=>{Ne();BCe=pe(we());Po();Ose=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},rl={name:"pixelation",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"layout_mode",type:"radio",value:"grid_mode",values:[{labelName:"Grid",value:"grid_mode"},{labelName:"Rows",value:"row_mode"},{labelName:"Columns",value:"column_mode"}]},{labelName:"Rows",name:"rows",type:"range-input",value:44,min:1,max:64,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"layout_mode",shouldBe:"row_mode"}]},{labelName:"Columns",name:"columns",type:"range-input",value:44,min:1,max:64,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"layout_mode",shouldBe:"column_mode"}]},{labelName:"Subdivisions",name:"grid_size",type:"range-input",value:44,min:1,max:100,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"layout_mode",shouldBe:"grid_mode"}]},{labelName:"Cell Image Zoom",name:"zoom",type:"range-input",value:100,suffix:"%",min:1,max:100,step:1},{labelName:"Flip Alternate Cells",name:"flip_it",type:"check-box",value:!1},{type:"spacer"},{labelName:"Turbulence",name:"stir_grid",type:"check-box",value:!0},{labelName:"Stir Frequency",name:"stir_freq",type:"range-input",value:74,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Stir Strength",name:"stir_strength",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Disorder",name:"stir_disorder",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Motion Elasticity",name:"elasticity",type:"range-input",value:35,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Force",name:"mouse_sensitivity",type:"range-input",value:6,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouse Radius",name:"tolerance",type:"range-input",value:50,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouseover Zoom",name:"mouse_zoom",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]}]};rl.defaults=st(rl.options);rl.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";rl.defaults.rgb={value:"rgb(255,255,255)"};rl.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Oe(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};rl.customShuffle=t=>(Math.random()>.5&&(t.zoom=100),t);Dse=rl});var Xw={};si(Xw,{default:()=>Fse,onChangeCustom:()=>Lse});var jCe,Lse,Yd,Fse,cz=M(()=>{Ne();jCe=pe(we());Po();Lse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r)){let a=!0;if(n==="image"&&(o!==void 0&&o?i.obj.loadImage(o):a=!1),n!==void 0&&a===!0){let l={};l[n]=o,i.Update(n,o),i.obj.updateSettings(l)}}},Yd={name:"kaleidoscope",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Slices",name:"slices",type:"range-input",value:18,min:2,max:256,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:217,suffix:"%",min:1,max:500,step:1},{labelName:"Rotation",name:"baseRotation1",type:"range-input",value:61,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Rotation Speed",name:"rotationSpeed1",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation",name:"baseRotation2",type:"range-input",value:-148,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Image Rotation Speed",name:"rotationSpeed2",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation Anchor X",name:"rotationCenterX",type:"range-input",value:21,suffix:"\xB0/sec",min:-300,max:300,step:1},{labelName:"Image Rotation Anchor Y",name:"rotationCenterY",type:"range-input",value:66,suffix:"\xB0/sec",min:-300,max:300,step:1},{type:"spacer"},{labelName:"Mirror Slices",name:"mirrorSlices",type:"check-box",value:!0},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0}]};Yd.transformChanges=(t,e)=>{if(e.color){let i=Oe(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Yd.defaults=st(Yd.options);Yd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Fse=Yd});var Zw={};si(Zw,{default:()=>Hse,onChangeCustom:()=>zse});var XCe,zse,Xd,Hse,dz=M(()=>{Ne();XCe=pe(we());Po();zse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Xd={name:"polygon_engine",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{labelName:"Style:",name:"style",type:"select",value:"delaunay",values:[{labelName:"Random 1",value:"random1"},{labelName:"Random 2",value:"random2"},{labelName:"Iso",value:"iso"},{labelName:"Rectangular 1",value:"straight1"},{labelName:"Rectangular 2",value:"straight2"},{labelName:"Voronoi",value:"voronoi"},{labelName:"Delaunay",value:"delaunay"}]},{labelName:"Cuts",name:"subdivisionCount",type:"range-input",allowUnclampedTextEntry:!1,value:421,min:3,max:500,step:1},{labelName:"Animation Speed",name:"animationSpeed",type:"range-input",value:1,min:0,max:20,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0},{labelName:"Interaction Speed",name:"interactionSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{labelName:"Interaction Radius",name:"interactionRadius",type:"range-input",value:300,suffix:"px",min:0,max:500,step:1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{type:"spacer"},{excludeFromShuffle:!0,labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"}]};Xd.defaults=st(Xd.options);Xd.defaults.image_url="//static.cargo.site/assets/backdrop/default_256.jpg";Xd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Oe(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}return e};Hse=Xd});var Jw={};si(Jw,{default:()=>Use,onChangeCustom:()=>qse});var ePe,qse,Zd,Use,pz=M(()=>{Ne();ePe=pe(we());Po();qse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Zd={name:"morphovision",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Transition Duration",name:"transition_time",type:"range-input",value:4,suffix:" sec",min:.5,max:10,step:.1},{labelName:"Intensity",name:"transition_alpha",type:"range-input",value:76,suffix:"%",min:10,max:100,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:14,suffix:"%",min:-100,max:100,step:1},{labelName:"Cycle Images",name:"cycle_images",type:"check-box",value:!0},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!0,renderWhenDisabled:!0,requirements:[{option:"cycle_images",shouldBe:!0}]},{type:"spacer"},{labelName:"Morph Size",name:"morph_size",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Movement",name:"morph_speed",type:"range-input",value:15,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Amplitude",name:"amplitude",type:"range-input",value:22,suffix:"%",min:0,max:100,step:1},{labelName:"Phase Shift",name:"phase",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Movement Jitter",name:"jitter",type:"range-input",value:18,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Image Warp",name:"small_warp",type:"range-input",value:40,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"blend",type:"radio",value:"MULTIPLY",values:[{labelName:"Normal",value:"NORMAL"},{labelName:"Screen",value:"SCREEN"},{labelName:"Multiply",value:"MULTIPLY"}]}]};Zd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Oe(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Zd.defaults=st(Zd.options);Zd.defaults.image_url="/_jsapps/backdrop/morphovision/morph_default.jpeg";Use=Zd});var Qw={};si(Qw,{default:()=>Wse,onChangeCustom:()=>Bse});var nPe,Bse,$m,Wse,hz=M(()=>{Ne();nPe=pe(we()),Bse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},$m={name:"wave",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Waves",name:"ripples.on",type:"check-box",value:!0},{labelName:"Wave Speed",name:"ripples.noiseSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"ripples.on",shouldBe:!0}]}]};$m.defaults=st($m.options);$m.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Wse=$m});var ex={};si(ex,{default:()=>$se,onChangeCustom:()=>Vse});var aPe,Vse,Fu,$se,fz=M(()=>{Ne();aPe=pe(we());Po();Vse=(t,e,i)=>{let r={};for(let[o,a]of Object.entries(e))t[o]!=a&&(r[o]=a);let n=[];for(let[o,a]of Object.entries(r))i.Update(o,a)},Fu={name:"halftone",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Screen Size",name:"dot_scale",type:"range-input",value:53,suffix:"%",min:0,max:100,step:.5},{labelName:"Dot Gain",name:"dot_gain",type:"range-input",value:48,suffix:"%",min:-100,max:200,step:1},{labelName:"Under-Color Removal",name:"dot_gain",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Registration Accuracy",name:"color_offset",type:"range-input",value:94,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Cyan",name:"cyan",type:"check-box",value:!0},{labelName:"Halftone",name:"cyan_halftone",type:"check-box",value:!0,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Opacity",name:"c_opacity",type:"range-input",value:70,suffix:"%",min:0,max:100,step:1,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Rotation",name:"c_rotation",type:"range-input",value:140,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"c_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Magenta",name:"magenta",type:"check-box",value:!0},{labelName:"Halftone",name:"magenta_halftone",type:"check-box",value:!0,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Opacity",name:"m_opacity",type:"range-input",value:69,suffix:"%",min:0,max:100,step:1,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Rotation",name:"m_rotation",type:"range-input",value:42,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"m_rot_speed",type:"range-input",value:1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Yellow",name:"yellow",type:"check-box",value:!0},{labelName:"Halftone",name:"yellow_halftone",type:"check-box",value:!0,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Opacity",name:"y_opacity",type:"range-input",value:99,suffix:"%",min:0,max:100,step:1,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Rotation",name:"y_rotation",type:"range-input",value:59,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"y_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Black",name:"black",type:"check-box",value:!0},{labelName:"Halftone",name:"black_halftone",type:"check-box",value:!0,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Opacity",name:"k_opacity",type:"range-input",value:100,suffix:"%",min:0,max:100,step:1,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Rotation",name:"k_rotation",type:"range-input",value:45,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"k_rot_speed",type:"range-input",value:0,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Normal",value:"normal_color"},{labelName:"Screen",value:"screen_color"},{labelName:"Multiply",value:"multiply_color"}]},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0}]};Fu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Oe(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Fu.customShuffle=t=>{switch(t.overlay_type=Math.random()>.5?"multiply_color":"screen_color",Math.floor(Math.random()*4)){case 0:t.black=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 1:t.cyan=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 2:t.yellow=!0,t.y_opacity=Math.max(100,t.y_opacity),t.black=!0,t.c_opacity=Math.max(50,t.c_opacity);break;case 3:t.magenta=!0,t.m_opacity=Math.max(75,t.m_opacity);break}return t};Fu.defaults=st(Fu.options);Fu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";$se=Fu});var tx={};si(tx,{default:()=>Gse,onChangeCustom:()=>jse});var dPe,mz,jse,Jd,Gse,gz=M(()=>{Ne();dPe=pe(we()),mz={checkerboard:{preset_image:"https://static.cargo.site/assets/backdrop/video/checkerboard_64.png",preset_width:"16px",preset_height:"16px"},hexed:{preset_image:"https://static.cargo.site/assets/backdrop/video/hexed_16.png",preset_width:"8px",preset_height:"8px"},noise:{preset_image:"https://static.cargo.site/assets/backdrop/video/noise.png",preset_width:"512px",preset_height:"512px"},interlace:{preset_image:"https://static.cargo.site/assets/backdrop/video/interlace.png",preset_width:"1px",preset_height:"3px"}},jse=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color")&&r?.color===null&&(r.color="rgba(0,0,0,0)");for(let[n,o]of Object.entries(r))i.Update(n,o)},Jd={name:"video",excludeFromShuffle:!0,options:[{labelName:"Video URL:",name:"video_url",type:"text-input",value:"",className:"hover",config:"noBars"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"scale_option",type:"radio",value:"cover",values:[{labelName:"Fill Window",value:"cover"},{labelName:"Fit Window",value:"contain"}]},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{type:"spacer"},{labelName:"Overlay",name:"preset_pattern",type:"radio",value:"blank",values:[{labelName:void 0,value:"checkerboard"},{labelName:void 0,value:"hexed"},{labelName:void 0,value:"noise"},{labelName:void 0,value:"interlace"},{labelName:void 0,value:"blank"}]},{labelName:"Video Opacity",name:"alpha",type:"range-input",value:100,min:0,max:100,step:1,excludeFromShuffle:!0},{labelName:"Background Color",name:"color",type:"color",value:"#FFFFFF00"},{type:"spacer"},{labelName:"Display Still Image In Mobile Devices",name:"use_mobile_image",type:"check-box",value:!1},{name:"image",type:"custom",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc",renderWhenDisabled:!1,requirements:[{option:"use_mobile_image",shouldBe:!0}]}]};Jd.transformChanges=(t,e)=>(e.preset_pattern&&(mz[e.preset_pattern]?(e.using_preset=!0,e.image_active=!0,e={...e,...mz[e.preset_pattern]}):(e.using_preset=!1,e.image_active=!1)),e);Jd.defaults=st(Jd.options);Jd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Gse=Jd});var Qd={};si(Qd,{badtv:()=>Ww,gradient:()=>jd,halftone:()=>ex,kaleidoscope:()=>Xw,morphovision:()=>Jw,parallax:()=>$w,pixelation:()=>Yw,polygon_engine:()=>Zw,refraction:()=>jw,ripple:()=>Gw,slitscan:()=>Kw,video:()=>tx,wallpaper:()=>$d,wave:()=>Qw});var jm=M(()=>{K2();Y2();X2();oz();sz();az();lz();uz();cz();dz();pz();hz();fz();gz()});var eo,Kse,vz,ix,yz,Yse,bz=M(()=>{Ee();_i();Bi();jm();Ne();eo=pe(we(),1);oe();Kse={"legacy/slitscan":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/slitscan/main.js"),"legacy/refraction":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/refraction/main.js"),"legacy/badtv":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/badtv/main.js"),"legacy/gmaps":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/gmaps/main.js"),"legacy/halftone":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/halftone/main.js"),"legacy/kaleidoscope":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/kaleidoscope/main.js"),"legacy/morphovision":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/morphovision/main.js"),"legacy/parallax":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/parallax/main.js"),"legacy/pixelation":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/pixelation/main.js"),"legacy/polygon_engine":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/polygon_engine/main.js"),"legacy/ripple":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/ripple/main.js"),"legacy/video":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/video/main.js"),"legacy/wave":()=>import("https://build.cargo.site/frontend/fe282c/_jsapps/backdrop/wave/main.js")},vz=eo.default.memoize(t=>new Promise(async(e,i)=>{if(ne)return i();await Yse();let{default:r}=await Kse[t]();e(r)})),ix=class extends se{constructor(e){super(e),this.ref=me(),vz(this.props.path).catch(i=>{})}componentDidMount(){this.initView()}initView=async()=>{delete this.backboneView;let e=await vz(this.props.path).catch(n=>{});if(!this.ref.current){console.log("No element to render backbone view to...");return}let i=Qd[this.props.path.replace("legacy/","")],r={page_id:this.props.id};eo.default.each(i?.default.defaults,(n,o)=>{r[o]=n.value}),this.onChangeCustom=i?.onChangeCustom?i.onChangeCustom.bind(this):null,this.ref.current.innerHTML="",this.backboneView=new e({el:this.ref.current,model:new Backbone.Model({data:{...r,...this.props.settings}}),...this.props.viewOptions||{}}),this.backboneView.id&&(this.ref.current.id=this.backboneView.id),this.backboneView.className&&(this.ref.current.className=this.backboneView.className),this.backboneView.defaults={...this.backboneView.defaults,...this.props.defaults},this.backboneView.deferredLoadEventName&&(this.backboneView.deferredLoadEventName+="_"+eo.default.uniqueId(),Cargo.Event.once(this.backboneView.deferredLoadEventName,()=>{this.ref.current&&this.ref.current.dispatchEvent(new CustomEvent("legacy-backdrop-loaded",{bubbles:!0,composed:!0,detail:{}}))})),this.backboneView.render(),typeof this.backboneView.Init=="function"&&this.backboneView.Init(),this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):this.backboneView.in_viewport=!1};destroyView=()=>{this.backboneView&&(typeof this.backboneView.destroy=="function"&&this.backboneView.destroy(),this.backboneView.undelegateEvents(),this.backboneView.$el.removeData().unbind(),this.backboneView.remove(),delete this.backboneView)};componentWillUnmount(){this.destroyView()}componentDidUpdate(e){if(this.backboneView&&!eo.default.isEqual(e.settings,this.props.settings)&&(this.onChangeCustom?this.onChangeCustom(e.settings,this.props.settings,this.backboneView):console.log("custom backdrop update failed")),this.props.path!=e.path){this.destroyView(),this.initView();return}this.backboneView&&((e.dimensions.width!=this.props.dimensions.width||e.dimensions.height!=this.props.dimensions.height)&&this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible!=e.visibility.visible&&(this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):(this.backboneView.in_viewport=!1,this.backboneView.Pause?.())))}render(){let e=this.props.path?.replace("legacy/","")||"";return g("div",{"data-backdrop":e,ref:this.ref,dangerouslySetInnerHTML:{__html:""}})}},yz=ix,Yse=eo.default.once(async()=>{if(ne)return;let{Backbone:t,underscore:e,jQuery:i}=await import("https://static.cargo.site/assets/C3/legacy/backbone-packaged.min.js");window.$=i,window.Backbone=t,window._=e,window.Cargo={o:{collection:{},model:{}},Collection:{},Helper:{isMobile:()=>Ye.data.mobile.active,IsAdminEdit:()=>Ri},Event:eo.default.extend({},t.Events),Core:{Handlebars:{Render:()=>""}}},window.Backdrop={Data:{}},Cargo.o.collection.images=t.Collection.extend({model:function(r,n){return r&&r.type==="local"?new Cargo.o.model.localImage(r,n):new Cargo.o.model.image(r,n)},fetchImage:function(r,n){let o=window.store.getState(),a=Ke.getMediaByHash(o)[r],l=new Cargo.o.model.image({...a});if(a&&l)return l.getImageWithOptions({w:n})},fetchWebGLImage:function(r,n){let o=window.store.getState(),a=Ke.getMediaByHash(o)[r];return a?{w:a.width,h:a.height,url:"https://freight.cargo.site/w/"+n+"/t/webgl/i/"+a.hash+"/"+a.name,id:r}:null}}),Cargo.o.model.image=t.Model.extend({initialize:function(){eo.default.bindAll(this,"getImageByWidth")},urlRoot:function(){return"/_api/v0/image"},getImageByWidth:function(r){var n={};return r>this.get("width")&&(r=this.get("width")),n.w=r,this.getImageWithOptions(n).url},getImageByWidth2x:function(r){return this.getImageByWidth(r*2)},getImageWithOptions:function(r){var n={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:r.hasOwnProperty("t")&&r.t=="webgl"};if(eo.default.extend(n,r),n.t==="original"&&(n.retina=!1),n.retina===!0&&!n.webgl&&(n.q==null&&(n.q=75),n.hasOwnProperty("w")&&(n.w=Math.min(n.w*2,this.get("width"))),n.hasOwnProperty("h")&&(n.h=Math.min(n.h*2,this.get("height")))),n.w&&n.w>this.get("width")&&(n.webgl?n.w=this.getValidWebGLSize(n.w):n.w=this.get("width")),n.h&&n.h>this.get("height")&&(n.h=this.get("height")),n.square===!0){var o=this.getSquareCrop();n.c={x:o.x,y:o.y,w:o.w,h:o.h}}var a=["t","w","h","q","c"],l=[],c=!1,d=!1;eo.default.each(n,function(f,v){a.indexOf(v)===-1||f===""||(v==="c"?l.push("c/"+f.x+"/"+f.y+"/"+f.w+"/"+f.h):l.push(v+"/"+f),c=v=="w"?f:v=="c"&&f.w?f.w:c,d=v=="h"?f:v=="c"&&f.h?f.h:d)},this);var m=this.getScaleSize(c,d);return n.w=m.w,n.h=m.h,this.get("hash")!==void 0&&this.get("name")!==void 0?n.url="https://freight.cargo.site/"+l.join("/")+"/i/"+this.get("hash")+"/"+this.get("name"):n.url="",n},getSquareCrop:function(){var r=y=w=h=diff=0;return this.get("height")>this.get("width")?(w=h=this.get("width"),diff=this.get("height")-this.get("width"),y=Math.floor(diff/2),r=0):this.get("width")>this.get("height")?(w=h=this.get("height"),diff=this.get("width")-this.get("height"),r=Math.floor(diff/2),y=0):(w=this.get("width"),h=this.get("height"),r=y=0),{w,h,x:r,y}},getOriginalImage:function(){return this.getImageWithOptions({t:"original",retina:!1})},urlBelongsToImage:function(r){return typeof r!="string"?!1:r.indexOf(this.get("hash")+"/"+this.get("name"))!==-1},getValidWebGLSize:function(r){var n=[128,256,512,1024,2048,4096];return r>this.get("width")&&eo.default.each(n,function(o){o<1e3&&(r=o)}),r},getScaleSize:function(r,n){var o,a,l=r,c=n;if(o=parseInt(this.get("width")),a=parseInt(this.get("height")),!(r&&n)){if(o==a)l=r||n||o,c=l;else if(r)var d=o/r,c=Math.floor(a/d),l=r;else if(n)var d=a/n,l=Math.floor(o/d),c=n}return{w:l,h:c}},getFitSize:function(r,n,o,a){if(r=parseInt(r),n=parseInt(n),n>r)var l=r/o,c=Math.floor(n/l),d=o;else if(r>n)var l=n/a,d=Math.floor(r/l),c=a;else var d=r,c=n;return[d,c]}}),Cargo.Collection.Images=new Cargo.o.collection.images})});var zu,Gm=M(()=>{Ee();zu=function(t,e,i={}){if(t.nodeType===3)return t.data;if(t.nodeType!==1)return null;let r={},n=[],o=0,a=t.attributes,l=t.childNodes;for(o=a.length;o--;)r[a[o].name]=a[o].value;for(i={...r,...i},o=l.length;o--;){let c=zu(l[o],null);n[o]=c}return Tt(e||t.nodeName,i,n)}});var xPe,rx,Km,Vr,ea=M(()=>{Ee();Ne();xPe=pe(we(),1);Ui();oe();ne||(rx=new ResizeObserver(function(t){t.forEach(function(e){bt(e.target,"reference-resize",{target:e.target,width:e.contentRect.width},{bubbles:!1,cancelable:!0,composed:!0})})}));Km=class extends se{constructor(e){super(e),this.elementRef=me(),this.elementRef.current={},this.saveRef=i=>r=>{this.elementRef.current[i]=r}}render(){let{values:e={elWidth:"100%"}}=this.props;return g("div",{tabIndex:"-1","data-nosnippet":!0,style:{height:0,width:"100%",minWidth:"100%",overflow:"hidden",display:"block",alignSelf:"flex-start",visibility:"hidden",pointerEvents:"none",boxSizing:"border-box",zIndex:-1,...this.props.style},children:Object.keys(e).map(i=>{let r=e[i];return g("div",{tabIndex:"-1",ref:this.saveRef(i),style:typeof r=="object"?r:{width:r}})})})}componentDidUpdate(e,i){}onResize=e=>{let i=Object.keys(this.elementRef.current).find(r=>this.elementRef.current[r]===e.target);this.props.onResize&&this.props.onResize(i,e.width)};componentDidMount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];Ct(i,"reference-resize",this.onResize),rx?.observe(i)})}componentWillUnmount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];rx?.unobserve(i),At(i,"reference-resize",this.onResize)})}};Km.defaultProps={values:{elWidth:"100%"}};Vr=Km});var NPe,Ym,fr,ds=M(()=>{Ee();qe();xo();Ni();NPe=pe(we(),1);oe();Ym=class extends se{constructor(e){super(e),this.state={scrollIncrement:0,pointerAttention:!1,shiftButtonX:0,shifted:!1,overlayPosition:{x:0,y:0,width:0,height:0}},this.attachToBaseNode()}render(e,i){return this.renderElement?Ge(g(te,{children:e.render({...i,...e})}),this.renderElement):null}pointerIn=e=>{this.requestTick(),this.setState(i=>({pointerAttention:!0,scrollIncrement:i.scrollIncrement+1})),this.props.onPointerIn&&this.props.onPointerIn()};pointerOut=()=>{this.setState({pointerAttention:!1}),this.props.onPointerOut&&this.props.onPointerOut()};updatePosition=e=>{let i=this.props.buttonHeight||0,r=0,n=e.height,o=e.top;this.props.buttonMode=="inside",n=e.height,this.setState({overlayPosition:{x:e.left,y:o,width:e.width,height:n}})};componentWillUnmount(){this.props.baseNode._wasFocused=this.state.pointerAttention,this.props.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),He.removePortal(this.props.baseNode,this.renderElement)}requestTick=()=>{this.ticking||(He.updateElementRect(this.props.baseNode),this.ticking=!0,requestAnimationFrame(()=>{this.ticking=!1}))};attachToBaseNode(){this.props.baseNode&&(this.renderElement=He.getPortal(this.props.baseNode,{noPointerEvents:this.props.noPointerEvents||!1,trackResize:this.props.trackResize||!1,extraMargins:this.props.buttonMode=="inside"?[0,0,0,0]:[0,0,0,0],component:this}))}onScroll=e=>{this.requestTick();let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(r)};componentDidMount(){this.props.baseNode&&this.props.baseNode._wasFocused&&(this.setState({pointerAttention:!0}),this.requestTick()),He.testHover()}componentDidUpdate(e,i){this.props.baseNode&&e.baseNode!==this.props.baseNode&&this.attachToBaseNode(),(this.state.pointerAttention!==i.pointerAttention||this.state.noPointerEvents!==i.noPointerEvents||this.props.hasFocus!==e.hasFocus||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.props.hasFocus||this.state.pointerAttention||this.state.noPointerEvents)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),He.testHover(),this.requestTick())}};Ym.defaultProps={buttonMode:"inside",buttonHeight:0};fr=wo(Ym)});var $r,Xm,Io,Hu=M(()=>{Ee();qe();Rt();ds();Ni();Kn();pt();$r=pe(we(),1);_i();oe();Xm=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,galleryIsEmpty:!1,showInsertionIndicator:!1,adjacentIndexes:{above:-1,below:-1,left:-1,right:-1}},this.dragMap=new Map,this.onDragOver=$r.default.throttle(this.onDragOver,80)}mutationObserverOptions={attributes:!0,childList:!0,subtree:!0,characterData:!0};render(e,i){let{galleryInstance:r}=e,{initialShowOutlines:n,showTransition:o,draggingOver:a,adjacentIndexes:l,showInsertionIndicator:c,galleryIsEmpty:d,buttonHovered:m,UIWindow:f}=i,v=this.props["thumbnail-index"]!==void 0,b=23;return g(te,{children:[g(Vi,{onlyAllowCollapsedRange:!0,baseNode:r}),g("style",{children:c&&`
					::slotted(media-item) {
						--base-translate: translate(0, 0);						
						transition: .08s transform cubic-bezier(0, 0, 0.01, 1);
					}

					::slotted(media-item:nth-child(${l.left+1})) {
						z-index: 1001;
						--base-translate: translateX(-15px);
					}

					::slotted(media-item:nth-child(${l.right+1})) {
						z-index: 1001;
						--base-translate: translateX(15px);
					}

					::slotted(media-item:nth-child(${l.above+1})) {
						z-index: 1001;
						--base-translate: translateY(-15px);
					}

					::slotted(media-item:nth-child(${l.below+1})) {
						z-index: 1001;
						--base-translate: translateY(15px);
					}
				`}),g(fr,{...this.props,hasFocus:!!f,onScrollWhileHovered:this.onScrollWhileHovered,trackResize:!0,buttonHeight:b,buttonMode:"inside",baseNode:this.props.galleryInstance,render:_=>{let{pointerAttention:E,overlayPosition:C}=_,I=0;if(C.y<=1&&(I=Math.min(-C.y+1,C.height+-b+1)),!e?.["blog-gallery"])return g(te,{children:g("div",{className:`editor-overlay editor-outline${E||f?" hover":""}${E||f?" button-hover":""}${f?" focus":""}`,style:{transform:`translate3d(${C.x}px, ${C.y}px, 0)`,width:C.width+"px",height:C.height+"px",display:E||f?"block":"none",minHeight:"27px",zIndex:10},children:[g("div",{className:"in-editor-buttons gallery",style:{transform:`translateY(${I}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:g("button",{onMouseDown:N=>{this.launchUIWindow(N)},ref:this.galleryButtonRef,className:"text",children:v?"Thumbnail Index":"Gallery"})}),e.otherUI]})})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.galleryInstance.getBoundingClientRect(),n={x:r.x+-10,y:r.y,left:r.right+-10,right:r.right+-10,top:r.top+0,bottom:r.top+27,width:r.width,height:10};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"imagegallery-ineditor",windowAlias:"imagegallery",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{activeGallery:this.props.galleryInstance}})};onMutate=e=>{if(this.props.suppressMutation)return;this.observer.disconnect();let i=[],r=[],n=[],o=!1,a=!1,l=this.props["thumbnail-index"],c=!1;e.forEach(m=>{if(m.target.tagName=="MEDIA-ITEM"){if(i.indexOf(m.target)>-1||m.type!=="attributes"||m.attributeName==="slot"||this.props.disabledMediaItemOptions.indexOf(m.attributeName)>-1)return;l&&i.push(m.target),!(m.attributeName==="style"||m.attributeName==="class")&&this.props.gallerySpecificAttributes&&this.props.gallerySpecificAttributes.includes(m.attributeName)&&i.push(m.target)}else m.target==this.props.galleryInstance&&(m.removedNodes.length>0||m.addedNodes.length>0)?(this.props.allowedElements&&(a=[...Array.from(m.addedNodes),...Array.from(m.removedNodes)].some(this.props.allowedElements)),o=m.addedNodes.length>0||o,r=[...r,...Array.from(m.addedNodes).filter(f=>f.tagName==="MEDIA-ITEM")],n=[...n,...Array.from(m.removedNodes).filter(f=>f.tagName==="MEDIA-ITEM")]):m.type==="characterData"&&(c=m.target)}),r=$r.default.uniq(r),n=$r.default.uniq(n),i=$r.default.uniq(i),n.forEach(m=>{m.itemResize=null,m.itemDragStart=null});let d=Array.from(this.props.galleryInstance.childNodes).filter(m=>m?.nodeName!=="MEDIA-ITEM");this.props.allowedElements&&$r.default.remove(d,this.props.allowedElements),d.forEach(m=>{m.remove()}),(r.length>0||n.length>0)&&(Array.from(this.props.galleryInstance.children).some(m=>m.tagName==="MEDIA-ITEM")||this.removeEmptyGallery()),(r.length>0||n.length>0||i.length>0||a||this.props["thumbnail-index"]&&c)&&this.props.onCleanUp&&this.props.onCleanUp(r,n,i,c),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)};removeEmptyGallery=$r.default.debounce(()=>{if(!Array.from(this.props.galleryInstance.children).some(e=>e.tagName==="MEDIA-ITEM")){if(this.state.isDraggingInEditor)this.setState({galleryIsEmpty:!0});else if(this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}}},0);scrollIntoView=()=>{let e=this.props.galleryInstance.getBoundingClientRect();this.props.galleryInstance.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:120,lazyScroll:!0}}))};onDragOver=(e,i,r)=>{if(!this.props.disableDragOver)if((!r.customDropTarget||r.customDropTarget===this.props.galleryInstance)&&(r.draggedMediaItems.length>0||r.fromOutside)&&!r.inAdmin&&this.props.galleryInstance.contains(r.dropTarget)){this.state.showInsertionIndicator||this.dragMap.clear();let o=this.props.galleryInstance.getBoundingClientRect(),a=60,l=1.033,c=2.399827721492203,d=Array.from(this.props.galleryInstance.children),m=[],f=i.clientX+-o.left,v=i.clientY+-o.top,b=15,_,E=0,C,I=0,N=null;for(_=0;_<a;_++)if(N=null,E=E+c,b=b*l+2,C=i.clientX+Math.cos(E)*b,I=i.clientY+Math.sin(E)*b,N=document.elementFromPoint(C,I),N&&(N=N.closest("MEDIA-ITEM")||null),this.props.galleryInstance.contains(N)||(N=null),N&&m.indexOf(N)===-1)if(this.dragMap.has(N)){let ee=this.dragMap.get(N);C<=ee.x2+o.left&&C>=ee.x1+o.left&&I<=ee.y2+o.top&&I>=ee.y1+o.top&&m.push(N)}else m.push(N);let D=m.map(ee=>{let J;if(this.dragMap.has(ee))J=this.dragMap.get(ee);else{let Ue=ee.getBoundingClientRect();J={w:Ue.width+-(15*2),h:Ue.height+-(15*2),x1:Ue.left+-o.left+15,x2:Ue.left+Ue.width+-o.left+-15,y1:Ue.top+-o.top+15,y2:Ue.top+Ue.height+-o.top+-15},this.dragMap.set(ee,J)}let le=!1,K=!1,U=!1,W=!1,re=!1,ce=!1,fe=0,be=0,Te=0;f>=J.x1&&f<=J.x2?(K=!0,f<J.x1+J.w*.5?ce=!0:re=!0,Te=0):J.x1>f?(ce=!0,Te=J.x1-f):f>J.x2&&(Te=J.x2-f,re=!0),v>=J.y1&&v<=J.y2?(le=!0,v<J.y1+J.h*.5?W=!0:U=!0,be=0):J.y1>v?(W=!0,be=J.y1-v):v>J.y2&&(U=!0,be=J.y2-v),fe=Math.sqrt(be*be+Te*Te);let _e=d.indexOf(ee),Le=ee.getAttribute("slot"),ze=0,rt=0;return this.props.dragIndicationType==="columns"&&(ze=Array.from(ee.assignedSlot.parentElement.children).indexOf(ee.assignedSlot)),{inX:K,inY:le,distance:fe,rise:be,run:Te,above:U,below:W,toRight:ce,toLeft:re,index:_e,slotIndex:ze,el:ee,rect:J}}),F={el:null,index:-1},z=F,G=F,Y=F,L=F,Z=[],$=[],j=[],ie=[];D.forEach(ee=>{ee.above&&j.push(ee),ee.below&&ie.push(ee),ee.toRight&&$.push(ee),ee.toLeft&&Z.push(ee)});let H=null,ae=!1;if(this.props.dragIndicationType==="columns"){let ee=$r.default.minBy(j,U=>Math.abs(U.distance)),J=$r.default.minBy(ie,U=>Math.abs(U.distance)),le=$r.default.minBy(Z.filter(U=>U.inY),U=>Math.abs(U.distance)),K=$r.default.minBy($?.filter(U=>U.inY),U=>Math.abs(U.distance));ee&&J?Math.abs(J.run)<Math.abs(ee.run)?(L=J,Y=j.find(U=>U.rect.x1<L.rect.x2&&U.rect.x2>L.rect.x1)||F):(Y=ee,L=ie.find(U=>U.rect.x1<Y.rect.x2&&U.rect.x2>Y.rect.x1)||F):ee?Y=ee:J&&(L=J),le&&K?ae=K.rect.y1!==le.rect.y1:(le?.rect?.y1>15||K?.rect?.y1>15||Y?.index>-1)&&(ae=!0)}if(ae){if(z=F,G=F,Y=Y,L=L,L?.el)H=L.el;else for(H=Y.el?.nextElementSibling?.assignedElements?.()[0]||null;H&&H.tagName!=="MEDIA-ITEM";)H=H?.nextElementSibling||null;r.draggedMediaItems.length===1&&d.indexOf(r.draggedMediaItems[0])>-1&&d.indexOf(H)>d.indexOf(r.draggedMediaItems[0])&&(H=H.nextElementSibling)}else{let ee=$r.default.minBy(Z,le=>Math.abs(le.distance)),J=$r.default.minBy($,le=>Math.abs(le.distance));if(ee&&J?Math.abs(J.rise)<Math.abs(ee.rise)?(G=J,z=Z.find(le=>le.index==G.index+-1)):(z=ee,G=$.find(le=>le.index==z.index+1)):ee?z=ee:J&&(G=J),Y=F,L=F,G=G||F,z=z||F,G?.el)H=G.el;else for(H=z.el?.nextElementSibling;H&&H.tagName!=="MEDIA-ITEM";)H=H.nextElementSibling}this.setState({adjacentIndexes:{left:z.index,right:G.index,above:Y.index,below:L.index},insertBeforeTarget:H,showInsertionIndicator:!0}),ye.globalDragEventController.setCustomDropTarget(this.props.galleryInstance)}else this.state.showInsertionIndicator&&this.props.onDragOut&&this.props.onDragOut(),this.setState({showInsertionIndicator:!1}),ye.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance)};onDragStart=(e,i,r)=>{if(!(this.props["thumbnail-index"]&&(!r.draggedMediaItems?.[0]||!this.props.galleryInstance.contains(r.draggedMediaItems[0])))&&(He.activateHoverElement(this.props.galleryInstance),this.props.disableDragStart)){i.preventDefault();return}};onAfterDragStart=(e,i,r)=>{this.props.disableDragStart||this.setState({isDraggingInEditor:!0})};onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),this.props.onDragEnd&&this.props.onDragEnd(),this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1},()=>{this.onDragFinish()})};onDragDrop=(e,i,r)=>{if(this.onDragOver.cancel(),this.props.onDragDrop&&this.props.onDragDrop(),!this.props.disableDrop&&!r.inAdmin){if(r.customDropTarget===this.props.galleryInstance){CargoEditor.mutationManager.execute(()=>{r.draggedMediaItems.forEach((a,l)=>{this.props["thumbnail-index"]&&a.setSaveable(!1),this.props.galleryInstance.insertBefore(a,this.state.insertBeforeTarget)}),this.props.onAfterDrop&&this.props.onAfterDrop(r.draggedMediaItems,this.state.insertBeforeTarget,this.state.adjacentIndexes)});let n=r.draggedMediaItems[0],o=r.draggedMediaItems[0]?.getAttribute("href");clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(()=>{let a=CargoEditor.rangy.createRange();this.props["thumbnail-index"]&&(n=Array.from(this.props.galleryInstance.children).find(l=>l.getAttribute("href")==o)),n&&(a.selectNode(n),CargoEditor.helpers.setActiveRange(a))},120)}this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1,insertBeforeTarget:null},()=>{this.onDragFinish()})}};onBeforeDrop=(e,i,r)=>{this.props.disableBeforeDrop};onDragFinish=()=>{He.testHover(),this.state.galleryIsEmpty&&(Array.from(this.props.galleryInstance.children).filter(i=>i?.tagName=="MEDIA-ITEM").length==0&&this.props["thumbnail-index"]===void 0?CargoEditor.mutationManager.execute(()=>{this.props.galleryInstance.remove()}):this.setState({galleryIsEmpty:!1}))};setUIWindow=e=>{this.setState({UIWindow:e}),e?typeof this.props.onUIWindowSet=="function"&&this.props.onUIWindowSet(e):typeof this.props.onUIWindowRelease=="function"&&this.props.onUIWindowRelease(e)};onScrollWhileHovered=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidUpdate(e){e.suppressMutation!==this.props.suppressMutation&&(this.observer.disconnect(),this.props.suppressMutation||this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)),$r.default.isEqual(e.mediaItemEditorInfo,this.props.mediaItemEditorInfo)||this.setMediaItemEditorInfo()}setMediaItemEditorInfo=()=>{this.props.galleryInstance._mediaItemEditorInfo=this.props.mediaItemEditorInfo||{disableResize:!1,disableButton:!1},Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM").forEach(i=>{i._editorInterface?.setState?.({mediaItemEditorInfo:{...this.props.mediaItemEditorInfo}})}),this.props.mediaItemEditorInfo?.afterScaleChange&&(this.props.galleryInstance._mediaItemEditorInfo.afterScaleChange=this.props.mediaItemEditorInfo.afterScaleChange)};flushMutationQueue=()=>{let e=this.observer.takeRecords();e.length>0&&this.onMutate(e)};componentDidMount(){if(this.props.galleryInstance.children.length===0&&this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}this.setMediaItemEditorInfo(),this.observer=new MutationObserver(this.onMutate),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions),this.props.galleryInstance._editorInterface=this,ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("dragend",this.onDragEnd),ye.globalDragEventController.on("before-drop",this.onBeforeDrop),ye.globalDragEventController.on("drop",this.onDragDrop),ye.globalDragEventController.on("after-dragstart",this.onAfterDragStart)}componentWillUnmount(){this.state.UIWindow&&this.state.UIWindow.changingLayout,this.removeEmptyGallery.cancel(),this.onDragOver.cancel(),this.observer?.disconnect(),this.observer=null,clearTimeout(this.showOutlinesTimeout),clearTimeout(this.bindTimeout),ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("dragend",this.onDragEnd),ye.globalDragEventController.off("before-drop",this.onBeforeDrop),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("after-dragstart",this.onAfterDragStart),this.props.galleryInstance._editorInterface===this&&(this.props.galleryInstance._mediaItemEditorInfo=null,delete this.props.galleryInstance._editorInterface)}};Xm.defaultProps={disabledMediaItemOptions:[],dragIndicationType:"grid"};Io=De((t,e)=>({Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}))(Xm)});var nx,ox,wz,xz=M(()=>{Ee();nx=pe(we(),1);Rt();Ni();Hu();oe();ox=class extends se{constructor(e){super(e),this.state={isDragging:!1,thumbnailsVisible:!1,thumbnailsVisibleWhileDragging:!1,hasUIWindow:!1,pointerAttention:!1},this.debouncedCheckRange=nx.default.debounce(this.checkRange,120)}render(e,i){let{isDragging:r,thumbnailsVisible:n}=i,{galleryInstance:o,dragContext:a}=e;return g(te,{children:[g("style",{children:`
			media-item figcaption.caption {
				${this.state.thumbnailsVisible?"display: block":""}
			}	
		`}),g(Io,{...e,mediaItemEditorInfo:{disableResize:!0,disableButton:!1},gallerySpecificAttributes:this.props.gallerySpecificAttributes||[],suppressMutation:this.props.suppressMutation,galleryInstance:o,disableDragOver:!n,disableDrop:!n,allowedElements:l=>l.part=="previous-button"||l.part=="next-button",onUIWindowRelease:this.onUIWindowRelease,onPointerIn:this.onPointerIn,onPointerOut:this.onPointerOut})]})}onCleanUp=(e,i,r,n,o,a)=>{this.props.galleryInstance.updateNavigation(),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n,o,a)};onPointerIn=()=>{this.setState({pointerAttention:!0})};onPointerOut=()=>{this.setState({pointerAttention:!1})};onDragOver=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&!this.state.thumbnailsVisible&&(this.setState({thumbnailsVisibleWhileDragging:!0}),this.props.galleryInstance.showThumbnails())};onDragDrop=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&this.state.thumbnailsVisible?setTimeout(()=>{this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.debouncedCheckRange())},500):this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.props.galleryInstance?.hideThumbnails?.())};updateThumbStatus=e=>{let i=this.props.galleryInstance.thumbnailsVisible;this.setState({thumbnailsVisible:i}),i&&requestAnimationFrame(()=>{let r=CargoEditor?.rangy?.createRange(),n=this.props.galleryInstance.querySelector(".sizing-frame");n&&r&&(r.setStartBefore(n),r.setEndAfter(n),CargoEditor.helpers.setActiveRange(r),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor()))})};onUIWindowRelease=()=>{this.props.galleryInstance.thumbnailsVisible&&this.debouncedCheckRange(),this.setState({hasUIWindow:!1})};onUIWindowSet=e=>{this.setState({hasUIWindow:e})};checkRange=()=>{let e=CargoEditor.getActiveRange();CargoEditor.events.off("cursor-activity",this.debouncedCheckRange),this.state.hasUIWindow||this.props.childArray.some(i=>i._editorInterface?.state?.UIWindow)||e&&this.props.galleryInstance.contains(e.commonAncestorContainer)||!e?CargoEditor.events.on("cursor-activity",this.debouncedCheckRange):this.props.galleryInstance?.hideThumbnails?.()};onClick=e=>{this.props.galleryInstance.thumbnailsVisible};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),CargoEditor.events.on("cursor-activity",this.captionCursorActivity)};captionCursorActivity=nx.default.throttle(()=>{var e=CargoEditor.getActiveRange();e&&this.props.galleryInstance.contains(e.commonAncestorContainer)&&Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{r.contains(e.commonAncestorContainer)&&this.props.onItemResize(null,r,n)})},120);componentDidUpdate(e){if(e.inTransition!==this.props.inTransition){let i=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");if(this.props.inTransition)i.forEach(r=>{He.deactivateHoverElement(r),He.lockItem(r)});else if(this.state.pointerAttention){i.forEach(n=>{He.deactivateHoverElement(n),He.unlockItem(n)});let r=Array.from(this.props.galleryInstance.children).find(n=>n.nodeName==="MEDIA-ITEM"&&n.assignedSlot?.parentElement?.hasAttribute("data-active-slide"));r&&He.activateHoverElement(r)}}}componentDidMount(){CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("drop",this.onDragDrop),this.props.galleryInstance.addEventListener("click",this.onClick),this.props.galleryInstance.addEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.addEventListener("hide-thumbnails",this.updateThumbStatus),this.updateThumbStatus()}componentWillUnmount(){window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.captionCursorActivity.cancel(),CargoEditor&&Object.keys(CargoEditor||{}).length>0&&CargoEditor.events.off("cursor-activity",this.captionCursorActivity),this.props.galleryInstance.removeEventListener("click",this.onClick),this.props.galleryInstance.removeEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.removeEventListener("hide-thumbnails",this.updateThumbStatus),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("dragover",this.onDragOver)}},wz=ox});var Sz,_z,sx=M(()=>{Sz="http://www.w3.org/2000/svg",_z=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i});function Ez(t,e,i,r){let n,o,a;for(;e=e._parent;)if((n=e._component)&&!n._processingException)try{if(o=n.constructor,o&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),a=n._dirty),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),a=n._dirty),a)return n._pendingError=n}catch(l){t=l}throw t}var Cz=M(()=>{sx()});var Xse,ax,Pz=M(()=>{Cz();Xse={_catchError:Ez},ax=Xse});function Iz(t,e,i){e[0]=="-"?t.setProperty(e,i==null?"":i):i==null?t[e]="":typeof i!="number"||_z.test(e)?t[e]=i:t[e]=i+"px"}function lx(t,e,i,r,n){let o;e:if(e=="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||Iz(t.style,e,"");if(i)for(e in i)(!r||i[e]!==r[e])&&Iz(t.style,e,i[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Zse,"$1")),e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e=e.toLowerCase().slice(2):e=e.slice(2),t._listeners||(t._listeners={}),t._listeners[e+o]=i,i?r?i._attached=r._attached:(i._attached=Mz,t.addEventListener(e,o?Tz:Az,o)):t.removeEventListener(e,o?Tz:Az,o);else{if(n==Sz)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=i==null?"":i;break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||e[4]=="-")?t.setAttribute(e,e=="popover"&&i==!0?"":i):t.removeAttribute(e))}}function Rz(t){return function(e){if(this._listeners){let i=this._listeners[e.type+t];if(e._dispatched==null)e._dispatched=Mz++;else if(e._dispatched<i._attached)return;return i(ax.event?ax.event(e):e)}}}var Zse,Mz,Az,Tz,kz=M(()=>{sx();Pz();Zse=/(PointerCapture)$|Capture$/i,Mz=0;Az=Rz(!1),Tz=Rz(!0)});function Ao(t,e,i,r,n){let o;for(o in i)o!=="children"&&o!=="key"&&!(o in e)&&lx(t,o,null,i[o],r);for(o in e)(!n||typeof e[o]=="function")&&o!=="children"&&o!=="key"&&o!=="value"&&o!=="checked"&&i[o]!==e[o]&&lx(t,o,e[o],i[o],r)}var qu=M(()=>{kz()});var Nz,Oz=M(()=>{Nz=(t,e={})=>{let i=t.replace(/["#$%<>&=\?\\\/:]/g,"").replace(/(\s|\.)/g,"-").replace(/-{2,}/g,"-").toLowerCase(),r=i.length>0?i:"_";if(e.inUse){let n=r,o=1;for(;e.inUse.includes(n);)n=r+`-${o++}`;return n}return r}});function Dz(t){let e=t.split(":"),i=e[0],r="all";switch(i){case"set":r=nl.default.tail(e).map(n=>n).join(":");break;case"tag":r=nl.default.tail(e)[0]?.split(",").map(n=>Nz(n.trim()));break;case"img":r="all";break;case"all":r="all";break}return{type:i,value:r}}function eae(t){class e extends Ii{constructor(r){super(r),this.fixBadNullValue(),this.state={layoutIncrement:0,initialLoad:!1,attributeMap:this.getMapFromAttribute(),thumbnails:[],renderLimit:150},this.preactRendering=!1}getMapFromAttribute=()=>{let r={};try{let n=unescape(this.props["thumbnail-index-metadata"]||"{}");r=JSON.parse(n)}catch(n){r={},console.error("failed to load saved thumbnail map: ",n)}return r};fixBadNullValue=()=>{this.props["thumbnail-index"]==="null"&&this.props.baseNode&&this.props.baseNode.removeAttribute("thumbnail-index"),this.props.baseNode&&this.props.baseNode.hasAttribute("tag")&&this.props.baseNode.removeAttribute("tag")};isActiveLink=r=>{if(this.props.inAdminFrame&&this.props.adminMode===!0)return!1;let n=r.purl.replace(/^#/,"");return r.id===this.props.PIDBeingEdited||n===this.props.activePURL||this.props.hashPurl&&n===this.props.hashPurl};render(r){if(!r["thumbnail-index"]||r["thumbnail-index"]==="null"){let c={...r,"thumbnail-index":void 0};return g(t,{...c})}let n=this.state.thumbnails.length>0,o=n&&r["show-tags"],a=n&&r["show-title"],l=n||!this.state.initialLoad?this.state.thumbnails:this.props.adminMode?Qse:[];return this.props.baseNode.tagName==="GALLERY-FREEFORM"&&(l=nl.default.sortBy(l,c=>{let d=this.state.attributeMap?.[c.id];return d!=null?d.sort+1:0})),l=l.slice(0,this.state.renderLimit),this.renderedItemCount=l.length,g(t,{...r,onCleanUp:this.onCleanUp,disableDragOver:!0,children:l.map((c,d)=>{let m=c.thumbnail?.is_video||c.thumbnail?.is_url||null;return Tt("media-item",{...this.state.attributeMap[c.id]?.attributes,saveable:!1,model:c.thumbnail,autoplay:m,loop:m,muted:m,href:c.purl,rel:"history",itemDragStart:this.onDragStart,key:"thumb id"+c.id,"disable-zoom":!0,className:`thumbnail linked ${c.tags.map(f=>"tag-"+f.url).join(" ").toLowerCase()}${this.isActiveLink(c)?" active":""}`,...c.attributes},g("figcaption",{class:`caption${!a&&!o?" empty":""}`,slot:"caption",children:[a?g("div",{className:"page-title",children:c.title},"title-"+c.url+"-"+c.title+"-"+this.state.layoutIncrement):null,c.tags.length>0&&o?g("div",{className:"tags",children:c.tags.map((f,v)=>g(te,{children:[g("a",{href:f.url,className:"tag-link",rel:r["links-filter-index"]?"filter-index":"history","data-tag":f.tag,children:f.tag+""}),v<c.tags.length-1?g("span",{className:"tag-separator"}):null]},"tag-link-"+f.url+"-"+this.state.layoutIncrement))}):null]}))})})}onDragStart=r=>{!this.props["thumbnail-index"]||this.props["thumbnail-index"]==="null"||this.props.adminMode&&this.props.baseNode.tagName!=="GALLERY-FREEFORM"&&(r.preventDefault(),r.stopPropagation())};componentDidUpdate(r,n){this.fixBadNullValue(),this.props["thumbnail-index"]&&(r["thumbnail-index"]!==this.props["thumbnail-index"]||this.props.thumbCollection!==r.thumbCollection||this.props.sort!==r.sort||this.props.lastPublishedAt!==r.lastPublishedAt)&&this.setThumbnails(),this.state.thumbnails!==n.thumbnails&&this.props.baseNode.dispatchEvent(new CustomEvent("new-thumbnails-rendered",{bubbles:!0,cancelable:!0,composed:!0,detail:{}})),this.props["thumbnail-index-metadata"]!==r["thumbnail-index-metadata"]&&this.setState({attributeMap:this.getMapFromAttribute()}),this.ticking||(this.ticking=!0,setTimeout(()=>{this.renderedItemCount>=this.state.renderLimit&&this.setState({renderLimit:this.state.renderLimit+250}),delete this.ticking},200)),this.props["thumbnail-index"]!==r["thumbnail-index"]&&this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&(this.props.pageInfo.setPageData({filter:this.props["thumbnail-index"]},this.props.baseNode),this.emitFilterEvent())}emitFilterEvent=()=>{this.props["thumbnail-index"]&&!this.props.adminMode&&(this.emitFilterDebounce=requestAnimationFrame(()=>{var r=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:this.props["thumbnail-index"]}});this.props.baseNode.dispatchEvent(r)}))};updateOldThumbMetaData=nl.default.debounce(()=>{let r=this.props.baseNode.querySelector('script[type="text/thumbnail-metadata"]');if(r){try{CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",escape(r.textContent))},{preventDraft:!0})}catch{}CargoEditor?.mutationManager?.execute?.(()=>{r.remove()},{preventDraft:!0})}},2e3);onPreactRenderComplete=()=>{this.preactRendering=!1,this.childListObserver.takeRecords()};onPreactRenderStart=()=>{this.onChildListMutation(this.childListObserver.takeRecords()),this.preactRendering=!0};onChildListMutation=r=>{if(!this.props["thumbnail-index"]||this.preactRendering||r.length===0)return;r.reverse();let n=!1;for(let o of r)o.type==="childList"&&(o.addedNodes.length>0||o.removedNodes.length>0)&&(n||(console.log("[DOM] Enforced Preact ownership of component tree"),n=!0),Array.from(o.addedNodes).forEach(a=>o.target.removeChild(a)),Array.from(o.removedNodes).forEach(a=>{o.target.insertBefore(a,o.nextSibling)}));this.childListObserver.takeRecords()};componentDidMount(){this.fixBadNullValue(),this.updateOldThumbMetaData(),this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&this.emitFilterEvent(),this.props.baseNode.addEventListener("keydown",this.onKeyDown),this.props.baseNode.addEventListener("filter-thumbnail-index",this.setThumbnails),document.addEventListener("filter-thumbnail-index",this.setThumbnails),this.props.baseNode.addEventListener("refresh-thumbnail-index",this.setThumbnails),this.childListObserver=new MutationObserver(this.onChildListMutation),this.childListObserver.observe(this.props.baseNode,{subtree:!0,childList:!0}),Ct(document,"preact-render-start",this.onPreactRenderStart),Ct(document,"preact-render-complete",this.onPreactRenderComplete)}componentWillUnmount(){At(document,"preact-render-start",this.onPreactRenderStart),At(document,"preact-render-complete",this.onPreactRenderComplete),this.childListObserver.disconnect(),cancelAnimationFrame(this.emitFilterDebounce),this.props.baseNode.removeEventListener("refresh-thumbnail-index",this.setThumbnails),this.props.baseNode.removeEventListener("keydown",this.onKeyDown),this.props.baseNode.removeEventListener("filter-thumbnail-index",this.setThumbnails),document.removeEventListener("filter-thumbnail-index",this.setThumbnails)}onKeyDown=r=>{r.metaKey||r.ctrlKey||!this.props["thumbnail-index"]||(/^.$/u.test(r.key)||r.key==="Enter"||r.key==="Delete"||r.key==="Backspace")&&(r.preventDefault(),r.stopPropagation())};setThumbnails=async()=>{if(!this.props["thumbnail-index"])return;let r=Dz(this.props["thumbnail-index"]),n=this.props.lastPublishedAt,o=[];switch(r.type){case"set":try{({data:o}=await ep.default.get(`${ti}/pages/${this.props.siteId}/thumbs/set/${r.value}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"tag":try{({data:o}=await ep.default.get(`${ti}/pages/${this.props.siteId}/thumbs/tag/${r.value.join(",")}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"img":try{({data:o}=await ep.default.get(`${ti}/sites/${this.props.siteId}/media/images?with-pages=true`,{use_cache:!0}))}catch{}o=o.filter(c=>c.media.length>0&&c.password_enabled==!1),o=nl.default.flatMap(o,c=>c.media.map(d=>({display:!0,id:d.id,purl:c.purl,url:c.purl,sort:0,tags:[],thumbnail:d,title:g(te,{children:[g("a",{href:c.purl,rel:"noopener nofollow",target:"_blank",className:"page-link",children:c.title}),g("br",{}),g("a",{target:"_blank",rel:"noopener nofollow",href:"https://freight.cargo.site/o/i/"+d.hash+"/"+d.name,children:d.name})]}),attributes:{"disable-scroll-animation":!0,href:null,"force-quick-view":!0,hash:d.hash}})));break;default:try{({data:o}=await ep.default.get(`${ti}/pages/${this.props.siteId}/thumbs/all?limit=999`,{use_cache:!0}))}catch{}break}let a=store.getState();o=o.filter(c=>{let d=a.pages.byId[c.id];return!(d&&d.crdt_state!==$t.Published||d&&r.type==="set"&&a.structure.byParent[r.value]&&!a.structure.byParent[r.value].some(m=>m===d.id))});let l=nl.default.unionBy(this.props.thumbCollection,o,"id");switch(l=l.filter(c=>c.pin!==!0&&c.display!==!1&&c.id!==this.props.homepageID&&c.id!==this.props.mobileHomepageID&&c.crdt_state!==$t.Deleted&&c.thumb_meta?.hide_from_index!==!0&&this.props.pageInfo.pid!==c.id),this.props.sort){case"reverse":l.sort((c,d)=>d.sort-c.sort);break;case"shuffle":l.sort(c=>Math.random()-.5);break;default:l.sort((c,d)=>c.sort-d.sort);break}l.forEach(c=>{c.purl.startsWith("#")||(c.purl="#"+c.purl)}),this.setState({initialLoad:!0,thumbnails:l})};onCleanUp=(r,n,o,a)=>{if(!this.props["thumbnail-index"]||!this.props.adminMode)return;let l={},c="",d=store.getState();if(Array.from(this.props.baseNode.children).filter(f=>f.tagName==="MEDIA-ITEM").forEach((f,v)=>{let b=f.getAttribute("href"),_={},E=f.attributes,C=0;for(C=E.length;C--;)E[C].name==="saveable"||E[C].name==="limit-by"||E[C].name==="class"||E[C].name==="hash"||E[C].name==="href"||E[C].name==="rel"||E[C].name==="slot"||E[C].name==="width"||E[C].name==="height"||E[C].name==="disable-zoom"||(_[E[C].name]=E[C].value);let I=Ke.getContentByPurl(d,b)?.id||null;I&&(l[I]={sort:v,attributes:_})}),l={...this.state.attributeMap,...l},c=JSON.stringify(l),c=escape(c),c!==this.props["thumbnail-index-metadata"])CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",c)},{preventDraft:!0}),this.setState({attributeMap:l||{}});else if(a){if(CargoEditor&&CargoEditor?.getActiveEditor?.()){let f=CargoEditor.rangy.createRange();f.selectNode(this.props.baseNode),f.collapse(),CargoEditor.helpers.setActiveRange(f)}this.setState({layoutIncrement:this.state.layoutIncrement+1})}}}return Ot(De((i,r)=>{let n=Jse(r["thumbnail-index"],i.structure,i.pages),o=(i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID])?.purl;return{lastPublishedAt:i.adminState?.crdt?.publishedAt??"000",thumbCollection:n,activePURL:o,hashPurl:i.frontendState.activeHashPurl,adminMode:i.frontendState.adminMode,PIDBeingEdited:i.frontendState.PIDBeingEdited,inAdminFrame:i.frontendState.inAdminFrame,siteId:i.site.id,homepageID:i.site.homepage_id,mobileHomepageID:i.site.mobile_homepage_id}})(e))}var ep,nl,Jse,Qse,To,Uu=M(()=>{Ee();qe();pt();Rt();Ne();Vs();ep=pe(En(),1);ki();hr();_i();Oz();Ui();nl=pe(we(),1);oe();Ee();Jse=un((t,e,i)=>{let r=[];if(!t)return r;let n=Dz(t);switch(n.type){case"set":r=(e.byParent[n.value]||[]).map(o=>i.byId[o]).filter(o=>o!==void 0);break;case"tag":r=Object.values(i.byId).filter(o=>o.tags&&o.tags.find(a=>n.value?.includes(a.url)));break;case"img":r=[];break;default:r=Object.values(i.byId);break}return r.map(o=>{let a=null;return o.thumb_media_id&&o.media?a=o.media.find(l=>l.id===o.thumb_media_id)||null:o.thumbnail&&(a=o.thumbnail),{id:o.id,title:o.title,purl:o.purl,thumb_meta:o.thumb_meta||{},display:o.display,sort:e.bySort[o.id],tags:o.tags||[],pin:o.pin,crdt_state:o.crdt_state,thumbnail:a}})}),Qse=[null,null,null].fill({attributes:{href:null,hash:"placeholder"},purl:null,thumbnail:null,tags:[],title:null});To=eae});var Hz,hi,Lz,ux,Fz,zz,tae,iae,rae,nae,ol,cx,dx,Zm,oae,Jm=M(()=>{Ee();qe();Gm();pt();Bi();ea();xz();qu();Wi();Uu();Ui();xo();ki();Ne();il();Hz=pe(we(),1);oe();Ee();hi={name:"slideshow",displayName:"Slideshow",tagName:"GALLERY-SLIDESHOW",disabledMediaItemOptions:["scale","sticker","limit-by"],mobileOptions:[{labelName:"",name:"mobile-transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"mobile-transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"mobile-navigation",type:"check-box",value:!0},{labelName:"Captions",name:"mobile-show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"mobile-autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"mobile-autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"width"}]},{name:"mobile-scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"mobile-limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"fit"}]},{name:"mobile-limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Shuffle",name:"mobile-shuffle",type:"check-box",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}],options:[{labelName:"",name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"navigation",type:"check-box",value:!0},{labelName:"Captions",name:"show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{labelName:"Pause On Hover",name:"pause-on-hover",type:"check-box",value:!1,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"limit-by",shouldBe:"width"}]},{name:"scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"limit-by",shouldBe:"fit"}]},{name:"limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{type:"group",className:"grid-columns-even",children:[{type:"group",className:"grid-columns-even",children:[{labelName:"Disable Zoom",name:"disable-zoom",type:"check-box",value:!1},{labelName:"Shuffle",name:"shuffle",type:"check-box",value:!1}]}]},{labelName:"Disable Scroll Transition",name:"disable-scroll-animation",type:"check-box",value:!1,requirements:[{option:"imageSettingsScrollAnimation",shouldBe:!0}]},{name:"auto-height",value:"custom"},{name:"height-limit",value:"60%"},{name:"adjust-for-captions",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}]};hi.defaults=st(hi.options);hi.mobileDefaults=st(hi.mobileOptions);Lz=.04,ux=.25,Fz=.085,zz=.1,tae=.08,iae=2,rae=3,nae=15,ol=0,cx=1,dx=2,Zm=class extends Ii{constructor(e){super(e);let i=ne?{hasLayout:!1,visible:!1,position:"unknown"}:{hasLayout:!0,visible:!0,position:"inside"};this.state={captionHeightMap:[],showThumbnails:this.props.thumbnails===!0||this.props.thumbnails==="true",hasLoaded:ne,visible:!1,viewportIntersection:i,layoutIncrement:0,pointerOver:!1,initialShowNavigation:!0,destinationIndex:0,activeIndex:0,initialActiveIndex:0,inTransition:!1,elWidth:0,hasSizes:{slideHeightPx:!1,elWidth:!1},slideHeightPx:0,tallestSlide:{index:0,height:0},...this.getNavigation(),isDragging:!1,isPointerDown:!1,scrubAnimating:!1,scrubStatus:ol},this.loadedItems=new Set,this.shuffleSeed=Math.random()*100,this.lastPointerFrameDeltaX=0,this.pointerFrameDeltaX=0,this.scrubCounter=0,this.lastPointerX=0,this.firstPointerX=0,this.pointerX=0,this.xTransform=0,this.slideListRef=me(),this.scrubAnimationRequest=null,this.autoplayInterval=null,this.updateOptions(),this.lastTimestamp=0,this.styleRef=me(),Object.defineProperty(this.props.baseNode,"thumbnailsVisible",{get:()=>this.state.showThumbnails,set:r=>this.setState({showThumbnails:!!r}),configurable:!0}),this.props.baseNode.pause=this.pause,this.props.baseNode.resume=this.startAutoplay,this.props.baseNode.nextSlide=this.nextSlide,this.props.baseNode.prevSlide=this.prevSlide,this.props.baseNode.showThumbnails=this.showThumbnails,this.props.baseNode.hideThumbnails=this.hideThumbnails,this.props.baseNode.goToSlide=this.goToSlide,this.props.baseNode.getActiveSlide=this.getActiveSlide,this.props.baseNode.updateNavigation=()=>{let{prevNavigation:r,nextNavigation:n}=this.getNavigation();(this.state.prevNavigation!==r||this.state.nextNavigation!==n)&&this.setState({nextNavigation:n,prevNavigation:r})}}render(e,i){this.updateOptions();let{baseNode:r,adminMode:n,pageInfo:o,usesScrollAnimation:a}=e,{showThumbnails:l,activeIndex:c,destinationIndex:d,inTransition:m,isPointerDown:f,scrubAnimating:v,hasLoaded:b,pointerOver:_,hasSizes:E,initialShowNavigation:C,captionHeightMap:I,viewportIntersection:N}=i,{showCaptions:D,autoPlayDelay:F,limitBy:z,adjustForCaptions:G}=this.options,{elWidth:Y}=i;E.elWidth||(this.cachedElWidth=this.props.baseNode.offsetWidth,Y=this.cachedElWidth);let L=z==="fit"?"var(--fit-height)":Qt(this.options.scale,z=="width"?"%":"rem").join(""),Z=this.renderSlides(),$=this.getSlideListStyles(),j=g("div",{ref:this.slideListRef,style:{transform:$.transform},className:"slide-list",draggable:!1,tabIndex:0,children:Z}),ie={};l||(ie.onKeyDown=this.handleKeyDown,ie.onClickCapture=this.onClickCapture,ie.className="slideshow-wrapper",m&&(ie.className+=" in-transition"),f&&(ie.className+=" pointer-down"),v&&this.isScrub&&(ie.className+=" scrubbing"));let H=z==="width"?this.state.tallestSlide.height:this.state.slideHeightPx,ae=this.makeMediaItemAttributes(),ee=this.mediaItems.map((U,W)=>{let re=ae[W].slot,ce=U._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},fe="100%",be=ce.width,Te=ce.height,_e=null,Le=this.options.showCaptions&&this.state.captionHeightMap[W]||0;if(l)fe=null;else if(typeof be=="string"&&be.indexOf("%")>-1)fe=be;else if(z!=="width"){G?_e=H+-Le:_e=H;let ze=Te/be,rt=_e+-ce.mediaItemSize.padSize+-ce.mediaSize.padSize,Ue=rt*(1/ze),ot=(rt+ce.mediaSize.padSize)/(Ue+ce.mediaSize.padSize),Ie=(_e+-ce.mediaItemSize.padSize)*(1/ot);Math.abs(Ie+ce.mediaItemSize.padSize-Y)<1?fe="100%":fe=`${Math.min(100,100*(Ie+ce.mediaItemSize.padSize)/Y)}%`}return{captionHeight:Le,customSlideHeight:_e,figureWidth:fe,slot:re}}),J=Math.min(this.options.speed/2,.1),le=Math.max(Math.floor(Y/200),2);this.setMediaElementProperties(ae);let K=a&&!this.props["disable-scroll-animation"]?" scroll-transition":"";return g(te,{children:[Ge(g(te,{children:g(Tn,{scrollContext:this.props.scrollContext,uses:K,visibility:N,onLazyLoadChange:null,adminMode:n,customElementMode:!0,baseNode:r,children:[this.options.showCaptions?g("style",{id:"gallery-slideshow-captions",ref:this.styleRef,children:`
					::slotted(media-item) {
						--slideshow-caption-transform: ${$["--slideshow-caption-transform"]||"translateX(0px)"};
						z-index: 9;
					}
				`}):null,g("style",{id:"gallery-slideshow",children:`
* {
	box-sizing: border-box;
}

:host([hidden]) {
	display: none;
}

:host {
	position: relative;
	transition-timing-function: ease-in-out;
    transition-property: opacity;
    transition-duration: .2s;
	opacity: ${b||l?1:0};

	width: var(--resize-parent-width, 100%);
	max-width: 100%;
    --navigation-opacity: ${_||C?1:0};
    --slide-height: ${H}px;

	--slideshow-horizontal-align: ${this.options.hAlign==="left"?"flex-start":this.options.hAlign==="right"?"flex-end":"center"};

	--slideshow-caption-align: ${this.options.hAlign==="left"?"left":this.options.hAlign==="right"?"right":"center"};	

	--slideshow-vertical-align: ${this.options.vAlign==="top"?"flex-start":this.options.vAlign==="bottom"?"flex-end":"center"};

    ${l?`
	    display: grid;
		grid-template-columns: repeat(${le}, 1fr);
		column-gap: 2rem;
		row-gap: 2rem;
		align-items: start;
		overflow:hidden;
		--display-slideshow-captions: block;
		--slideshow-caption-opacity: 1;	

	`:`
		--slideshow-caption-transition-duration: ${J}s;	
		--display-slideshow-captions: ${D?"block":"none"}!important;
	    display: flex;
    	flex-direction: column;
	`}
}

${l?"":ee.map((U,W)=>`
::slotted(media-item[slot="${U.slot}"]){
	--item-width: ${U.figureWidth};
	--slide-height: ${U.customSlideHeight||H}px; 
	--caption-height: ${U.captionHeight}px;
}`).join("")}

${l?`
::slotted(media-item){
	min-width: 0;
	max-width: 100%;
	--item-width: 100%;	
	--resize-parent-width: 100%;
	--slide-height: auto;

    --display-slideshow-captions: block;
    --slideshow-caption-transform: translateX(0px);
    --slideshow-caption-opacity: 1;
    --slideshow-caption-align: left;
    --slideshow-caption-transition-duration: 0;	
}`:`
::slotted(media-item) {
    transition: none!important;
    display:block;
	min-width: ${Y}px;
	flex-shrink: 0;
}


	`}

.slide { 
    -webkit-user-select:none;
    user-select:none;
    flex-shrink: 0;
    width: ${Y}px;
}

.navigation-wrapper {

	order: 1;
	position: relative;
}

.slideshow-wrapper {
	--resize-parent-width: ${Y}px;
	order: 3;
	margin-bottom: ${Math.max(...this.state.captionHeightMap.filter(U=>U!==void 0))}px;
}


.slide-list {
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform:translateX(0);
    height: var(--slide-height, auto);		
    touch-action: manipulation;
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    justify-content: flex-start;
}

.slide-list:focus {
    outline: 0;
}


/*
slide transition type 
default transition is slide
*/
${this.isSlide?`
.slide {
    visibility:hidden;
	--base-translate: none!important;    
}

.pointer-down .adjacent-slide.slide,
.in-transition .adjacent-slide.slide,
.active-slide.slide {
    visibility: visible;
}

.slideshow-wrapper {
	overflow-y: visible;
	overflow-x: clip;
}


`:""}

${this.isFade?`


.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;

    ${this.state.cancelFadeTransition?`
	  -webkit-transition: none !important;
	  -moz-transition: none !important;
	  -o-transition: none !important;
	  transition: none !important;
    `:`
		transition-timing-function: var(--slideshow-fade-transition-out, cubic-bezier(0.68, 0, 0.68, 0.19));
	    transition-property: opacity;
		transition-duration: ${this.options.speed}s;	
    `}
}

.adjacent-slide.slide {
    display: flex;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
    ${this.state.cancelFadeTransition?"":"transition-timing-function: var(--slideshow-fade-transition-in, cubic-bezier(0.3, 0, 0.4, 1));"}
	opacity: 1!important;
}

	`:""}


${this.isScrub?`
.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;
	transition: opacity .08s cubic-bezier(0.5, 0, 1, 0.5);						


    visibility: hidden;
}

.adjacent-slide.slide {
    visibility: visible;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition: opacity .08s cubic-bezier(0, 0.5, 0.5, 1);
    opacity: 1!important;
}

.slide {
    cursor: ew-resize;
}
	`:""}

/* captions */

.slide {
	--slideshow-caption-opacity: 0;	
}

.in-transition .slide{
    --slideshow-caption-opacity: 0;
}

${this.state.hideCaptionDuringTransition?"":`
.destination-slide.active-slide.slide {
    --slideshow-caption-opacity: 1;
}
`}

${J==0?`
.destination-slide.slide,
.active-slide.slide {
    --slideshow-caption-opacity: 1;
}	
`:""}

.scrubbing .slide {
    --slideshow-caption-opacity: 0;
}

/** default navigation **/
.navigation-wrapper {

    position: absolute;
    left:0;
    right: 0;
    
    z-index: 2;
    height: var(--slide-height, auto);
    opacity: var(--navigation-opacity, 1);

}


 				`}),n&&o.isEditing&&!ne&&g(wz,{...e,onItemResize:this.onItemResize,inTransition:this.state.inTransition||this.state.isDragging,suppressMutation:this.state.isDragging,gallerySpecificAttributes:a?["disable-scroll-animation"]:[],galleryInstance:r}),!l&&this.options.navigation&&this.len>1&&g("div",{className:"navigation-wrapper",part:`slideshow-nav ${_||C?"navigation-active":""}`,children:[this.state.prevNavigation,this.state.nextNavigation]}),l?g("slot",{name:"thumbnails",onClick:this.onThumbnailClick}):g("div",{part:"slides",...ie,onPointerDown:this.onPointerDown,children:j}),g(Vr,{values:{slideHeightPx:L,elWidth:"100%"},style:l?{gridColumn:`1 / span ${le}`}:null,onResize:this.onResize})]},"slideshow-host")},"slideshow-fragment"),this.props.baseNode.shadowRoot),this.props.children]})}getNavigation=()=>{let e=Array.from(this.props.baseNode.children),i=e.find(n=>n.getAttribute("part")=="previous-button"),r=e.find(n=>n.getAttribute("part")=="next-button");return i?i=zu(i,null,{onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,dx),key:"previous-button",part:"previous-button"}):i=g("div",{part:"slideshow-nav-previous-button",class:"slideshow-navigation previous-button",onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,dx),children:g("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),r?r=zu(r,null,{onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,cx),key:"next-button",part:"next-button"}):r=g("div",{part:"slideshow-nav-next-button",class:"slideshow-navigation next-button",onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,cx),children:g("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),{prevNavigation:i,nextNavigation:r}};updateOptions(){let{"adjust-for-captions":e=hi.defaults["adjust-for-captions"].value,"limit-by":i=hi.defaults["limit-by"].value,scale:r=hi.defaults.scale.value,autoplay:n=hi.defaults.autoplay.value,"autoplay-delay":o=hi.defaults["autoplay-delay"].value,"transition-speed":a=hi.defaults["transition-speed"].value,"transition-type":l=hi.defaults["transition-type"].value,navigation:c=hi.defaults.navigation.value,"vertical-align":d=hi.defaults["vertical-align"].value,"horizontal-align":m=hi.defaults["horizontal-align"].value,shuffle:f=hi.defaults.shuffle.value,"show-captions":v=hi.defaults["show-captions"].value,"disable-zoom":b=hi.defaults["disable-zoom"].value,"disable-scroll-animation":_=hi.defaults["disable-scroll-animation"].value,"pause-on-hover":E=hi.defaults["pause-on-hover"].value,"mobile-limit-by":C,"mobile-scale":I,"mobile-adjust-for-captions":N,"mobile-autoplay":D,"mobile-autoplay-delay":F,"mobile-transition-speed":z,"mobile-transition-type":G,"mobile-navigation":Y,"mobile-vertical-align":L,"mobile-horizontal-align":Z,"mobile-shuffle":$,"mobile-show-captions":j,"mobile-pause-on-hover":ie,"auto-height":H=hi.defaults["auto-height"].value,"height-limit":ae=hi.defaults["height-limit"].value,"mobile-auto-height":ee,"mobile-height-limit":J}=this.props;this.props["limit-by"]===void 0&&this.props["auto-height"]!==void 0&&(H==="custom"?(i="height",this.props.scale==null&&this.props["height-limit"]!==void 0&&(r=ae)):H==="fit"?(i="fit",this.props.scale==null&&(r=100)):(i="width",this.props.scale==null&&(r=100))),l=l=="fade"||l=="scrub"?l:"slide";let le=this.props.isMobile,K={adjustForCaptions:le&&N!==void 0?N:e,shuffle:le&&$!==void 0?$:f,autoplay:le&&D!==void 0?D:n,autoPlayDelay:le&&F!==void 0?F:o,speed:le&&z!==void 0?z:a,type:le&&G!==void 0?G:l,navigation:le&&Y!==void 0?Y:c,disableScrollAnimation:_,disableZoom:b,limitBy:le&&C!==void 0?C:i,scale:le&&I!==void 0?I:r,vAlign:le&&L!==void 0?L:d,hAlign:le&&Z!==void 0?Z:m,showCaptions:le&&j!==void 0?j:v,pauseOnHover:le&&ie!==void 0?ie:E};K.speed==0&&K.type==="slide"&&(K.type="fade"),this.options=K,this.isScrub=K.type==="scrub",this.isSlide=K.type==="slide",this.isFade=K.type==="fade";let U=Array.from(this.props.baseNode.children);if(this.mediaItems=Array.from(this.props.baseNode.children).filter(ce=>ce.tagName=="MEDIA-ITEM"),this.len=this.mediaItems.length,this.len>0){if(this.shuffleList=[],this.options.shuffle){for(let be=0;be<this.len;be++)this.shuffleList.push(be);let ce=this.shuffleSeed,fe=0;this.shuffleList=this.shuffleList.sort(be=>(fe++,ce=(ce+9)%10,(Math.sin(fe+2.4)*5+5)%10>ce?-1:1))}}else this.shuffleList=[];let W=this.isScrub?Math.min(nae,(this.len-1)/2):Math.min(rae,(this.len-1)/2),re=W;re=Math.max(1,Math.floor(re)),W=Math.max(1,Math.ceil(W)),this.len==3?(re=1,W=1):this.len==2?re=0:this.len==1&&(re=0,W=0),this.lazyloadPrev=re,this.lazyloadNext=W}setMediaElementProperties=e=>{if(this.len==0)return;let i=[...this.mediaItems],r=this.state.viewportIntersection.position!=="inside"?this.state.viewportIntersection.position:"outside";i.forEach((n,o)=>{let a=e[o]||{},l=a.visibility||!1;delete a.isAdjacent,delete a.visibility,this.state.hasLoaded?a.itemLoad=null:a.itemLoad=this.onMediaLoad;let c=n._props||{};Ao(n,{...c,...a},c,!1,!1),n._setZoomStatus?.(this.options.disableZoom),this.props.usesScrollAnimation&&!this.props["disable-scroll-animation"]&&!this.options.disableScrollAnimation&&n._setScrollTransitionStatus?.(!0),n.assignedSlot?((this.state.lazyloadable||this.state.visible)&&bt(n,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),this.state.visible&&n.slot.replace("slot-","")==this.state.destinationIndex?bt(n,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}):bt(n,"viewportIntersectionChange",{visible:!1,position:r},{bubbles:!1})):bt(n,"viewportIntersectionChange",{visible:!1,position:r},{bubbles:!1})})};componentDidMount(){Array.from(this.props.baseNode.children).filter(r=>{let n=r.assignedSlot;return r.tagName==="MEDIA-ITEM"&&n!==null&&r.getAttribute("hash")==="placeholder"}).forEach(this.onMediaLoad);let i=this.props.pageInfo.getPageData(this.props.baseNode);i.activeSlide!==void 0&&(this.waitingToGoToSlide=void 0,i.activeSlide>=this.len?this.waitingToGoToSlide=i.activeSlide:this.goToSlide(i.activeSlide)),ne||(Ct(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),Ct(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("pointerleave",this.onPointerLeave),window.addEventListener("touchstart",this.onWindowTouchStart))}componentWillUnmount(){this.loadedItems.clear(),clearTimeout(this.scrollRestore),ne||(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),At(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),At(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),window.removeEventListener("touchstart",this.onWindowTouchStart),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("pointerleave",this.onPointerLeave))}onViewportIntersectionChange=e=>{this.setState({visible:e.visible,viewportIntersection:e})};onLazyLoadIntersectionChange=e=>{this.setState(i=>({lazyloadable:i.lazyloadable||e.visible}))};componentDidUpdate(e,i){e.childArray.length!==this.props.childArray.length&&this.waitingToGoToSlide!==void 0&&this.props.childArray.length>=this.len&&(this.goToSlide(this.waitingToGoToSlide),this.waitingToGoToSlide=void 0),e.slideshowLoad!==this.props.slideshowLoad&&this.state.hasLoaded&&this.props.slideshowLoad&&this.props.slideshowLoad(),(i.layoutIncrement!==this.state.layoutIncrement||i.elWidth!==this.state.elWidth||i.slideHeightPx!==this.state.slideHeightPx||i.hasSizes.elWidth!==this.state.hasSizes.elWidth||i.hasSizes.slideHeightPx!==this.state.hasSizes.slideHeightPx)&&this.updateSlideSizes(),i.cancelFadeTransition!==this.state.cancelFadeTransition&&this.state.cancelFadeTransition&&requestAnimationFrame(()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(n=>{n.offsetHeight}),this.setState({cancelFadeTransition:!1})});let r=!1;this.props.thumbnails!=e.thumbnails&&(r=!0,this.onPointerUp(),this.onSlideEnd()),this.props["transition-type"]!==e["transition-type"]&&(this.setState(n=>({destinationIndex:n.activeIndex,cancelFadeTransition:!0})),r=!0,this.onPointerUp(),this.onSlideEnd()),(this.props["show-captions"]!==e["show-captions"]||this.props["mobile-show-captions"]!==e["mobile-show-captions"]&&this.props.isMobile)&&(this.options.showCaptions?(this.onSlideEnd(),this.setState(n=>({...n,layoutIncrement:n.layoutIncrement+1}))):this.setState({captionHeightMap:[]})),(e.isMobile!=this.props.isMobile||e.autoplay!=this.props.autoplay||e["mobile-autoplay"]!=this.props["mobile-autoplay"]&&this.props.isMobile)&&(r=!0),i.pointerOver!==this.state.pointerOver&&this.options.pauseOnHover&&(r=!0),i.visible!=this.state.visible&&(r=!0),i.hasLoaded!==this.state.hasLoaded&&(r=!0),r&&clearTimeout(this.autoplayInterval),r&&this.startAutoplay(),this.isScrub&&(!i.isDragging&&this.state.isDragging?document.body.classList.add("slideshow-scrub-dragging"):!this.state.isDragging&&i.isDragging&&document.body.classList.remove("slideshow-scrub-dragging")),e.adminMode!==this.props.adminMode&&(this.state.inTransition&&this.onSlideEnd(),this.setState({showThumbnails:!1})),this.state.activeIndex!==i.activeIndex&&this.state.activeIndex==this.state.destinationIndex&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.showCaptionsAfterTransitionTimeout=setTimeout(()=>{this.setState({hideCaptionDuringTransition:!1})},80)),(this.state.inTransition!==i.inTransition||this.state.isPointerDown!==i.isPointerDown||this.state.isDragging!==i.isDragging)&&((this.state.inTransition||this.state.isDragging)&&!this.state.hideCaptionDuringTransition&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.setState({hideCaptionDuringTransition:!0})),this.progress=0,cancelAnimationFrame(this.updateSlideTransformAnimationFrame),this.updateSlideTransform())}pause=()=>{this.setState(e=>({inTransition:!1,destinationIndex:e.activeIndex}),()=>{this.onSlideEnd(),clearTimeout(this.autoplayInterval)})};startAutoplay=()=>{this.options.autoplay&&this.state.visible&&this.state.hasLoaded&&!this.options.showThumbnails&&(this.options.pauseOnHover&&!this.state.pointerOver||!this.options.pauseOnHover)&&(clearInterval(this.autoplayInterval),this.autoplayInterval=setTimeout(this.nextSlide,this.options.autoPlayDelay*1e3))};onItemResize=(e,i,r)=>{this.setState(n=>{let o=Array.from(i.children).find(d=>d.getAttribute("slot")==="caption"),a=[...n.captionHeightMap],l=n.captionHeightMap[r],c=0;if(o&&this.options.showCaptions){let d=window.getComputedStyle(o),m=d.getPropertyValue("position");m==="fixed"||m==="absolute"?c=0:d.getPropertyValue("box-sizing")==="content-box"?(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0,c+=parseFloat(d.getPropertyValue("padding-top"))||0,c+=parseFloat(d.getPropertyValue("padding-bottom"))||0,c+=parseFloat(d.getPropertyValue("border-top"))||0,c+=parseFloat(d.getPropertyValue("border-bottom"))||0):(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0)}else c=0;return c!==l?(a[r]=c,{captionHeightMap:a,layoutIncrement:n.layoutIncrement+1}):{layoutIncrement:n.layoutIncrement+1}})};updateSlideSizes=()=>{if(this.len==0)return;let{hasSizes:e}=this.state,{elWidth:i}=this.state;!e.elWidth&&this.cachedElWidth&&(i=this.cachedElWidth);let r=this.mediaItems.map((a,l)=>{let c=a._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},d=c.width,m=c.height,f=m;if(typeof d=="string"&&d.indexOf("%")>-1)f=parseFloat(m)+c.mediaItemSize.padSize+c.mediaSize.padSize||150+c.mediaItemSize.padSize+c.mediaSize.padSize;else{let v=m/d;if(c.mediaSize.padSize>0){let b=((i-c.mediaSize.padSize)*v+c.mediaSize.padSize)/i;f=(i-c.mediaItemSize.padSize)*b+c.mediaItemSize.padSize}else f=(i-c.mediaItemSize.padSize)*v+c.mediaItemSize.padSize}return f}),n=Hz.default.maxBy(r,a=>a||0)||0,o={index:r.indexOf(n),height:n};this.setState({tallestSlide:o})};onResize=(e,i)=>{this.setState(r=>({hasSizes:{...r.hasSizes,[e]:!0},[e]:i}))};handleKeyDown=e=>{switch(e.keyCode){case 39:e.preventDefault(),this.nextSlide();break;case 37:e.preventDefault(),this.prevSlide();break}};onPointerEnter=e=>{this.setState({pointerOver:!0})};onPointerLeave=e=>{this.setState({pointerOver:!1})};scrubAnimate=()=>{let{elWidth:e}=this.state,i=Lz===0?1/this.len:Lz,r=this.pointerX;if(this.state.isPointerDown){this.scrubCounter=0;let o=this.lastPointerX-this.pointerX;this.pointerFrameDeltaX!=0&&(this.lastPointerFrameDeltaX=this.pointerFrameDeltaX),this.pointerFrameDeltaX=o,this.lastPointerFrameDeltaX>0&&this.pointerFrameDeltaX<0?this.firstPointerX=this.pointerX:this.lastPointerFrameDeltaX<0&&this.pointerFrameDeltaX>0&&(this.firstPointerX=this.pointerX)}else this.state.scrubStatus===dx?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+-zz):this.state.scrubStatus===cx?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+zz):this.state.scrubStatus===ol&&(this.pointerFrameDeltaX<0?this.pointerFrameDeltaX=Math.min(0,this.pointerFrameDeltaX+Fz):this.pointerFrameDeltaX=Math.max(0,this.pointerFrameDeltaX+-Fz));if(Math.abs(this.pointerFrameDeltaX)>ux*i*e&&(this.pointerFrameDeltaX>0?this.pointerFrameDeltaX=ux*i*e:this.pointerFrameDeltaX=-(ux*i)*e),this.state.isPointerDown){let o=this.lastPointerX-this.pointerX,a=this.lastPointerX-(this.lastPointerX+this.pointerFrameDeltaX);this.firstPointerX=this.firstPointerX-(o-a)}else this.pointerX=this.lastPointerX+this.pointerFrameDeltaX,r=this.pointerX;if(this.lastPointerX=this.pointerX,this.xDrag=r-this.firstPointerX,Math.abs(this.xDrag/e)>i&&this.len>1){let o=this.xDrag>0?(this.state.activeIndex+1)%this.len:(this.state.activeIndex+-1+this.len)%this.len;this.setState({destinationIndex:o,activeIndex:o}),this.xDrag=9e9,this.scrubCounter=0,this.firstPointerX=this.pointerX}clearTimeout(this.autoplayInterval),this.state.scrubStatus==ol&&this.scrubCounter>=30&&!this.state.isPointerDown?(this.setState({scrubAnimating:!1}),this.scrubCounter=0,this.options.autoplay&&(this.autoplayInterval=setTimeout(this.nextSlide,Math.max(100,this.options.autoPlayDelay*1e3-1e3)))):(this.scrubCounter++,this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate))};startScrubDelta=(e,i)=>{if(e){if(e.button==2)return;e.preventDefault()}!this.isScrub||this.len<2||(this.setState({scrubStatus:i}),this.scrubCounter=0,this.firstPointerX=this.lastPointerX=this.pointerX=0,this.lastPointerFrameDeltaX=this.pointerFrameDeltaX=0,this.xDrag=0,this.setState({scrubAnimating:!0}),cancelAnimationFrame(this.scrubAnimationRequest),this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate),window.addEventListener("pointerup",this.onScrubPointerUp),window.addEventListener("pointercancel",this.onScrubPointerUp))};onScrubPointerUp=e=>{this.setState({scrubStatus:ol}),window.removeEventListener("pointerup",this.onScrubPointerUp),window.removeEventListener("pointercancel",this.onScrubPointerUp)};onClickCapture=e=>{this.cancelClick&&e.preventDefault()};onPointerDown=e=>{if(this.cancelClick=!1,e.defaultPrevented)return;let i=e.target.closest(".caption");i&&this.props.baseNode.contains(i)||!this.slideListRef.current||e.button==2||(clearTimeout(this.autoplayInterval),this.firstPointerX=this.lastPointerX=this.pointerX=e.clientX,this.pointerFrameDeltaX=0,this.xDrag=0,this.initialXTransform=this.isSlide?this.xTransform:0,this.setState(r=>({isPointerDown:!0,initialActiveIndex:r.activeIndex})),window.cancelAnimationFrame(this.scrubAnimationRequest),this.isScrub&&(this.scrubAnimationRequest=window.requestAnimationFrame(this.scrubAnimate)),window.addEventListener("pointermove",this.onWindowPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp))};getSlideListStyles=()=>{let e="translateX(0)",i="translateX(0)";return this.isSlide&&(e=`translateX(${Math.round((this.state.elWidth*(-1+(1-this.lazyloadPrev))+this.xTransform)*2)/2}px)`,i=`translateX(${-Math.round(this.xTransform*2)/2}px)`),{"--slideshow-caption-transform":i,transform:e}};updateSlideTransform=e=>{let{destinationIndex:i,activeIndex:r,elWidth:n}=this.state,o="";if(this.progress===void 0&&(this.progress=0),this.isSlide&&(this.state.inTransition||this.state.isPointerDown||this.state.isDragging)){o="transform";let l=this.xDrag+this.initialXTransform,c=0,d=l,m=n;i>r?m=-n:i<r?m=n:m=0;let f=0;if((!e||e==0)&&(e=0,this.lastTimestamp=0,f=0),this.lastTimestamp==0&&(this.lastTimestamp=e||0),f=e-this.lastTimestamp,this.lastTimestamp=e,this.state.isDragging||this.state.isPointerDown){if(this.state.isDragging){this.dragPxPerSecond===void 0&&(this.dragPxPerSecond=0),this.lastDragX===void 0&&(this.lastDragX=this.pointerX);let v=(this.pointerX-this.lastDragX)*f;v!=0&&(v>0&&this.dragPxPerSecond>0?v<this.dragPxPerSecond&&(v=this.dragPxPerSecond*.95+v*.05):v<0&this.dragPxPerSecond<0&&v>this.dragPxPerSecond&&(v=this.dragPxPerSecond*.95+v*.05),this.dragPxPerSecond=v),this.lastDragX=this.pointerX}this.progress=0}else{if(this.state.isPointerDown||(this.progress=this.progress+f),this.dragPxPerSecond!==void 0&&this.dragPxPerSecond!==0){this.dragPxPerSecond<0?this.dragPxPerSecond=Math.min(-800,this.dragPxPerSecond):this.dragPxPerSecond=Math.max(800,this.dragPxPerSecond);let v=n/Math.abs(this.dragPxPerSecond);c=lb(this.progress/(Math.min(v,this.options.speed)*1e3))}else c=ab(this.progress/(this.options.speed*1e3));l=c*m+(1-c)*d}l=Math.min(Math.max(-n,l),n),this.xTransform=l,c>=1&&!(this.state.isPointerDown||this.state.isDragging)?(this.dragPxPerSecond=void 0,this.lastDragX=void 0,this.onSlideEnd()):this.updateSlideTransformAnimationFrame=requestAnimationFrame(this.updateSlideTransform)}else this.isScrub?(this.xTransform=0,this.progress=0):this.isFade&&(this.xTransform=0,this.progress=0);let a=this.getSlideListStyles();this.slideListRef.current&&a.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=a.transform,this.styleRef.current&&(this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",a["--slideshow-caption-transform"]||"translateX(0px)"),sn()&&Array.from(this.props.baseNode.children).forEach(l=>{l.nodeName==="MEDIA-ITEM"&&l.assignedSlot&&l._forceRedraw?.()})),this.slideListRef.current.style.willChange=o)};onPointerUp=e=>{window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onWindowPointerMove),clearTimeout(this.autoplayInterval),cancelAnimationFrame(this.scrubPointerAnimationRequest);let i=!1,r=!1,n=!1;if(e){let l=Array.from(e.composedPath()).some(c=>c.getAttribute?.("part")?.includes("media"));if(l&&e.target.tagName==="MEDIA-ITEM"&&e.target.getAttribute("browser-default")=="true"){let c=e.target.getFileType?.()??"";(c.startsWith("vimeo")||c.startsWith("youtube")||c=="video")&&(n=!0)}e.target?.closest("a, [href]")&&(i=!0),e.target?.closest("media-item.zoomable")&&l&&(r=!0),!i&&!r&&e?.preventDefault()}e?.pointerType==="touch"&&!i&&e.type!=="pointercancel"&&e.target.nodeName==="MEDIA-ITEM"&&e.target?.shadowRoot?.querySelector(".sizing-frame")?.click();let o=!1,a=!1;this.setState(l=>{let{elWidth:c,scrubStatus:d,isPointerDown:m,isDragging:f,inTransition:v,finishingTransition:b,scrubAnimating:_,activeIndex:E,destinationIndex:C}=l;return!l.isDragging&&(i||r||n)?o=!1:this.isScrub?(v=!1,b=!1,l.isDragging?_=!0:Math.abs(this.xDrag)<8&&(_=!1,o=!0)):this.isSlide&&this.options.speed!=0?l.isDragging?(b=!0,v=!0,o=!1):l.inTransition||l.finishingTransition?(o=!1,b=!0,v=!0):(o=!0,b=!1,v=!1):this.isFade&&this.options.speed!=0?l.isDragging?o=!1:o=!0:this.options.speed==0&&(l.isDragging?(v=!1,o=!1):(v=!1,o=!0),E=C),o&&e&&(this.cancelClick=!0),{elWidth:c,scrubStatus:ol,isPointerDown:!1,isDragging:!1,inTransition:v,destinationIndex:C,activeIndex:E,scrubAnimating:_}},()=>{this.isFade&&a&&this.setState({cancelFadeTransition:!0}),o&&(this.onSlideEnd(),this.nextSlide())})};onWindowTouchStart=e=>{if(e.target.closest("gallery-slideshow")!==this.props.baseNode){if(e.target.hasAttribute("href")){this.pause();let i=()=>{document.body.contains(this.props.baseNode)&&this.startAutoplay(),window.removeEventListener("touchend",i)};window.addEventListener("touchend",i)}this.setState({pointerOver:!1})}};onWindowPointerMove=e=>{this.pointerX=e.clientX,this.xDrag=this.pointerX-this.firstPointerX,this.setState(i=>{let{activeIndex:r,destinationIndex:n,isDragging:o,initialActiveIndex:a}=i,l=Math.abs(this.xDrag/i.elWidth),c=i.elWidth*(-2+(1-this.lazyloadNext)),d=i.elWidth*(1-this.lazyloadPrev);if(!i.isDragging&&i.isPointerDown&&Math.abs(this.xDrag)>iae&&(o=!0,this.isSlide&&i.inTransition&&this.len>1&&(i.destinationIndex>i.activeIndex&&this.xDrag<0?(a++,r++,n++,this.xTransform=this.xTransform+i.elWidth,this.initialXTransform=this.initialXTransform+i.elWidth):i.destinationIndex<i.activeIndex&&this.xDrag>0&&(a--,r--,n--,this.xTransform=this.xTransform-i.elWidth,this.initialXTransform=this.initialXTransform-i.elWidth),a=(r+this.len*3)%this.len,r=(r+this.len*3)%this.len,n=(n+this.len*3)%this.len),this.cancelClick=!0),o){let m=this.xDrag<0?r+1:r-1;l>tae&&this.len>1?(Math.abs(m-i.initialActiveIndex)<2||this.isScrub)&&(n=m):this.isScrub||(n=i.initialActiveIndex),n<-1&&(n=n+this.len)}if(i.activeIndex!==r||i.destinationIndex!==n||i.isDragging!==o||i.initialActiveIndex!==a)return{...i,activeIndex:r,destinationIndex:n,initialActiveIndex:a,isDragging:o};{let m=this.getSlideListStyles();return this.slideListRef.current&&(this.slideListRef.current.style.transform=m.transform,this.styleRef.current&&this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",m["--slideshow-caption-transform"]||"translateX(0px)")),null}})};nextSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex+1;return r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=ol):r.destinationIndex=n,this.xDrag=0,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};prevSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex-1;return n<-1&&(n=n+this.len),r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=ol):r.destinationIndex=n,this.xDrag=0,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};onThumbnailClick=e=>{if(this.props.adminMode)return;e.preventDefault(),e.stopPropagation();let i=e?.target?.closest?.("media-item")||null;if(i){let r=Array.from(this.props.baseNode.children).indexOf(i);this.setState({destinationIndex:r,activeIndex:r},this.hideThumbnails)}};onSlideEnd=()=>{clearTimeout(this.autoplayInterval),this.isFade&&this.slideListRef.current&&this.state.inTransition&&this.setState({cancelFadeTransition:!0}),this.setState(e=>{this.xTransform=0;let i=(e.destinationIndex+this.len+this.len+this.len)%this.len;return{...e,activeIndex:i,destinationIndex:i,inTransition:!1}},()=>{if(this.isSlide&&this.slideListRef.current&&(this.slideListRef.current.style.willChange=""),this.props.afterSlideChange){let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;this.props.afterSlideChange(this.state.activeIndex,i)}}),this.startAutoplay()};onSlideOpacityTransitionStart=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")};onSlideOpacityTransitionEnd=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")&&this.onSlideEnd()};getWrapAroundDistanceFromIndex=(e,i,r)=>{let n=r*.5,o=n-Math.abs((e+-i)%(2*n)-n);return o<-n&&o<0&&(o=o+r),o};makeMediaItemAttributes=()=>{if(this.len==0)return;let{showThumbnails:e,elWidth:i,slideHeightPx:r,activeIndex:n,actualCardSize:o,destinationIndex:a}=this.state,{shuffle:l,limitBy:c,scale:d,adjustForCaptions:m}=this.options,f=l&&!e,v=[];for(let b=0;b<this.len;b++){let _=(b+this.len)%this.len,E=_;f&&(E=this.shuffleList[_]);let C=`slot-${E}`,I=Math.abs(this.getWrapAroundDistanceFromIndex((E+this.len)%this.len,n,this.len))<3,N={itemDragStart:this.onDragStart,itemResize:(D,F)=>{this.onItemResize(D,F,E)},drag:!1,rotation:"0",scale:"100","limit-by":"width",isAdjacent:I,visibility:n==_,slot:e?"thumbnails":C};v.push(N)}return v};onDragStart=e=>{this.state.showThumbnails||(e.preventDefault(),e.stopPropagation())};onMediaLoad=e=>{let i=Array.from(this.props.baseNode.children).filter(n=>{let o=n.assignedSlot;return n.tagName==="MEDIA-ITEM"&&o!==null});this.loadedItems.has(e)||this.loadedItems.add(e);var r=this.isFade?Math.min(i.length,3):i.length;this.loadedItems.size>=r&&!this.state.hasLoaded&&(this.setState({hasLoaded:!0}),setTimeout(()=>{this.setState({initialShowNavigation:!1})},this.props?.["navigation-hide-delay"]*1e3||1500),this.props.slideshowLoad&&this.props.slideshowLoad())};renderSlides=()=>{let{elWidth:e,destinationIndex:i,activeIndex:r,inTransition:n,showThumbnails:o}=this.state,{xDrag:a,initialXTransform:l}=this,c=[],m=(l%e+a>0||i<r)&&this.isSlide&&this.len==2;for(let f=-this.lazyloadPrev;f<this.lazyloadNext+1;f++){let v=f;m&&(v=v+-1);let b=(v+r+this.len*2)%this.len,_="slot-"+b,E=!1,C=!1,I={};I.className=`slide ${this.options.type}-transition`,(i+this.len)%this.len==b&&(C=!0,I.className+=" destination-slide"),(r+this.len)%this.len==b&&(E=!0,I.className+=" active-slide"),I.part="slide",I.style={},o||(I.style={width:`${e}px`,transform:m?"translateX("+-e+"px)":null}),this.isFade&&(I.onTransitionStart=N=>{this.onSlideOpacityTransitionStart(N,v)},I.onTransitionEnd=N=>{this.onSlideOpacityTransitionEnd(N,v)}),v==-1&&(I.part+=" "+this.options.type+"-slide-previous"),v==1&&(I.part+=" "+this.options.type+"-slide-next"),v>=-1&&v<=1?(I.className+=" adjacent-slide",I.part+=" "+this.options.type+"-slide-adjacent"):I.className+=" non-adjacent-slide",I.slot=_,c.push(Tt("div",{...I,key:"slot_"+_},g("slot",{name:_})))}return c};goToSlide=e=>{e=e%this.len||0,!(isNaN(e)||this.state.destinationIndex===e)&&this.setState({showThumbnails:!1,destinationIndex:e,activeIndex:e,inTransition:!1},()=>{this.updateSlideTransform()})};getActiveSlide=()=>{let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;return[this.state.activeIndex,i]};showThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;this.setState({showThumbnails:!0,inTransition:!1},()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("show-thumbnails",{composed:!0,bubbles:!1}))})};hideThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;if(window.getSelection().rangeCount>0){var r=window.getSelection()?.getRangeAt?.(0)?.intersectsNode(this.props.baseNode);r&&window.getSelection()?.removeAllRanges()}this.initialXTransform=0,this.xTransform=0,this.setState(n=>({destinationIndex:n.activeIndex,showThumbnails:!1,inTransition:!1,finishingTransition:!1}),()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("hide-thumbnails",{composed:!0,bubbles:!1}))})}};Zm.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0};oae=Ot(To(De((t,e)=>({isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,usesScrollAnimation:t.siteDesign.images.scroll_animation}))(Zm)));Zt(oae,"gallery-slideshow",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","slideshowLoad","afterSlideChange","thumbnails","transition-type","autoplay","autoplay-delay","transition-speed","navigation","shuffle","height-limit","auto-height","vertical-align","horizontal-align","adjust-for-captions","show-captions","pause-on-hover","disable-scroll-animation","mobile-adjust-for-captions","mobile-thumbnails","mobile-transition-type","mobile-autoplay","mobile-autoplay-delay","mobile-transition-speed","mobile-navigation","mobile-shuffle","mobile-height-limit","mobile-auto-height","mobile-vertical-align","mobile-horizontal-align","mobile-show-captions","mobile-pause-on-hover"])});var qz,px,hx,Uz,Bz=M(()=>{Ee();qe();qz=pe(we(),1);Jm();pt();_i();jm();Ne();Bi();Ui();oe();px={hash:"F1332270929626196865795426877515",id:1234,name:"scape.jpg",width:4e3,height:2250,file_type:"jpg",mime_type:"image/jpg",is_image:!0,is_video:!1,is_url:!1},hx=class extends se{constructor(e){super(e),this.state={isMobile:Ye.data.mobile.active,loaded:!1,showNavigation:!0,navigationContainer:null,backdropShadowRoot:null,navigationElement:null},this.containerRef=me(),this.wallpaperRef=me(),this.slideshowRef=me(),this.navigationRef=me()}getSettings=()=>{let e={};for(let[i,r]of Object.entries($d.default.defaults))this.props.settings?.hasOwnProperty(i)?e[i]=this.props.settings[i]:e[i]=r.value;return e};render(){let{showNavigation:e,navigationContainer:i,isMobile:r}=this.state,{modelArray:n,singleModel:o,visibility:a,wrapperDimensions:l}=this.props,c=this.getSettings(),d=Qt(c.margin,"%"),m="";d[1]==="%"?(d[0]=Math.min(this.props.dimensions.width,this.props.dimensions.height)*parseFloat(d[0])*.01,d[1]="px"):d[1].includes("rem")&&r&&(d[0]="calc( var(--mobile-padding-offset, 1) * "+d[0]+"rem )",d[1]="");let f;d[1]==="px"?f=this.props.dimensions.height+.5-d[0]*2+"px":d[0]?.indexOf?.("calc(")>-1?f=`calc( ${this.props.dimensions.height+.5}px - ( 2 *  ( ${d[0].replace("calc(","")} ) )`:f=`calc( ${this.props.dimensions.height+.5}px - ${d[0]*2+d[1]} )`;let v=c["image-fit"]=="fit",b={autoplay:c.autoplay,"transition-speed":c["transition-speed"],"transition-type":c["transition-type"],"autoplay-delay":c["autoplay-delay"],"pause-on-hover":!1,"limit-by":"height",shuffle:c.shuffle,navigation:!1,scale:f,"show-captions":!1,slideshowLoad:this.onFirstLoad,afterSlideChange:this.onAfterSlideChange,"disable-scroll-animation":!0},_=this.props.settings.alignments||{},E="";for(let[N,D]of Object.entries(_))E+=` media-item[hash="${N}"] { --position-image: ${D.x}% ${D.y}% }`;let C=null,I=null;return n.length>0&&(I=c.navigation&&c["cycle-images"]&&n.length>1?g(te,{children:[g("div",{className:`backdrop ${this.props.settings.clipScroll?"clip":""}`,children:g("div",{className:"wallpaper-slideshow",ref:this.navigationRef,children:this.state.navigationElement?Ge(g(te,{children:[g("style",{children:`
:host {
	width: ${this.props.dimensions.width}px;
}

[part="slideshow-nav"] {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none; 

    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 1001;
    

    opacity: ${this.state.loaded&&e?"1":"0"};

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}


							`}),g("div",{part:"slideshow-nav",children:[g("div",{part:"slideshow-nav-previous-button",onClick:this.prevSlide,children:g("svg",{part:"slideshow-nav-prev",class:"left-arrow",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})}),g("div",{part:"slideshow-nav-next-button",onClick:this.nextSlide,children:g("svg",{part:"slideshow-nav-next",class:"next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})})]})]}),this.state.navigationElement.shadowRoot):null})}),g("div",{className:"page-layout",children:g("div",{className:"page-content"})})]}):null,C=c["cycle-images"]&&n.length>1?g("gallery-slideshow",{...b,className:"image-container multiple-item",ref:this.slideshowRef,children:n.map((N,D)=>g("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:N.hash,muted:"true",autoplay:N.is_video||N.is_url,loop:!0,part:"media-item"},"slide-"+D))}):g("div",{className:"image-container single-item",children:g("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:o?.hash||"placeholder",model:o,part:"media-item",muted:"true",autoplay:o.is_video,loop:"true","force-visible":this.props.visibility.visible,itemLoad:this.onFirstLoad,"limit-by":v?"height":"width",scale:v?f:"100%"})})),g("div",{className:"wallpaper",ref:this.wallpaperRef,children:this.state.backdropShadowRoot&&Ge(g(te,{children:[g("style",{children:`:host {
						background-color: ${c["bg-color"]||"transparent"};
					    position: absolute;
					    inset: 0;
					}

					gallery-slideshow media-item figcaption.caption {
					    display: none!important;
					}

					gallery-slideshow media-item::part(sizing-frame) {
					    margin: auto 0;
					    flex-grow: 0;
					}

					gallery-slideshow media-item::part(frame) {
					    display: flex;
					    flex-wrap: wrap;
					    width: ${v?"var(--item-width)":"100%"}; 
					    height: var(--slide-height);
					    align-content: center;
					    align-self: center;
					}					

					.inner {
					    position: absolute;
					    inset: ${d.join("")};
					}

					.image-container {
						opacity: ${c.opacity};
						inset: 0;
					    width: 100%;
					    height: 100%;
					    position: absolute;
					    text-align: center;
					    z-index: 2;
					}

					.image-container.single-item {
						display: flex;
						align-content: center;
						justify-content: center;
						position: absolute; 
						margin: auto;
						inset: 0;
					}

					.image-container.single-item media-item {
						margin: auto;
						max-width: auto;
					}

					.image-container.single-item media-item::part(figure){
						height: 100%;
					}				

					gallery-slideshow, media-item {
						transform: translateX(0)!important;
					}

			

					${v?`


						`:`			

						media-item::part(sizing-frame),
						media-item::part(frame) {
						    margin: 0;
						    width: 100%;
						    height: ${f};
						    pointer-events:none;
						    display: block;
						    padding: 0;
						}		

						media-item::part(media),
						media-item::part(video) {
						    object-position: var(--position-image, center center);                  
						    pointer-events: auto;
						    display: block;
						    margin: 0;
						    width: 100%;
						    height: 100%;
						    position: absolute;					    
						    top: 0;
						    left: 0;
						}						
					`}


					${E}`}),I&&i&&Ge(I,i),g("div",{className:"overlay"}),g("div",{className:"inner",ref:this.containerRef,children:C})]}),this.state.backdropShadowRoot)})}prevSlide=e=>{this.hideNavigation.cancel(),e?.preventDefault(),this.slideshowRef.current?.prevSlide()};nextSlide=e=>{e?.preventDefault(),this.hideNavigation.cancel(),this.slideshowRef.current?.nextSlide()};onPointerMove=e=>{!this.state.showNavigation&&this.props.inViewport&&this.setState({showNavigation:!0}),e&&e.target&&this.state.navigationContainer?.contains(e.target)?this.hideNavigation.cancel():this.hideNavigation()};hideNavigation=qz.default.debounce(()=>{this.setState({showNavigation:!1})},1500);onMobileChange=e=>{this.setState({isMobile:e})};renderNavigation(){if(!this.props.backdropRef.current)return;if(this.props.modelArray.length>1&&this.props.settings["cycle-images"]&&!this.state.navigationContainer&&this.props.settings.navigation){let i=document.createElement("div");i.classList.add("wallpaper-navigation"),this.props.backdropRef.current.closest(".page").appendChild(i),this.setState({navigationContainer:i})}else this.state.navigationContainer&&this.state.navigationContainer.remove(),this.setState({navigationContainer:null,navigationElement:null})}componentDidMount(){Ye.on("mobile-change",this.onMobileChange),this.wallpaperRef.current&&!this.wallpaperRef.current.shadowRoot&&this.wallpaperRef.current.attachShadow({mode:"open"}),this.setState({backdropShadowRoot:this.wallpaperRef.current?.shadowRoot}),this.renderNavigation(),window.addEventListener("pointermove",this.onPointerMove),setTimeout(()=>{this.setMediaElementProperties()},100)}componentWillUnmount(){Ye.off("mobile-change",this.onMobileChange),this.hideNavigation.cancel(),this.state.navigationContainer&&this.state.navigationContainer.remove(),window.removeEventListener("pointermove",this.onPointerMove)}componentDidUpdate(e,i){let r=this.getSettings();if((this.props.settings.navigation!==e.settings.navigation||this.props.settings["cycle-images"]!==e.settings["cycle-images"]||e.modelArray?.length==1&&this.props.modelArray?.length>1)&&(this.renderNavigation(),this.onPointerMove()),this.props.settings.activeImage!==e.settings.activeImage&&this.props.settings["cycle-images"]&&this.slideshowRef.current){let n=this.slideshowRef.current.querySelector('[hash="'+this.props.settings.activeImage+'"]');if(n){let o=Array.from(this.slideshowRef.current.children).indexOf(n);this.slideshowRef.current.goToSlide(o)}}this.props.visibility.visible&&this.containerRef.current&&(e.visibility.visible!==this.props.visibility.visible||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.setMediaElementProperties(),this.navigationRef.current!==this.state.navigationElement&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current}))}setMediaElementProperties=()=>{this.slideshowRef.current&&bt(this.slideshowRef.current,"viewportIntersectionChange",{visible:this.props.visibility.visible,position:this.props.visibility.position},{bubbles:!1})};onFirstLoad=e=>{if(this.slideshowRef.current){let i=this.slideshowRef.current.getActiveSlide();this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:i[0],mediaItem:i[1]},composed:!1,bubbles:!1}))}this.state.loaded||(this.setState({loaded:!0,showNavigation:!0}),this.props.onLoad&&this.props.onLoad())};onAfterSlideChange=(e,i)=>{this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:e,mediaItem:i},composed:!1,bubbles:!1}))}},Uz=De((t,e)=>{let i=Ke.getMediaByParent(t)[e.id],r=i.some(a=>a.loading);i=i.filter(a=>!a.loading&&!a.is_deleted&&(a.is_video||a.is_image));let n=null,o=e.settings?.activeImage||null;return o===px.hash?(n=px,i.push(n)):(o&&(n=i.find(a=>a.hash==o)),n||(n=i[0])),!n&&!r&&i.length==0&&(n=px,i.push(n)),e.settings.excluded&&(i=i.filter(a=>e.settings.excluded.indexOf(a.hash)==-1),i.length==1&&e.settings["cycle-images"]&&(n=i[0])),e.settings.order&&i.sort(function(a,l){return e.settings.order.indexOf(a.hash)<e.settings.order.indexOf(l.hash)?-1:1}),{singleModel:n,modelArray:i}})(hx)});var EAe,fx,Wz,Vz=M(()=>{Ee();qe();EAe=pe(we(),1);pt();_i();jm();oe();fx=class extends se{constructor(e){super(e),this.state={loaded:!1,counter:0,shadowRootRef:null},this.gradientElementRef=me()}render(){let{visibility:e,dimensions:i}=this.props,{counter:r}=this.state,n={};for(let[re,ce]of Object.entries(jd.default.defaults))this.props.settings?.hasOwnProperty(re)?n[re]=this.props.settings[re]:n[re]=ce.value;let{repeat:o,rotation:a,scale:l,smoothness:c,"animation-speed":d,"pos-x":m,"pos-y":f,"gradient-type":v,"color-one":b,"color-two":_,"color-three":E,"color-one-active":C,"color-two-active":I,"color-three-active":N}=n;b=b||"transparent",_=_||"transparent",E=E||"transparent",f=f+50,m=m+50,l=parseFloat(l)/100,c=parseFloat(c)/100,a=parseInt(a);let D=d>0;d=Math.abs(d/100),d=d*d,d=D?d:-d;let F=d!==0,z=F&&v=="linear"&&o,G=F&&v=="radial"&&o,Y=d>0?d*120+(1-d)*2400:Math.abs(d)*120+(1-Math.abs(d))*2400,L=(1-Math.abs(d))*40+Math.abs(d)*4,Z=r%Y/Y;d>0&&(Z=1-Z);let $=0,j=G?Z*100*l:0,ie=[];C&&ie.push(b),I&&ie.push(_),N&&ie.push(E);let H="",ae="",ee="",J=0,le=0,K="",U="",W=[];if(ie.length!=0)if(ie.length==1)H+=`background-color: ${ie[0]}`;else if(ie.length==2)if(o){l=(1-c)*l+l*c;let re=(100/4*1+-c*(100/4))*l-(1-c)*(100/5)*l;W[0]=0+j,W[1]=(100/4*1+c*(100/4))*l-(1-c)*(100/5)*l+-re+j,W[2]=(100/4*3+-c*(100/4))*l-(1-c)*(100/5)*l+-re+j,W[3]=(100/4*3+c*(100/4))*l-(1-c)*(100/5)*l+-re+j,W[4]=100*l+j}else W[0]=0,W[1]=l*100+-(l*100)*c,W[2]=l*100+(1-l)*100*c,W[3]=100;else if(o){l=(1-c)*l+l*c;let re=(100/6*1+-c*(100/6))*l-(1-c)*(100/7)*l;W[0]=0+j,W[1]=(100/6*1+c*(100/6))*l-(1-c)*(100/7)*l+-re+j,W[2]=(100/6*3+-c*(100/6))*l-(1-c)*(100/7)*l+-re+j,W[3]=(100/6*3+c*(100/6))*l-(1-c)*(100/7)*l+-re+j,W[4]=(100/6*5+-c*(100/6))*l-(1-c)*(100/7)*l+-re+j,W[5]=(100/6*5+c*(100/6))*l-(1-c)*(100/7)*l+-re+j,W[6]=100*l+j}else l=(1-c)*3*l+l*c,W[0]=100/6*0+c*(100/6)*0,W[1]=100/6*2+-c*(100/6)*2,W[2]=100/6*2+c*(100/6)*1,W[3]=100/6*4+-c*(100/6)*1,W[4]=100/6*4+c*(100/6)*2,W[5]=100/6*6+-c*(100/6)*0,W[0]=Math.max(W[0]*l+50*(1-l),0),W[1]=Math.max(W[1]*l+50*(1-l),0),W[2]=W[2]*l+50*(1-l),W[3]=W[3]*l+50*(1-l),W[4]=Math.min(W[4]*l+50*(1-l),100),W[5]=Math.min(W[5]*l+50*(1-l),100);if(ie.length>1){H="background-image: ",H+=o?"repeating-":"",H+=v=="linear"?`linear-gradient( ${a+180}deg`:`radial-gradient( circle at ${m}% ${f}%`,ae=ee="background-position: ";let re=[];if(ie.length==2?o?re=[0,1,1,0,0]:re=[0,0,1,1]:o?re=[0,1,1,2,2,0,0]:re=[0,0,1,1,2,2],z?W.forEach((ce,fe)=>{let be=ie[re[fe]]||ie[0];H+=`, ${be} ${ce/2}%`}):W.forEach((ce,fe)=>{let be=ie[re[fe]]||ie[0];H+=`, ${be} ${ce}%`}),H+=")",z){let ce=(a+90)*(Math.PI/180),fe=i.width/i.height,be=Math.cos(ce),Te=Math.sin(ce),_e=W[W.length-1]+"%";be<0?(ee+="0% ",ae+=_e+" "):(ee+=_e+" ",ae+="0% "),Te<0?(Te*=-1,ee+="0%;",ae+=_e+";"):(ee+=_e+";",ae+="0%;")}}return g("div",{className:"gradient",ref:this.gradientElementRef,children:this.state.shadowRoot&&Ge(g("style",{children:`:host {
						${H};
					    position: absolute;
					    top: 0;
					    left: 0;
					    right: 0;
					    bottom: 0;
					    margin: auto;
					    background-position: 0 0;
					    background-size: ${z?"200% 200%;":"100% 100%;"}
					    ${z&&"will-change: background-position, background-image;"}
					    ${z&&"animation: slideAnimation "+L+"s linear infinite "+(d<0?"reverse":"normal")+";"}
					}

					${z?`
					@keyframes slideAnimation {
						0% {
							${ae}
						}

						100% {
							${ee}
						}
					}
					`:""}
					`}),this.state.shadowRoot)})}componentDidUpdate(e,i){(this.props.settings.repeat!==e.settings.repeat||this.props["animation-speed"]!==e["animation-speed"])&&(cancelAnimationFrame(this.animFrame),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)))}componentWillUnmount(){cancelAnimationFrame(this.animFrame)}draw=()=>{this.setState(e=>({counter:e.counter+1}),()=>{this.animFrame=requestAnimationFrame(this.draw)})};componentDidMount(){this.gradientElementRef.current&&!this.gradientElementRef.current.shadowRoot&&this.gradientElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.gradientElementRef.current?.shadowRoot}),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)),this.props.onLoad&&this.props.onLoad()}onFirstLoad=e=>{}},Wz=fx});var NAe,tp,mx,ip,sae,aae,gx,vx,$z,yx=M(()=>{Ee();NAe=pe(we(),1);Ne();Wi();bz();Bz();Vz();Ui();oe();ne||(mx=new IntersectionObserver(function(t){t.forEach(function(e){let i="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?i="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(i="below"),bt(e.target,"backdropContentViewportChange",{detail:{visible:e.isIntersecting,position:i},target:e.target})})},{root:document,rootMargin:"0px",threshold:[0,1]}),tp=new IntersectionObserver(function(t){t.forEach(function(e){let i="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?i="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(i="below"),bt(e.target,"backdropWrapperViewportChange",{detail:{visible:e.isIntersecting,position:i},target:e.target})})},{root:document,rootMargin:window.screen.height+"px 0px",threshold:[0,1]}),ip=new ResizeObserver(t=>{t.forEach(e=>{bt(e.target,"backdropContentResize",{detail:{width:e.contentRect.width,height:e.contentRect.height},target:e.target})})}));sae=["wallpaper","gradient","legacy/ripple","legacy/slitscan","legacy/badtv","legacy/gmaps","legacy/halftone","legacy/kaleidoscope","legacy/morphovision","legacy/parallax","legacy/pixelation","legacy/polygon_engine","legacy/refraction","legacy/ripple","legacy/slitscan","legacy/video","legacy/wave"],aae={wallpaper:Uz,gradient:Wz},gx={};sae.forEach(t=>{t.startsWith("legacy")?gx[t]=yz:gx[t]=aae[t]});vx=class extends se{constructor(e){super(e),this.backdropRef=me(),this.backdropWrapperRef=me(),this.state={loaded:0,wrapperDimensions:{width:800,height:800},dimensions:{width:800,height:800},visibility:{visible:!1,position:"inside"},innerVisibility:{visible:!1,position:"inside"},wrapperVisibility:{visible:!1,position:"inside"},viewportVisibility:{visible:!1,position:"inside"}}}onViewportIntersectionChange=e=>{this.setState({viewportVisibility:e.detail})};onIntersectionChange=e=>{e.target==this.backdropRef.current?this.setState({innerVisibility:e.detail}):this.setState({wrapperVisibility:e.detail})};onResize=e=>{e.target==this.backdropRef.current?this.setState({dimensions:e.detail}):this.setState({wrapperDimensions:e.detail})};render(e,i){let{settings:r,id:n}=this.props,o=gx[r.activeBackdrop];if(!o)return r.activeBackdrop!=="none"&&console.warn(`Error: Selected Backdrop mode "${r.activeBackdrop}" not found`),null;let a=r.backdropSettings?.[r.activeBackdrop]||{},l=a.clipScroll==!0;return g("div",{className:`backdrop ${l?"clip":""}`,ref:this.backdropWrapperRef,children:[g("div",{className:`backdrop-contents ${this.state.visibility.visible?"visible":""} ${this.state.visibility.position} ${this.state.loaded>0?"loaded":""}`,ref:this.backdropRef,style:{"--backdrop-width":this.state.wrapperDimensions.width+"px","--backdrop-height":this.state.wrapperDimensions.height+"px"},children:g(o,{...this.props,wrapperDimensions:this.state.wrapperDimensions,backdropRef:this.backdropRef,id:this.props.id,path:r.activeBackdrop,settings:a,dimensions:this.state.dimensions,visibility:this.state.visibility,inViewport:this.state.viewportVisibility.visible,onLoad:this.onLoad})}),g(So,{baseNodeRef:this.backdropWrapperRef})]})}onLoad=e=>{let i=this.backdropRef.current.querySelector("[data-backdrop]");i&&i.removeAttribute("style"),e&&(e.preventDefault(),e.stopPropagation()),this.setState(r=>({loaded:r.loaded+1})),setTimeout(()=>{this.fireBackdropLoadComplete()})};fireBackdropLoadComplete=()=>{this.backdropLoadCompleteFired||(this.backdropLoadCompleteFired=!0,window.dispatchEvent(new CustomEvent("backdrop-load-complete",{bubbles:!0,composed:!0,detail:{}})))};componentDidUpdate(e,i){if(this.state.innerVisibility!==i.innerVisibility||this.state.wrapperVisibility!==i.wrapperVisibility){let n=(this.props.settings.backdropSettings?.[this.props.settings.activeBackdrop]||{}).clipScroll==!0;this.setState({visibility:n?{...this.state.wrapperVisibility}:{...this.state.innerVisibility}})}e.settings?.activeBackdrop!==this.props.settings?.activeBackdrop&&this.setState(r=>({loaded:r.loaded-1}))}componentDidMount(){this.backdropRef.current&&(window.dispatchEvent(new CustomEvent("backdrop-load-start",{bubbles:!0,composed:!0,detail:{}})),setTimeout(()=>{this.fireBackdropLoadComplete()},3e3),this.backdropWrapperRef.current.addEventListener("legacy-backdrop-loaded",this.onLoad),Ct(this.backdropRef.current,"backdropContentResize",this.onResize),Ct(this.backdropRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),Ct(this.backdropWrapperRef.current,"backdropContentResize",this.onResize),Ct(this.backdropWrapperRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),Ct(this.backdropRef.current,"backdropContentViewportChange",this.onViewportIntersectionChange),ip.observe(this.backdropRef.current),ip.observe(this.backdropWrapperRef.current),tp.observe(this.backdropWrapperRef.current),tp.observe(this.backdropRef.current),mx.observe(this.backdropRef.current))}componentWillUnmount(){this.backdropRef.current&&(this.backdropWrapperRef.current.removeEventListener("legacy-backdrop-loaded",this.onLoad),At(this.backdropRef.current,"backdropContentResize",this.onResize),At(this.backdropRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),At(this.backdropWrapperRef.current,"backdropContentResize",this.onResize),At(this.backdropWrapperRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),At(this.backdropRef.current,"backdropContentViewportChange",this.onViewportIntersectionChange),ip.unobserve(this.backdropRef.current),ip.unobserve(this.backdropWrapperRef.current),tp.unobserve(this.backdropWrapperRef.current),tp.unobserve(this.backdropRef.current),mx.unobserve(this.backdropRef.current))}},$z=vx});var rr,Ae,rp,jz=M(()=>{rr=pe(we(),1);Ne();Ae={handledEmbeds:[],embedsIniting:[],embedScriptsCache:{},songKickWidgets:{},embedInitAttempts:new WeakMap,embedChangeObserver:ne?null:new MutationObserver(t=>{t.forEach(e=>{e.removedNodes.length>0&&e.target.children.length===0&&Ae.add(e.target);let i=Array.from(e.addedNodes).filter(r=>r?.nodeName==="IFRAME");i.length>0&&(Array.from(e.target.querySelectorAll("iframe")).forEach(r=>{i.includes(r)||r.remove()}),e.target.getAttribute?.("data-type")==="tixtree"&&requestAnimationFrame(()=>{window.iFrameResize?.()}))})}),loadEmbedScript:(t,e)=>{if(Ae.embedScriptsCache[t])return Ae.embedScriptsCache[t];let i=new Promise(r=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=r,document.head.appendChild(n)});return Ae.embedScriptsCache[t]=i,i},initializeBandsInTown:function(t,e){var i="https://widget.bandsintown.com/main.min.js";e==="v3"&&(i="https://widgetv3.bandsintown.com/main.min.js"),Ae.loadEmbedScript(i).then(function(){BIT.widgetInitializer?t():BIT.onReady=t})},findEmbedsIn:function(t){t&&(rr.default.each(t.querySelectorAll("cargo-embed"),Ae.add,Ae),rr.default.each(t.querySelectorAll("#tixtree-wrapper"),e=>{e.setAttribute("data-type","tixtree"),Ae.add(e)}),rr.default.each(t.querySelectorAll(".tt-widget"),e=>{e.setAttribute("data-type","ticket-tailor"),Ae.add(e)}),rr.default.each(t.querySelectorAll(".shopify-buy-frame"),e=>{e.setAttribute("data-type","shopify-buy-frame"),Ae.add(e)}))},add:function(t){if(!(!t||t.nodeType!==Node.ELEMENT_NODE)){var e=t.getAttribute("data-type");if(!(!e||Ae.handledEmbeds.includes(t)&&t.children.length>0)){if(Ae.embedInitAttempts.get(t)===void 0?Ae.embedInitAttempts.set(t,0):Ae.embedInitAttempts.set(t,Ae.embedInitAttempts.get(t)+1),Ae.embedInitAttempts.get(t)>10){console.log("Exceeded max init attempts");return}switch(e){case"tweet":Ae.handleTwitterEmbed(t);break;case"twitter-timeline":Ae.handleTwitterTimelineEmbed(t);break;case"bandsintown":Ae.handleBandsIntownEmbed(t);break;case"songkick":Ae.handleSongkickEmbed(t);break;case"opentable":Ae.handleOpentableEmbed(t);break;case"typeform":Ae.handleTypeFormEmbed(t);break;case"shoprocket":Ae.handleShopRocketEmbed(t);break;case"tixtree":Ae.handleTixTreeEmbed(t);break;case"ticket-tailor":Ae.handleTicketTailorEmbed(t);break;case"shopify-buy-frame":Ae.handleShopifyEmbed(t);break;default:console.log("No method for handling",e,"embed")}}}},handleTwitterEmbed:function(t){var e=t.getAttribute("data-id");!e||e===""||Ae.embedsIniting.includes(t)||(Ae.embedsIniting.push(t),Ae.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTweet(e,t).then(function(i){i&&(i.setAttribute("contenteditable","false"),Ae.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Ae.embedsIniting=Ae.embedsIniting.filter(r=>r!==t)})}),Ae.handledEmbeds.push(t))},handleTwitterTimelineEmbed:function(t){if(!Ae.embedsIniting.includes(t)){Ae.embedsIniting.push(t);try{var e=JSON.parse(t.getAttribute("data-source"))}catch{return}typeof e=="number"&&(e=t.getAttribute("data-source"));var i;if(t.hasAttribute("data-options"))try{i=JSON.parse(t.getAttribute("data-options"))}catch{}Ae.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTimeline(e,t,i).then(function(r){r&&(r.setAttribute("contenteditable","false"),Ae.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Ae.embedsIniting=Ae.embedsIniting.filter(n=>n!==t)})}),Ae.handledEmbeds.push(t)}},handleOpentableEmbed:function(t){if(!t.ownerDocument.contains(t)||Ae.embedsIniting.includes(t))return;Ae.embedsIniting.push(t);let e=document.createElement("opentable-embed-anchor");e.src=t.getAttribute("data-src"),t.appendChild(e),fetch(t.getAttribute("data-src")).then(i=>i.text()).then(i=>{if(Ae.embedsIniting=Ae.embedsIniting.filter(r=>r!==t),!e.ownerDocument.contains(e)){Ae.handleOpentableEmbed(t);return}e.id=rr.default.uniqueId("opentable-"),i=i.replaceAll('getElementsByTagName("script")','querySelectorAll("opentable-embed-anchor#'+e.id+'")'),window.eval(i),e.remove(),Ae.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),Ae.handledEmbeds.push(t)})},handleBandsIntownEmbed:function(t){Ae.initializeBandsInTown(()=>{t.innerHTML="";var e={},i={};rr.default.each(t.attributes,function(o){if(/^data-/.test(o.name)&&o.name!=="data-type"){var a=o.name.substr(5).replace(/-/g,"_");e[a]=o.value;var l=a.split("_").map(function(c,d){return d>0?c.charAt(0).toUpperCase()+c.slice(1):c}).join("");i[l]=o.value}});var r=document.createElement("a");if(r.setAttribute("id","bit-widget-"+rr.default.uniqueId()),r.setAttribute("class","bit-widget-initializer"),rr.default.each(e,function(o,a){r.setAttribute("data-"+a.replace(/_/g,"-"),o)}),t.appendChild(r),Ri){var n=new MutationObserver(function(o){rr.default.each(o,function(a){a.type=="childList"&&a.addedNodes.forEach(function(l){l&&l.nodeType===Node.ELEMENT_NODE&&(l.setAttribute("contenteditable",!1),l.classList.contains("bit-widget-container")&&(l.style.pointerEvents="none",n.disconnect()))})})});n.observe(t,{childList:!0})}BIT.widgetInitializer.append(r,i),Ae.embedChangeObserver?.observe(t,{childList:!0}),Ae.handledEmbeds.push(t)},t.getAttribute("data-bit-widget-version"))},handleSongkickEmbed:function(t){if(!Ae.embedsIniting.includes(t)){Ae.embedsIniting.push(t);var e={};rr.default.each(t.attributes,function(n){if(/^data-/.test(n.name)&&n.name!=="data-type"){var o=n.name.substr(5).replace(/-/g,"_");e[o]=n.value}});var i=document.createElement("a");i.setAttribute("class","songkick-widget"),i.setAttribute("href","https://www.songkick.com/artists/"+e.id),i.setAttribute("contenteditable","false"),rr.default.each(e,function(n,o){i.setAttribute("data-"+o.replace(/_/g,"-"),n)}),t.appendChild(i);var r="https://widget-app.songkick.com/injector/"+e.id;Ae.songKickWidgets[e.id]===void 0?Ae.songKickWidgets[e.id]=0:r=r+"?"+ ++Ae.songKickWidgets[e.id],Ae.loadEmbedScript(r).then(()=>{Ae.embedsIniting=Ae.embedsIniting.filter(n=>n!==t),t.children.length===0&&Ae.add(t)}),Ae.embedChangeObserver?.observe(t,{childList:!0}),Ae.handledEmbeds.push(t)}},handleTypeFormEmbed:function(t){Ae.embedsIniting.includes(t)||(Ae.embedsIniting.push(t),Ae.loadEmbedScript("https://embed.typeform.com/next/embed.js").then(()=>{if(t.dataset.embed)t.innerHTML=rr.default.unescape(t.dataset.embed),window.tf.load();else{let e={};rr.default.each(t.attributes,function(i){i.name.startsWith("data-tf")&&(e[rr.default.camelCase(i.name.replace("data-tf",""))]=i.value)}),e.container=t,delete e.iframeProps,t.innerHTML="",window.tf.createWidget(e.widget||e.live,e),t.children[0]?.setAttribute("style",t.getAttribute("data-style")),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},100),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},1e3)}Ae.embedsIniting=Ae.embedsIniting.filter(e=>e!==t)}),Ae.embedChangeObserver?.observe(t,{childList:!0}),Ae.handledEmbeds.push(t))},handleShopRocketEmbed:function(t){Ae.embedsIniting.includes(t)||!t.dataset.embed||(Ae.embedsIniting.push(t),Ae.loadEmbedScript("https://cdn.shoprocket.io/loader.js").then(()=>{if(Ri){var e=new MutationObserver(function(i){rr.default.each(i,function(r){r.type=="childList"&&r.addedNodes.forEach(function(n){n&&n.nodeType===Node.ELEMENT_NODE&&(n.setAttribute("contenteditable",!1),n.classList.contains("sr-embed")&&(n.style.pointerEvents="none",e.disconnect()))})})});e.observe(t,{childList:!0})}t.innerHTML=rr.default.unescape(t.dataset.embed),window.Shoprocket?.init(),Ae.embedsIniting=Ae.embedsIniting.filter(i=>i!==t)}),Ae.embedChangeObserver?.observe(t,{childList:!0}),Ae.handledEmbeds.push(t))},handleTixTreeEmbed:function(t){Ae.handledEmbeds.push(t),Ae.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})},handleTicketTailorEmbed:function(t){Ae.handledEmbeds.push(t),Array.from(t.querySelectorAll(".tt-widget-wrapper")).forEach(e=>e.remove())},handleShopifyEmbed:function(t){t.setAttribute("contenteditable","false"),Ae.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),Ae.handledEmbeds.push(t)},remove:function(){}},rp=Ae});var Gz,YAe,bx,Bu,Qm=M(()=>{Ee();Gz=pe(En(),1);Vs();di();pt();jt();YAe=pe(we(),1);oe();bx=class extends se{constructor(e){super(e),this.state={error:!1}}render(e){return g(te,{children:[g("style",{children:`
					.pages > .page:only-child,
					.pages :has(.page-password) > .page:only-child {
						min-height: var(--viewport-height);
					}
					
					.pages > .page:only-child .page-content,
					.pages :has(.page-password) > .page:only-child .page-content {
						align-items: center;
					}

					.site-password,
					.page-password {
						text-align: center;
						margin: auto;
						height: 0;
						width: 340px;
						display: table;
					}

					.site-password {
						position: fixed;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
					}

					.error {
					    transform: translate(0, 20px);
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    left: 0;
					    color: rgba(0,0,0,0.75);
					    user-select: none;
					}

					.submit-wrapper {
						display: grid;
						grid-template-columns: auto 40px;
						border-radius: 100px;
					    border: 1px solid rgba(0,0,0,0.75);
						grid-gap: 5px;
						background: #fff;
					}

					.button-area {
						position: relative;
						width: 40px;
						justify-content: center;
						align-items: center;
						display: flex;
						cursor: pointer;
					}

					.submit-button {
						display: block;
						width: 36px;
						height: 36px;
						border-radius: 50%;
						background: #000;
						transform-origin: 50% 50%;
						transform: scale(1);
						border: none;
						background-image: url("data:image/svg+xml,%3Csvg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.8438 1.9375L19.3438 9.4375L11.8438 16.9375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M19.3437 9.4375L1.40625 9.4375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E%0A");
						background-position: 46% 50%;
						background-repeat: no-repeat;
						background-size: 17px 17px;
						pointer-events: auto;
						cursor: pointer;
						margin-right: 1px;
						padding: 0;
					}

					.submit-button:active {
						opacity: 0.7;
					}


					input[type="password"] {
						border-radius: 100px;
					    border: none;
						padding: 10px 0px 10px 20px;
					    font-size: 14px;
					    font-family: Helvetica;
					    font-size: 18px;
					    font-style: normal;
					    font-weight: 400;
					    line-height: 21px;
					    letter-spacing: -0.004em;
					    text-align: left;
						width: auto;
					}

					input[type="password"]:placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-webkit-input-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]:-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
	            `}),g("div",{className:this.props.target==="site"?"site-password":"page-password",children:[g("form",{onSubmit:this.submit,class:"submit-wrapper",children:[g("input",{name:"pw",type:"password",placeholder:"Enter password...",autofocus:"true",onKeyDown:this.onKeyDown}),g("div",{className:"button-area",children:g("button",{className:"submit-button",type:"submit"})})]}),this.state.error&&g("span",{class:"error",children:"Invalid password"})]})]})}onKeyDown=e=>{this.state.error&&this.setState({error:!1})};submit=e=>{e.preventDefault();let i;this.props.target==="site"?i=`/sites/${this.props.siteId}/validatepassword`:i=`/pages/${this.props.siteId}/id/${this.props.target}/validatepassword`,Gz.default.post(ti+i,{[this.props.target==="site"?"site_password":"password"]:e.target.elements.pw.value}).then(({data:r})=>{if(!r.token){this.setState({error:!0});return}this.setState({error:!1}),this.props.setAuthentication({authenticated:!0,data:{access_token:r.token,id:null}}),this.props.onSucces?.()}).catch(r=>{console.error(r),this.setState({error:!0})})}},Bu=De((t,e)=>({siteId:t.site.id}),t=>It({setAuthentication:Fe.setAuthentication},t))(bx)});var wx,Kz,Yz=M(()=>{Ee();qe();ds();Ni();Rt();Rt();oe();wx=class extends se{constructor(e){super(e),this.state={hover:!1,buttonHovered:!1},this.editPageButtonRef=me(),this.layoutButtonRef=me(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}editorIsEmpty=(e,i)=>{requestAnimationFrame(()=>{this.setState({showEmpty:this.props.isEditingPage})})};editorHasContent=(e,i)=>{this.setState({showEmpty:!1})};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.on("editor-has-content",this.editorHasContent)};componentWillUnmount=()=>{this.CargoEditor&&(this.CargoEditor.events.off("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.off("editor-has-content",this.editorHasContent))};onButtonEnter=()=>{this.setState({hover:!0})};onButtonLeave=()=>{this.setState({hover:!1})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.layoutButtonRef.current.getBoundingClientRect(),r={x:i.x+0,y:i.y+-212,left:i.left+0,right:i.right+0,top:i.top+0+-212,bottom:i.top+27+-212,width:i.width,height:i.height};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"layouttemplate",supportsMobile:!0,positionRect:r,closeButton:!1,closeOnAllClickout:!1})};render(e){let i=this.props.isEditingPage,r=this.props.pageIsPin,n=this.state.showEmpty,o=23;return g(fr,{isEditingPage:i,name:"EditPageButton",trackResize:!0,noPointerEvents:!0,buttonHeight:o,buttonMode:"outside",baseNode:this.props.bodycopyRef.current,render:a=>{let{pointerAttention:l,overlayPosition:c,shiftButtonX:d,shifted:m}=a,f=-o,v=-2;return c.y<=o&&(f=Math.max(0,-c.y),v=0,f>c.height&&(v=-2,f=c.height+1)),i&&n||i?null:g(te,{children:[g("div",{className:`in-editor-buttons page${l?" hover button-hover":""} ${m?"shifted":""}`,style:{transform:`translate3d(${v+c.x}px, ${f+c.y}px, 0)`},children:g("div",{className:"pointer-mask",style:{transform:`translateX(${d}px)`},children:g("button",{className:"edit-page text",onMouseDown:b=>{b.button==2||b.metaKey||this.props.editPage(b)},ref:this.editPageButtonRef,children:[g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 16H6V4H10.9875V8.09705H15V16ZM16 7.64491L11.4226 3H5V17H16V7.64491Z",fill:"black"})}),this.props.pageTitle]})})}),g("div",{className:`editor-overlay editor-outline page-outline${l?" hover button-hover":""}${this.state.showEmpty?" hover":""}`,style:{width:c.width+"px",height:c.height+"px",transform:`translate3d(${c.x}px, ${c.y}px, 0)`}})]})}})}},Kz=wx});function cae(t,e){let i={};for(let r in e)i[r]=t.style.getPropertyValue(r),t.style.setProperty(r,"unset");t.offsetHeight;for(let r in e)t.style.setProperty(r,i[r])}function Jz(){let t=document.querySelectorAll(".page");for(let e of t){let i=window.getComputedStyle(e),r=i.getPropertyValue("--page-layout-mix"),n=i.getPropertyValue("--page-mix");(n.length||r.length)&&cae(e,{"--page-mix":n,"--page-layout-mix":r})}}function dae(t){return It({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},t)}var mr,ia,eg,np,tg,ps,xx,ig,Sx,Xz,Wu,Zz,lae,uae,rg,pae,ra,ng=M(()=>{Ee();di();pt();jt();mr=pe(we(),1);_i();Ad();ki();xo();Wi();il();Bi();yx();jz();Ne();Qm();Yz();hr();Ya();oe();ia=new WeakMap,eg=new WeakMap,np=new WeakMap,tg=new WeakMap,Xz=null,Wu=null,Zz=t=>{t.forEach(function(e){ia.has(e.target)&&ia.get(e.target).onAboveViewPort(e)})},lae=mr.default.once(()=>{let t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),e=document.createElement("style");return t.children[0].appendChild(e),e}),uae=t=>{let e=lae();return t!==Xz&&(e.innerHTML=t,Xz=t),e};ne||(ps=new ResizeObserver(function(t){sn()&&(Wu===null?Wu=window.innerWidth:Wu!==window.innerWidth&&(Wu<2050&&window.innerWidth>=2050&&Jz(),Wu>=2050&&window.innerWidth<2050&&Jz(),Wu=window.innerWidth));let e={};Zz(ig.takeRecords()),t.forEach(function(i){let r=ia.get(i.target);if(r&&(r.onResize(i.target.getBoundingClientRect()),e[r.props.id]=i.contentRect.height),eg.has(i.target)&&eg.get(i.target).onBodyCopyResize(i.contentRect.width),np.has(i.target)||tg.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),a=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(np.has(i.target)){let l=np.get(i.target);(l.state.pageContentPad.top!==o||l.state.pageContentPad.bottom!==a)&&l.setState({pageContentPad:{top:o,bottom:a}})}else{let l=tg.get(i.target);(l.state.pageLayoutPad.top!==o||l.state.pageLayoutPad.bottom!==a)&&l.setState({pageLayoutPad:{top:o,bottom:a}})}}}),P0(e)}),ig=new IntersectionObserver(Zz,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Sx=new IntersectionObserver((t,e)=>{t.forEach(function(i){ia.has(i.target)&&ia.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}),xx=new MutationObserver(function(t){mr.default.each(t,function(e){e.type=="childList"&&e.addedNodes.forEach(function(i){i.nodeName==="CARGO-EMBED"&&rp.add(i)})})}));rg=class extends se{constructor(e){super(e),this.overlayContentRef=me(),this.bodycopyRef=me(),this.pageContentRef=me(),this.pageRef=me(),this.pageLayoutRef=me(),this.lastBodycopyRef=me(),this.lastPageContentRef=me(),this.lastPageRef=me(),this.lastPageLayoutRef=me(),this.lastHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},windowHeight:null,fullyRender:!0,lastPageContainerHeight:100,overlayContentFromTransformValue:null,overlayContentToTransformValue:null},this.localStyleRef=me()}setOverlayContentTransformValues=()=>{let e=this.overlayContentRef.current?.getBoundingClientRect();if(!e)return;let i=this.pageContentRef.current?.getBoundingClientRect();if(!i)return;let r=0,n=0,o=this.props.overlayOptions?.animateOnOpen?.slideAmount/100,a=this.props.overlayOptions?.animateOnClose?.slideAmount/100;if(this.props.overlayOptions?.animateOnOpen?.speed!==0)switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":r=(i.height+(e.height-i.bottom))*o;break;case"top":r=-i.bottom*o;break;case"right":r=(i.width+(e.width-i.right))*o;break;case"left":r=-i.right*o;break}if(this.props.overlayOptions?.animateOnClose?.speed!==0)switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"bottom":n=(i.height+(e.height-i.bottom))*a;break;case"top":n=-i.bottom*a;break;case"right":n=(i.width+(e.width-i.right))*a;break;case"left":n=-i.right*a;break}if(this.state.overlayContentFromTransformValue!==r&&this.state.overlayContentToTransformValue!==n){this.setState({overlayContentFromTransformValue:r,overlayContentToTransformValue:n});return}if(this.state.overlayContentFromTransformValue!==r){this.setState({overlayContentFromTransformValue:r});return}if(this.state.overlayContentToTransformValue!==n){this.setState({overlayContentToTransformValue:n});return}};setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}let e=["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"];if(!this.localStyleRef.current)return;let i=uae(this.props.globalStylesheet),r=!1;i.sheet&&mr.default.each(i.sheet.rules,o=>{o?.selectorText===".mobile [id] .page-layout"&&o?.style?.getPropertyValue("padding")==="0px"&&(r=!0)}),r&&e.push(`[id="${this.props.pid}"] .page-layout`);let n=au(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:e}]);this.setState({mobileOffsetsString:n})};onBodyCopyResize=e=>{this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=e=>{this.setState(i=>i.windowHeight===Ye.data.window.h?null:{windowHeight:Ye.data.window.h})};onResize=e=>{if(!e)return;let i=0;if(this.isAboveViewport&&this.lastHeight!==e.height&&(i+=e.height-this.lastHeight),this.lastHeight=e.height,i!==0){let r=document.scrollingElement.scrollTop+i;document.scrollingElement.scrollTo({top:r,behavior:"instant"})}};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{if(e.rootBounds.height===0)return;let i=e.isIntersecting;(ne||this.props.isPin||this.props.isEditingPage)&&(i=!0),this.setFullRenderState(i)};setFullRenderState=e=>{let i={fullyRender:e,renderSparseHeightDiv:!e};e?this.state.fullyRender!==!0&&(i.renderSparseHeightDiv=!0,setTimeout(()=>{this.state.fullyRender===!0&&this.setState({renderSparseHeightDiv:!1})},100)):i.lastPageContainerHeight=this.pageRef.current?.getBoundingClientRect().height||100,this.setState(i)};updateAdminState=e=>{this.props.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=mr.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return mr.default.keys(r).length>0&&mr.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};determinePinCSS=()=>{if(ne||this.props.isOverlay||mr.default.isEmpty(this.context.levelData))return;let e=1,i={},r=this.context?.renderedPins&&this.props.isPin,n=this.findPageAdjusteeStatus(this.props.pid);if(i.paddingTop=n.top,i.paddingBottom=n.bottom,r){let o=this.context?.renderedPins[this.props.pid];if(o){let a=o.depth,l=mr.default.keys(this.context.levelData?.levels)?.length+e,c=l-a+e,d=c+this.zIndexLayerPosition(100-o?.pinSort);if(i.zIndex=o.type!=="adjust"?d??null:null,localStorage.getItem("pin_testing")==="true"){let f={old_zIndex:c+this.zIndexLayerPosition(100-o?.sort),new_zIndex:d,pid:this.props.pid,pageList_sort:o?.sort,renderedPageSort:o?.pinSort};console.log(f)}let m=this.context.levelData?.levels[a][o.location];o.type==="overlay"?i[o.location]=m.startingHeight-n[o.location]:o.type==="adjust"&&n[o.location]!==null&&(i[o.location]=m.adjustsSelf?null:m.startingHeight-n[o.location])}}return i["--pin-padding-top"]=(i.paddingTop||0)+"px",i["--pin-padding-bottom"]=(i.paddingBottom||0)+"px",mr.default.isEmpty(i)?null:i};getAdjustOnlyPinStartHeight=(e,i,r)=>{let n=0;return mr.default.each(this.context.renderedPins,(o,a)=>{o.depth===e&&o.location===r&&(r==="top"?o.sort<i:o.sort>i)&&o.type==="adjust"&&(n+=this.context.pageHeights[a])}),n};determinePinClassList(e){if(!e||this.props.isOverlay)return"";let i=null;if(this.props.isMobile){let n=this.props?.local_css?.match(/--mobile-pin-options: (.*);/);i=n?n[1].replace(/['"]+/g,"").split(" "):null}let r="";return r+=" pinned pinned-"+e.position,i?r+=i.includes("fixed")?" fixed":i.includes("overlay")?" overlay":"":r+=e.fixed?" fixed":e.overlay?" overlay":"",r}editPage=e=>{if(e.preventDefault(),parent.window.Cargo?.Ecommerce?.View?.currentView?.saveButton?.saveEnabled===!0||parent.window.Cargo?.Ecommerce?.View?.currentView?.SaveButton?.saveEnabled===!0){parent.window.dispatchEvent(new CustomEvent("navigate-after-commerce-save",{detail:{pid:this.props.pid}}));return}parent.editorActivationEvent=e,parent.navigateAdmin("/"+this.props.pid),this.updateAdminState({pageTitleBarTransition:!0}),setTimeout(()=>{this.updateAdminState({pageTitleBarTransition:!1})},600)};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}render(){if(!this.props.hasPage||ne&&this.props.access_level!=="public")return null;let e=this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none",i=this.props.isPin&&this.props.pin_options,r=i?this.props.pin_options:null,n=null,o=null,a=this.determinePinCSS(),l=this.determinePinClassList(r),c={};this.props?.local_css?.includes("--page-layout-mix:")&&!this.props?.local_css?.includes("--page-layout-mix: normal")?c["--page-content-backdrop-filter"]="none":c["--page-content-backdrop-filter"]="";let d={},m="";if(this.props.isOverlay===!0){let v="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":v=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"top":v=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"right":v=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break;case"left":v=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnOpen?.scaleAmount){let G=1-Number(this.props.overlayOptions?.animateOnOpen?.scaleAmount)/100;v+=` scale(${G})`}this.props.overlayOptions?.animateOnOpen?.rotateAmount&&(v+=` rotate(${Number(this.props.overlayOptions?.animateOnOpen?.rotateAmount)*-1}deg)`);let b="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"top":b=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"bottom":b=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"left":b=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break;case"right":b=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnClose?.scaleAmount){let G=1-Number(this.props.overlayOptions?.animateOnClose?.scaleAmount)/100*-1;b+=` scale(${G})`}this.props.overlayOptions?.animateOnClose?.rotateAmount&&(b+=` rotate(${this.props.overlayOptions?.animateOnClose?.rotateAmount}deg)`);let _="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":_="inset(0 0 0 100%)";break;case"left":_="inset(0 100% 0 0)";break;case"top":_="inset(0 0 100% 0)";break;case"bottom":_="inset(100% 0 0 0)";break;case"circle":_="circle(0%)";break;case"diamond":_="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":_="inset(100% 100% 100% 100%)";break}let E="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"right":case"left":case"top":case"bottom":E="inset(0 0 0 0)";break;case"circle":E="circle(125%)";break;case"diamond":E="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":E="inset(0 0 0 0)";break}let C="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":case"left":case"top":case"bottom":C="inset(0 0 0 0)";break;case"circle":C="circle(125%)";break;case"diamond":C="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":C="inset(0 0 0 0)";break}let I="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"left":I="inset(0 0 0 100%)";break;case"right":I="inset(0 100% 0 0)";break;case"bottom":I="inset(0 0 100% 0)";break;case"top":I="inset(100% 0 0 0)";break;case"circle":I="circle(0%)";break;case"diamond":I="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":I="inset(100% 100% 100% 100%)";break}let N="linear";switch(this.props.overlayOptions?.animateOnOpen?.easing){case"ease-in":N="ease-in";break;case"ease-out":N="ease-out";break;case"ease-in-out":N="ease-in-out";break;case"bounce":N="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":N="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":N="cubic-bezier(0,.8,1,0)";break;case"smooth":N="cubic-bezier(.240,1,.290,1.0)";break;case"linear":default:N="linear";break}let D="linear";switch(this.props.overlayOptions?.animateOnClose?.easing){case"ease-in":D="ease-in";break;case"ease-out":D="ease-out";break;case"ease-in-out":D="ease-in-out";break;case"smooth":D="cubic-bezier(.240,1,.290,1.0)";break;case"bounce":D="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":D="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":D="cubic-bezier(0,.8,1,0)";break;case"linear":default:D="linear";break}d={"--overlay-open-duration":this.props.overlayOptions?.animateOnOpen?.speed?`${this.props.overlayOptions?.animateOnOpen?.speed}s`:"0s","--overlay-open-from-opacity":this.props.overlayOptions?.animateOnOpen?.fade?0:1,"--overlay-open-from-background-color":this.props.overlayOptions?.animateOnOpen?.fade?"inherit":"transparent","--overlay-open-content-from-transform":v,"--overlay-open-content-from-clip-mask":_,"--overlay-open-content-to-clip-mask":C,"--overlay-close-duration":this.props.overlayOptions?.animateOnClose?.speed?`${this.props.overlayOptions?.animateOnClose?.speed}s`:"0s","--overlay-close-to-opacity":this.props.overlayOptions?.animateOnClose?.fade?0:1,"--overlay-close-to-background-color":this.props.overlayOptions?.animateOnClose?.fade?"inherit":"transparent","--overlay-close-content-to-transform":b,"--overlay-close-content-from-clip-mask":E,"--overlay-close-content-to-clip-mask":I,"--overlay-open-easing":N,"--overlay-close-easing":D,opacity:this.state.overlayContentFromTransformValue!==null?void 0:0,zIndex:999}}if(this.state.fullyRender){let v=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom;a&&(a.paddingTop&&(v+=a.paddingTop),a.paddingBottom&&(v+=a.paddingBottom));let b=Math.max(10,this.state.windowHeight-v),_=null;this.props.access_level==="password"?_=g(Bu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?_=this.lockedContent:_=this.lockedContent=this.props.content,this.maxFitHeight=b;let E=g("bodycopy",{style:{"--fit-height":b+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,dangerouslySetInnerHTML:typeof _=="string"?{__html:_}:void 0,children:Hc(_)?_:null});o=g(zf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:g("div",{className:"page-layout",ref:this.pageLayoutRef,children:g("div",{className:`page-content${this.props?.local_css?.includes("--page-content-backdrop-filter")?" has-content-backdrop-filter":""}`,ref:this.pageContentRef,style:c,children:[this.props.adminMode&&this.props.Editor_PageEditorOutlines!==!1&&g(Kz,{bodycopyRef:this.bodycopyRef,pageTitle:this.props.title,pageContent:this.props.content,pageIsPin:this.isPinned,isEditingPage:this.props.isEditingPage,editPage:this.editPage}),g(Um,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[g(So,{portalHost:E}),E]})]})})})}let f=!0;return(r?.fixed||this.props.isOverlay)&&(f=!1),this.state.renderSparseHeightDiv&&(a=a||{},a.height=this.state.lastPageContainerHeight+"px",a.overflow="hidden"),n=g("div",{id:this.props.pid,"page-url":this.props.purl?.toLowerCase(),className:`page${l!==null?l:""}${this.props.stackedPage?" stacked-page":""}${this.props?.local_css?.includes("--page-backdrop-filter")?" has-backdrop-filter":""}`,ref:this.pageRef,style:{...a},editing:this.props.isEditingPage,children:[e&&g($z,{id:this.props.pid,settings:this.props.backdrops}),g("a",{id:this.props.purl}),g(pu,{passthrough:f,scrollingElement:this.props.isOverlay?this.overlayContentRef:this.pageContentRef,children:[this.state.renderSparseHeightDiv&&g("div",{style:{height:this.state.lastPageContainerHeight+"px"}}),o]}),g("style",{ref:this.localStyleRef,children:this.props.local_css}),g("style",{id:`mobile-offset-styles-${this.props.pid}`,children:this.state.mobileOffsetsString})]}),this.props.isOverlay===!0?g("div",{ref:this.overlayContentRef,className:"overlay-content "+m,style:d,children:n}):n}componentDidUpdate=(e,i)=>{this.bindObservers(),this.setPinProperties(e),this.props.isOverlay===!0&&(this.setOverlayScrollability(),this.state.overlayContentFromTransformValue!==null&&this.overlayContentRef?.current?.classList.contains("overlay-open")===!1&&this.props.overlayOptions?.animateOnOpen!==!1&&this.props.overlayOptions?.animateOnOpen?.speed!==0&&(this.overlayContentRef?.current?.classList.add("overlay-open"),this.overlayContentRef?.current?.classList.add("overlay-animating"))),e.content===void 0&&this.props.content!==e.content&&(this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink(),rp.findEmbedsIn(this.pageRef.current)),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.hashPurl!==this.props.hashPurl||e.activePID!==this.props.activePID||e.adminMode!==this.props.adminMode)&&(this.checkAndSetActiveLinks(),this.temporarySafariRenderingFix()),this.props.local_css!==e.local_css&&this.setMobileOffsets(),this.props.globalStylesheet!==e.globalStylesheet&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.position!==e.position&&(this.isAboveViewport=this.props.position==="above",this.onResize(this.pageRef.current.getBoundingClientRect()))};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&Lf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}setPinProperties=e=>{if(this.props.isPin&&this.pageRef.current){if(this.props.adminMode&&mr.default.isEqual(this.props.pin_options,e.pin_options)===!1&&(this.pageRef.current.scrollIntoView(),this.props.pin_options.position==="bottom")){let i=this.context.adjustPairs[this.props.pid];if(i&&i.adjusts){let r=document.body.querySelector("[id='"+i.adjusts[0]+"']");requestAnimationFrame(()=>{r.scrollIntoView({block:"end"})})}}this.props.pin_options.fixed===!0&&this.setFixedPinScrollability(),this.props.pin_options.overlay===!0&&this.props.local_css!==""&&this.checkBackgroundColor()}};checkBackgroundColor=mr.default.debounce(()=>{if(!this.pageRef.current)return;!(this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none")&&this.hasNoBackgroundColor(this.pageRef.current)?this.pageRef.current.classList.remove("accepts-pointer-events"):this.pageRef.current.classList.add("accepts-pointer-events");let i=this.pageRef.current?.querySelector(".page-content");this.hasNoBackgroundColor(i)?i.classList.remove("accepts-pointer-events"):i.classList.add("accepts-pointer-events")},100);hasNoBackgroundColor=e=>{if(e==null)return!1;let i=window.getComputedStyle(e,null),r=i.getPropertyValue("background-color"),n=r.match("rgba")?r.replace(/^.*,(.+)\)/,"$1"):null;return r==null||r=="transparent"||r=="initial"||n==0};setFixedPinScrollability=()=>{if(!this.pageRef.current)return;let e=this.pageContentRef.current,i=this.bodycopyRef.current;e&&i&&i.clientHeight>e.clientHeight?this.pageRef.current.classList.add("allow-scroll"):this.pageRef.current.classList.remove("allow-scroll")};setOverlayScrollability=()=>{this.overlayContentRef.current&&(this.overlayContentRef.current.scrollHeight>this.overlayContentRef.current.offsetHeight+1?this.overlayContentRef.current.classList.add("overlay-allow-scroll"):this.overlayContentRef.current.classList.remove("overlay-allow-scroll"))};checkAndSetActiveLinks=e=>{if(!this.pageRef.current)return;let i=e?.detail?.filter;i?.startsWith("tag:")?i=i.replace("tag:","").trim():i?i="all":i=null;let r=this.props.inAdminFrame&&this.props.adminMode===!0;if(this.props.isEditingPage&&!r)return;let n=this.pageRef.current.querySelectorAll('[rel="history"], [rel="filter-index"], [rel="home-page"]'),o=this.props.activePURL===this.props.homepagePURL||this.props.activePID==="root";mr.default.each(n,a=>{let l=a.getAttribute("href")?.toLowerCase().replace(/^#/,""),c=this.props.homepagePURL===l||a.getAttribute("rel")==="home-page",d=this.props.activePURL&&l===this.props.activePURL||this.props.hashPurl&&l===this.props.hashPurl||this.props.activePurlParents?.includes(l);!r&&d&&!c?a.classList.add("active"):a.classList.remove("active"),!r&&c&&this.props.enableHomeLinkActiveStates&&(o?a.classList.add("active"):a.classList.remove("active"))})};bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(ia.delete(this.lastPageRef.current),ps.unobserve(this.lastPageRef.current),ig.unobserve(this.lastPageRef.current),Sx.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(ia.set(this.pageRef.current,this),ps.observe(this.pageRef.current),ig.observe(this.pageRef.current),Sx.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(tg.delete(this.lastPageLayoutRef.current),ps.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(tg.set(this.pageLayoutRef.current,this),ps.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(np.delete(this.lastPageContentRef.current),ps.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(np.set(this.pageContentRef.current,this),ps.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(this.lastBodycopyRef.current.removeEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),this.lastBodycopyRef.current.removeEventListener("new-thumbnails-rendered",this.checkAndSetActiveLinks),eg.delete(this.lastBodycopyRef.current),ps.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(eg.set(this.bodycopyRef.current,this),ps.observe(this.bodycopyRef.current),this.bodycopyRef.current.addEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),this.bodycopyRef.current.addEventListener("new-thumbnails-rendered",this.checkAndSetActiveLinks)),this.lastBodycopyRef.current=this.bodycopyRef.current)};componentDidMount(){this.isAboveViewport=this.props.position==="above",this.onWindowResize(),Ye.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender(),this.pageRef.current&&(this.onResize(this.pageRef.current.getBoundingClientRect()),this.context.onPageMount(this.pageRef.current),rp.findEmbedsIn(this.pageRef.current),xx&&xx.observe(this.pageRef.current,{childList:!0,subtree:!0}),this.pageRef.current.addEventListener("dom-binding-initialized",()=>{rp.findEmbedsIn(this.pageRef.current)}),this.props.isOverlay&&(window.setTimeout(this.setOverlayContentTransformValues,100),this.calculateOverlayPassthroughClasses(),this.pageRef.current.addEventListener("animationend",this.calculateOverlayPassthroughClasses)),this.temporarySafariRenderingFix())}calculateOverlayPassthroughClasses=()=>{if(!this.pageRef.current||!this.pageContentRef.current)return;let e=window.getComputedStyle(this.pageRef.current,null),i=window.getComputedStyle(this.pageContentRef.current,null),r=e.getPropertyValue("background-color"),n=i.getPropertyValue("background-color"),o=this.props.isOverlay&&(r==="transparent"||r==="initial"||r==="rgba(0, 0, 0, 0)"),a=this.props.isOverlay&&(n==="transparent"||n==="initial"||n==="rgba(0, 0, 0, 0)")&&r.startsWith("rgba(");o?this.overlayContentRef.current.classList.add("is-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-passthrough-overlay"),a?this.overlayContentRef.current.classList.add("is-content-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-content-passthrough-overlay")};temporarySafariRenderingFix=()=>{this.props.adminMode||setTimeout(()=>{!ne&&sn()&&this.props?.pin_options?.position==="bottom"&&(this.pageRef?.current?.classList.add("loading"),setTimeout(()=>{this.pageRef?.current?.classList.remove("loading")},1200))},10)};onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()})),this.props.isPin&&this.props.pin_options?.fixed===!0&&this.setFixedPinScrollability(),this.props.isOverlay===!0&&this.setOverlayScrollability(),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){this.pageRef.current&&this.pageRef.current.removeEventListener("animationend",this.calculateOverlayPassthroughClasses),Ye.off("window-resize",this.onWindowResize),ia.delete(this.pageRef.current),this.onSparseComponentRender(!0),this.onResize({height:0}),this.context.onPageUnmount(this.pageRef.current)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];mr.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),mr.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&this.props.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};rg.contextType=ss;pae=un((t,e)=>t.map(i=>e[i]?.purl).filter(i=>i&&typeof i=="string").map(i=>i.toLowerCase())),ra=Cn(De((t,e)=>{let i=Ke.getContentById(t,e.id),r=t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID],n,o;return r&&(n=r.purl?.toLowerCase(),o=pae(Ke.getParentSetList(t,r.id),t.sets.byId)),!ne&&!n&&(n=window.location.pathname.replace(/^\//,"").toLowerCase()),{inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,isEditingPage:i?.id&&t.frontendState.PIDBeingEdited===i?.id,hasPage:i!==void 0,homepagePURL:Ke.getHomepagePurl(t),pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,hashPurl:t.frontendState.activeHashPurl,globalStylesheet:t.css?.stylesheet,enableHomeLinkActiveStates:t.siteDesign?.site?.enableHomeLinkActiveStates,activePID:t.frontendState.activePID,activePURL:n,activePurlParents:o,pageDepth:Ke.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},dae)(rg))});var _x,Qz,e5=M(()=>{Ee();ng();oe();_x=class t extends se{constructor(e){super(e)}render=()=>{let e=this.props.childNodes.filter(r=>r.parent===this.props.id),i=e.filter(r=>r.content.page_type=="page").length>1;return g("div",{"data-container":"set","data-id":this.props.id,children:e.map((r,n)=>r.content.page_type==="set"?g(t,{id:r.content.id,childNodes:this.props.childNodes,contentPad:this.props.contentPad},r.content.id):g(ra,{id:r.content.id,position:r.position,contentPad:this.props.contentPad,stackedPage:i},r.content.id))})}},Qz=_x});var DTe,Ex,og,Cx=M(()=>{Ee();DTe=pe(we(),1);oe();Ex=class extends se{constructor(e){super(e)}render=()=>g(te,{children:[g("style",{children:`
					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}
				`}),this.props.message]})},og=Ex});var t5,i5=M(()=>{t5={closeOnClickout:!1,closeOnNavigate:!1,animateOnOpen:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0},animateOnClose:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0}}});function gae(t,e){return{adminMode:t.frontendState.adminMode,PIDToEdit:t.frontendState.PIDToEdit,overlayBeingPreviewed:t.frontendState.overlayBeingPreviewed,overlayOptionsByPID:mae(t.pages.byId),sortMap:t.structure.bySort,autoRenderableOverlays:Ke.getAutoRenderableOverlaysForSet(t,e.pinContextPID,e.match?.params?.page)}}function vae(t){return It({fetchContent:Fe.fetchContent},t)}var UTe,hs,hae,Rx,ji,kx,fae,mae,Px,$i,sg,jr,ag,Ix,Ax,r5,n5,Tx,Mx,lg,o5,ug=M(()=>{Ee();UTe=pe(En(),1);pt();di();jt();is();hs=pe(we(),1);Ne();_i();ng();i5();hr();Bi();Ya();oe();hae={top:0,bottom:0},Rx=new Array,ji={closeOverlay:()=>{},openOverlay:()=>{},getOverlay:()=>{},toggleOverlay:()=>{},handleGlobalClick:()=>{},getAllOverlays:()=>{}},kx=class extends se{constructor(e){super(e),this.state={activeOverlays:[]},this.intermediateActiveOverlays=this.state.activeOverlays,ji.openOverlay=this.openOverlay,ji.closeOverlay=this.closeOverlay,ji.toggleOverlay=this.toggleOverlay,ji.getOverlay=this.getOverlay,ji.handleGlobalClick=this.handleGlobalClick,ji.getAllOverlays=this.getAllOverlays}componentDidMount(){requestAnimationFrame(()=>{this.autoRenderOverlays()})}autoRenderOverlays=(e=[])=>{if(this.props.adminMode){let a=this.props.store.getState(),l=[this.props.PIDToEdit,this.props.overlayBeingPreviewed].filter(c=>!!c&&a.pages.byId[c]?.overlay===!0);l.includes(this.props.PIDToEdit)&&this.openOverlay(this.props.PIDToEdit),this.state.activeOverlays.forEach(c=>{l.includes(c.pid)||this.closeOverlay(c?.pid)});return}let i=this.props.autoRenderableOverlays.map(a=>a.id),r=e.map(a=>a.id),n=hs.default.difference(r,i),o=hs.default.difference(i,r);n.forEach(a=>{this.closeOverlay(a)}),o.sort((a,l)=>this.props.sortMap[l]-this.props.sortMap[a]),o.forEach(a=>{this.openOverlay(a)})};componentDidUpdate=(e,i)=>{if((this.props.autoRenderableOverlays!==e.autoRenderableOverlays||this.props.adminMode&&!e.adminMode)&&this.autoRenderOverlays(e.autoRenderableOverlays),this.props.adminMode!==e.adminMode&&this.autoRenderOverlays([]),this.state.activeOverlays!==i.activeOverlays){let r=hs.default.difference(this.state.activeOverlays,i.activeOverlays),n=hs.default.difference(i.activeOverlays,this.state.activeOverlays);if(Rx=[...this.state.activeOverlays],lg(),r.length>0)for(let o of r)(o.getOverlayOptions().animateOnOpen||o.getOverlayOptions().animateOnClose)&&o.ref?.current?.base.addEventListener("animationend",this.handleAnimationEnd)}};componentWillUnmount=()=>{};handleGlobalClick=(e,i)=>{if(this.props.adminMode||i.closest(".quick-view")||document.querySelector(".alert-window"))return;let o=i.closest(".page-content")?.closest(".page")?.getAttribute("id"),a=this.state.activeOverlays.find(b=>b.pid===o),l=this.state.activeOverlays[this.state.activeOverlays.length-1],c=this.props.store.getState(),d=!!(this.target&&this.target.closest(".overlay-content")),m=Object.keys(c?.pages?.byId).some(b=>{let _=c.pages.byId[b];if(!_.overlay)return!1;let E=e.getAttribute("href")?.replace(/\//,"");return _.purl===E}),f=c.pages.byId[l?.pid]?.purl,v=e?.getAttribute("href")?.replace(/\//,"");if(this.state.activeOverlays.some(b=>b.getOverlayOptions().closeOnNavigate)&&e.hasAttribute("href")&&(e.getAttribute("rel")==="history"||e.getAttribute("rel")==="home-page")&&e.getAttribute("href").replace(/\//,"").toLowerCase()!=="contact-form"&&!c.frontendState.contactForm.inited&&!c.frontendState.cartOpen&&m===!1){requestAnimationFrame(()=>{window.__deferred_page_load_promise__?window.__deferred_page_load_promise__.then(()=>{requestAnimationFrame(()=>{this.state.activeOverlays.forEach(b=>{b.getOverlayOptions().closeOnNavigate&&this.closeOverlay(b.pid)})})}):a?this.closeOverlay(a.pid):this.state.activeOverlays.forEach(b=>{b.getOverlayOptions().closeOnNavigate&&this.closeOverlay(b.pid)})});return}if(l&&l.getOverlayOptions().closeOnClickout===!0&&!c.frontendState.contactForm.inited&&!c.frontendState.cartOpen&&o!==l?.pid&&e.tagName!=="A"){this.closeOverlay(l?.pid);return}};handleAnimationEnd=e=>{if(e.target.classList.contains("page"))switch(e.animationName){case"overlayOpen":case"overlayOpenWithoutOpacity":{let i=e.target.closest(".overlay-animating");i&&i?.classList?.remove("overlay-animating"),e.target.classList.remove("overlay-open");break}case"overlayClose":case"overlayCloseWithoutOpacity":{setTimeout(()=>{let r=e.target.closest(".overlay-animating");r&&r?.classList?.remove("overlay-animating")},101),e.target.classList.remove("overlay-close");let i=e.target.getAttribute("id");this.closeOverlay(i,!0);break}}};openOverlay=(e,i={})=>{!e||this.getOverlay(e)||(this.intermediateActiveOverlays=[...this.intermediateActiveOverlays,{pid:e,ref:me(),getOverlayOptions:()=>fae(e,this.props.overlayOptionsByPID[e],i)}],this.setState({activeOverlays:this.intermediateActiveOverlays}))};closeOverlay=(e,i=!1)=>{if(e){if(i===!1){let r=this.getOverlay(e);if(!r)return;let n=r.getOverlayOptions();if(r.ref?.current?.base&&n?.animateOnClose?.speed>0){r.ref.current.base.classList.add("overlay-close"),r.ref.current.base.classList.add("overlay-animating");return}}this.intermediateActiveOverlays=this.intermediateActiveOverlays.filter(r=>r.pid!==e),this.setState({activeOverlays:this.intermediateActiveOverlays})}};toggleOverlay=(e,i)=>{this.getOverlay(e)?this.closeOverlay(e):this.openOverlay(e,i)};getAllOverlays=()=>this.intermediateActiveOverlays;getOverlay=e=>this.intermediateActiveOverlays.find(i=>i.pid===e);render(){return this.state.activeOverlays.map(({pid:e,getOverlayOptions:i,ref:r})=>g(ra,{id:e,contentPad:hae,isOverlay:!0,overlayOptions:i(),ref:r},e))}},fae=un((t,e,i)=>hs.default.merge({},t5,e,i)),mae=un(t=>t=hs.default.mapValues(t,e=>e.overlay_options));if(!ne){Px=null,$i=null,sg=!1,jr=!1,ag=null,Ix=v=>{if(clearTimeout(Px),Px=setTimeout(()=>{sg=!1,jr=!1},200),!sg){let b=[...Rx].reverse().map(E=>document.getElementById(E.pid)?.closest(".overlay-content:not(.overlay-animating)")),_=b.find(E=>E?.contains(v));if($i=null,_)if(_.classList.contains("overlay-allow-scroll"))$i=_,jr=!0;else{let E=b[0].classList?.contains("overlay-allow-scroll")?b[0]:null;if(E)$i=E,jr=!0;else{let C=_.querySelector(".page-content")?.contains(v),I=_.querySelector(".backdrop");!C&&!_.classList.contains("is-passthrough-overlay")||I||C&&!_.classList.contains("is-content-passthrough-overlay")?(jr=!0,$i=null):(jr=!1,$i=null)}}else{let E=b.find((C,I)=>C?.classList?.contains("overlay-allow-scroll")??!1);E?($i=E,jr=!0):(jr=!1,$i=null)}sg=!0}};let t=0,e=0,i=null,r=null,n,o=null,a=0,l=null,c=!1,d=!1,m=!1,f=0;Ax=v=>{t=ag-v.touches[0].clientY,e=e*.8+t*.2,ag=v.touches[0].clientY,clearTimeout(i),i=setTimeout(()=>{t=0},300),$i&&($i.scrollTop=$i.scrollTop+t),(jr||c)&&(jr=!0,v.preventDefault(),v.stopPropagation()),jr&&(document.scrollingElement.scrollTop=a)},r5=v=>{t=v.deltaY,Ix(v.target),jr&&v.preventDefault(),$i&&($i.scrollTop=$i.scrollTop+t)},n5=()=>{m||(m=!0,a=document.scrollingElement.scrollTop,document.scrollingElement.style.overflow="hidden",document.scrollingElement.style.overscrollBehavior="none",document.scrollingElement.scrollTop=a)},Tx=hs.default.debounce(()=>{m&&(m=!1,document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="",document.scrollingElement.scrollTop=a)},150),Mx=v=>{if(!r){Tx();return}let b=n==0?16:v-n;n=v,e=e*.97;let _=r.scrollTop;r.scrollTop=r.scrollTop+e*(b/16.667),r.scrollTop-_!=0?f=0:f++,o=requestAnimationFrame(Mx),(Math.abs(e)<.5||f>15)&&(r=null)},window.addEventListener("wheel",r5,{passive:!1}),window.addEventListener("touchstart",v=>{if(f=0,d=!1,r=null,cancelAnimationFrame(o),Ix(v.touches[0].target),e=0,t=0,l=v.touches[0].clientY,c=v.touches[0].target.closest(".overlay-content"),c){let b=c.querySelector(".page-content")?.contains(v.touches[0].target),_=c.querySelector(".backdrop");(!b&&c.classList.contains("is-passthrough-overlay")&&!_||b&&c.classList.contains("is-content-passthrough-overlay"))&&(c=null)}($i||c)&&(n5(),ag=v.touches[0].clientY,document.body.addEventListener("touchmove",Ax,{passive:!1}))}),document.body.addEventListener("click",v=>{d=!0}),document.body.addEventListener("touchend",v=>{document.body.removeEventListener("touchmove",Ax,{passive:!1}),$i&&Math.abs(e)>2?(r=$i,clearTimeout(i),n=window?.performance?.now?.()??0,e=t*.8+e*.2,o=requestAnimationFrame(Mx)):Tx();let b=l-v.changedTouches[0].clientY;if(!r&&Math.abs(b)<10&&jr){let _=v.changedTouches[0].target;setTimeout(()=>{d||ji.handleGlobalClick(_,_)},330)}},{passive:!1}),Ye.on("window-resize",()=>{lg()}),lg=hs.default.debounce(()=>{let v=[...Rx].reverse(),b=v.findIndex(_=>{let E=_.ref?.current?.base.closest(".overlay-content");return E?E.classList.contains("overlay-allow-scroll")&&!E.classList.contains("overlay-close"):!1});v.forEach((_,E)=>{let C=_.ref?.current?.base.closest(".overlay-content");C&&(E==0?C.classList.add("top-overlay"):C.classList.remove("top-overlay"),b==-1?(C.classList.remove("top-scrollable-overlay"),C.classList.remove("behind-top-scrollable-overlay")):E>b?(C.classList.remove("top-scrollable-overlay"),C.classList.add("behind-top-scrollable-overlay")):E==b?(C.classList.add("top-scrollable-overlay"),C.classList.remove("behind-top-scrollable-overlay")):(C.classList.remove("top-scrollable-overlay"),C.classList.remove("behind-top-scrollable-overlay")))}),b>-1?document.body.classList.add("has-scrollable-overlay"):document.body.classList.remove("has-scrollable-overlay")},30),lg()}o5=Cn(Wn(De(gae,vae)(kx)))});function wae(t,e){let i=e.idType==="purl"?Ke.getContentByPurl(t,e.id):Ke.getContentById(t,e.id),r,n=null,o=null;if(!i){let a=!1;if(t.frontendState.networkErrors.find(l=>l.id===e.id&&l.idType===e.idType&&l)!==void 0||t.frontendState.inAdminFrame){if(e.idType==="purl"&&(r=t.site.tags.find(l=>l.url===e.id),!r)){for(let l in t.pages.byId)if(r=t.pages.byId[l].tags.find(c=>c.url===e.id),r)break}r||(a=!0)}if(a)return{content:null,pageNotFound:a}}if(i)if(i.page_type==="set"){n=i.id;let a=Ke.getContentByPurl(t,e.hashPurl),l=t.structure.indexById[a?.id]||0,c=t.sets.byId[Ke.getItemParentId(t,a?.id)]||i;o=bae(t.structure,t.pages,t.sets,c,l,Dx(Ke.getSetsByParent(t),n))}else n=Ke.getItemParentId(t,i.id);else r&&(n="root",o=Object.values(t.pages.byId).filter(a=>t.structure.indexById[a.id]===null||a.crdt_state===$t.Deleted?!1:a.tags.some(l=>l.tag===r.tag)).map(a=>({content:a,position:"below"})),o.sort((a,l)=>t.structure.bySort[a.content.id]-t.structure.bySort[l.content.id]));return{tag:r,hasContent:i!==void 0,contentId:i?.id,contentType:i?.page_type,contentTitle:i?.title,contentPurl:i?.purl,contentIsStack:i?.stack,contentIsPin:i?.pin,contentIsOverlay:i?.overlay,contentCRDTState:i?.crdt_state,children:o,parentSetPID:n,isFeed:t.sets.byId.root.stack,topPins:Ke.getPinsForSet(t,n,"top",i?.id),bottomPins:Ke.getPinsForSet(t,n,"bottom",i?.id),adminMode:t.frontendState.adminMode}}function xae(t){return It({fetchContent:Fe.fetchContent,fetchPagesByTag:Fe.fetchPagesByTag,fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState},t)}var s5,Mo,yae,Nx,Ox,cg,Dx,a5,bae,Lx,Fx=M(()=>{Ee();di();pt();s5=pe(Uh(),1);Ya();Mo=pe(we(),1);na();jt();Ne();_i();Rt();ng();e5();Cx();Ad();hr();ug();oe();yae=async t=>{let e=[];if(!t.hasContent){let i=t.fetchContent(t.id,{idType:t.idType});e.push(i)}ne&&e.push(a5(t,{up:!1,down:!0})),await Promise.allSettled(e).catch(i=>{})},Nx={top:0,bottom:0},Ox=10,cg=class extends se{constructor(e){super(e),this.contentRef=me(),this.contentParentRef=me(),this.topPaginationWatcherRef=me(),this.bottomPaginationWatcherRef=me(),this.paginationLimitsTriggered={up:!1,down:!1},this.state={contentPad:Nx,pageRenderLimits:{above:this.props.hashPurl?25:0,below:25},completedPaginationAbove:!1,completedPaginationBelow:!1},ne||(this.paginationObserver=new IntersectionObserver(this.onPaginationObserverCallback,{root:document,rootMargin:screen.height*2+"px",threshold:[0,1]}),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{var n=window.getComputedStyle(r.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),a=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top"));(o!==this.state.contentPad.top||a!==this.state.contentPad.bottom)&&this.setState({contentPad:{top:o,bottom:a}})})})),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId,activeTag:void 0,activeHashPurl:this.props.hashPurl})}getContentByPosition(e){return this.props.children?.filter(i=>i.position===e)||[]}getPageStack(){let e=this.getPageContainerPinOffsets(),i=[];return this.props.topPins.forEach(r=>{i.push(g(ra,{id:r.id,contentPad:Nx,stackedPage:this.props.topPins.length>1},r.id))}),this.renderedChildren=[...Mo.default.takeRight(this.getContentByPosition("above"),this.state.pageRenderLimits.above),...Mo.default.take(this.getContentByPosition("below"),this.state.pageRenderLimits.below)],i.push(g("div",{className:"pages",ref:this.contentRef,style:e,children:this.props.contentType==="set"||this.props.tag?!this.props.tag&&this.props.isFeed!==!0&&this.props.contentIsStack!==!0?null:g(te,{children:[g("div",{className:`pagination-watcher ${this.state.completedPaginationAbove?"pagination-complete":""}`,"data-direction":"up",ref:this.topPaginationWatcherRef},"pagination_watcher_up"),g(Qz,{id:this.props.contentId,childNodes:this.renderedChildren,contentPad:this.state.contentPad},this.props.contentId),g("div",{className:`pagination-watcher ${this.state.completedPaginationBelow?"pagination-complete":""}`,"data-direction":"down",ref:this.bottomPaginationWatcherRef},"pagination_watcher_down")]},"page_container_fragment"):this.props.contentIsPin||this.props.contentIsOverlay?null:g(ra,{id:this.props.contentId,contentPad:this.state.contentPad,stackedPage:!1},this.props.contentId)},"page_container")),this.props.bottomPins.forEach(r=>{i.push(g(ra,{id:r.id,contentPad:Nx,stackedPage:this.props.bottomPins.length>1},r.id))}),i}render(){if(this.props.pageNotFound)return g(og,{message:"Page not found."});if((!this.props.hasContent||this.props.contentCRDTState===$t.Deleted)&&!this.props.tag)return null;let e=this.getPageStack();return g("div",{className:"content",ref:this.contentParentRef,children:[g(o5,{pinContextPID:this.props.parentSetPID}),e]})}bindContentParent=()=>{this.resizeObserver&&this.contentParentRef.current&&!this.state.contentParentRef&&(this.resizeObserver.observe(this.contentParentRef.current),this.setState({contentParentRef:this.contentParentRef.current}))};componentDidMount(){this.bindContentParent(),this.attachPaginationWatchers(),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId,activeTag:void 0,activeHashPurl:this.props.hashPurl})}shouldComponentUpdate(e,i,r){if(this.props===e&&this.state===i&&this.context===r)return!1;if(this.props.contentId!==e.contentId||this.props.hashPurl!==e.hashPurl||this.props.tag!==e.tag){let n=e.hashPurl&&this.props.hashPurl!==e.hashPurl;this.setState({pageRenderLimits:{above:n?25:0,below:25}})}return!0}componentDidUpdate(e,i,r){this.bindContentParent(),!this.props.adminMode&&e.contentCRDTState!==$t.Deleted&&this.props.contentCRDTState===$t.Deleted&&(this.props.updateFrontendState({alertModal:{message:"Page not found",type:"notice"}}),to.replace("/"+e.contentPurl||"/")),this.props.id&&e.id!==this.props.id&&this.props.fetchContent(this.props.id,{idType:this.props.idType}),this.props.tag&&e.tag!==this.props.tag&&(this.props.updateFrontendState({activePID:void 0,activeTag:this.props.tag}),this.requestPagination()),this.props.hashPurl!==e.hashPurl&&this.props.updateFrontendState({activeHashPurl:this.props.hashPurl}),this.props.hasContent&&this.props.contentId!==e.contentId&&(this.props.updateFrontendState({activePID:this.props.contentId,activeTag:void 0}),this.requestPagination()),this.attachPaginationWatchers(),this.props.pageNotFound!==e.pageNotFound&&this.props.updateFrontendState({pageNotFound:this.props.pageNotFound})}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.unobserve(this.contentParentRef.current),this.paginationObserver&&this.paginationObserver.disconnect(),this.props.updateFrontendState({activePID:void 0,activeTag:void 0,activeHashPurl:""})}attachPaginationWatchers(){this.paginationObserver&&this.topPaginationWatcherRef.current&&this.bottomPaginationWatcherRef.current?(this.topPaginationWatcherRef.current!==this.topPaginationWatcherEl&&(this.topPaginationWatcherEl&&this.paginationObserver.unobserve(this.topPaginationWatcherEl),this.paginationObserver.observe(this.topPaginationWatcherRef.current),this.topPaginationWatcherEl=this.topPaginationWatcherRef.current),this.bottomPaginationWatcherRef.current!==this.bottomPaginationWatcherEl&&(this.bottomPaginationWatcherEl&&this.paginationObserver.unobserve(this.bottomPaginationWatcherEl),this.paginationObserver.observe(this.bottomPaginationWatcherRef.current),this.bottomPaginationWatcherEl=this.bottomPaginationWatcherRef.current)):(delete this.topPaginationWatcherEl,delete this.bottomPaginationWatcherEl)}onPaginationObserverCallback=e=>{let i=!1;e.forEach(r=>{let n=r.target.dataset.direction;r.isIntersecting?(this.paginationLimitsTriggered[n]=!0,i=!0):this.paginationLimitsTriggered[n]=!1}),i&&this.requestPagination()};requestPagination=async()=>{if(this.isPaginating)return;this.isPaginating=!0;let e=0;for(;this.isPaginating;){if(e++>25){console.log("Exceeded max consecutive pagination attempts...");break}(this.paginationLimitsTriggered.up||this.paginationLimitsTriggered.down)&&this.setState({pageRenderLimits:{above:(this.state.pageRenderLimits.above||0)+(this.paginationLimitsTriggered.up?Ox:0),below:(this.state.pageRenderLimits.below||0)+(this.paginationLimitsTriggered.down?Ox:0)}}),await a5(this.props,this.paginationLimitsTriggered).then(i=>{let r=i.length===0&&!(this.paginationLimitsTriggered.up&&this.state.pageRenderLimits.above<this.getContentByPosition("above").length),n=i.length===0&&!(this.paginationLimitsTriggered.down&&this.state.pageRenderLimits.below<this.getContentByPosition("below").length);this.setState({completedPaginationAbove:r,completedPaginationBelow:n}),r&&n&&(this.isPaginating=!1)}).catch(i=>{console.error(i),this.isPaginating=!1}),this.props.tag&&(this.isPaginating=!1,this.setState({pageRenderLimits:{above:9e9,below:9e9}})),await new Promise(i=>setTimeout(i,250))}};getPageContainerPinOffsets=()=>{let e={marginTop:0,marginBottom:0};if(ne)return e;let i=r=>(r.hasOverlayPins&&!r.adjustsSelf&&r.adjusterId!==null?r.totalHeight:0)-(r.adjustedLevel==="content"?r.adjusterHeight:0);return Mo.default.each(this.context.levelData.levels,(r,n)=>{e.marginTop+=i(r.top),e.marginBottom+=i(r.bottom)}),e}},Dx=(t,e,i=[])=>(i.push(e),t[e]?.forEach(r=>{Dx(t,r,i)}),i),a5=(t,e,i={})=>new Promise((r,n)=>{if(!t||!e)return n("Missing pagination parameters");if(t.tag)return t.fetchPagesByTag(t.tag.url).then(r).catch(n);let o=t.store.getState(),a=[];if(Mo.default.each(e,(l,c)=>{if(!l)return;let d,m;if(c==="up"){let b=Mo.default.first(t.children);b&&(m=b.index,d=b.parent)}else if(c==="down"){let b=Mo.default.last(t.children);b?(m=b.index,d=b.parent):t.contentType==="set"&&(m=0,d=t.contentId)}if(d===void 0||m===void 0)return;let f=0,v=Dx(Ke.getSetsByParent(o),t.parentSetPID);os(o.structure,o.pages,o.sets,o.sets.byId[d],m,{reverse:c==="up",callback:(b,_,E)=>{if(!E&&v.includes(b)&&(a.push({parent:b,index:_}),f++),f>=Ox)return"break"}})}),a.length>0){let l=Mo.default.groupBy(a,"parent"),c=Mo.default.map(l,(d,m)=>t.fetchContent(m,{indexes:Mo.default.map(d,"index"),idType:"pid"}));Promise.all(c).then(r).catch(n)}else r([])}),bae=un((t,e,i,r,n,o)=>{let a=[],l=[],c=i.byId.root.stack;return os(t,e,i,r,n-1,{reverse:!0,traverseUp:!0,includeSets:!0,callback:(d,m,f)=>{if(!f||!o.includes(d))return"break";f&&(a.unshift({parent:d,index:m,content:f,position:"above"}),l.push(f))}}),os(t,e,i,r,n,{reverse:!1,traverseUp:!0,includeSets:!0,callback:(d,m,f)=>{if(!f||!o.includes(d))return"break";f&&!l.includes(f)&&a.push({parent:d,index:m,content:f,position:"below"})}}),a});cg.contextType=ss;Lx=Cn(De(wae,xae)((0,s5.frontloadConnect)(yae,{onMount:!0,onUpdate:!1})(cg)))});function Sae(t){return It({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},t)}var fs,sl,dg,op,pg,ms,hg,zx,l5,Vu,sp,u5,c5=M(()=>{Ee();di();pt();jt();fs=pe(we(),1);_i();Ad();ki();xo();Wi();il();Bi();yx();Ne();Qm();hr();oe();sl=new WeakMap,dg=new WeakMap,op=new WeakMap,pg=new WeakMap,l5=t=>{t.forEach(function(e){sl.has(e.target)&&sl.get(e.target).onAboveViewPort(e)})},Vu=0;ne||(ms=new ResizeObserver(function(t){let e={};l5(hg.takeRecords()),t.forEach(function(i){let r=sl.get(i.target);if(r&&(r.onResize(i.contentRect),e[r.props.id]=i.contentRect.height),dg.has(i.target)&&dg.get(i.target).onBodyCopyResize(i.contentRect.width),op.has(i.target)||pg.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),a=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(op.has(i.target)){let l=op.get(i.target);(l.state.pageContentPad.top!==o||l.state.pageContentPad.bottom!==a)&&l.setState({pageContentPad:{top:o,bottom:a}})}else{let l=pg.get(i.target);(l.state.pageLayoutPad.top!==o||l.state.pageLayoutPad.bottom!==a)&&l.setState({pageLayoutPad:{top:o,bottom:a}})}}}),Vu!==0&&(document.scrollingElement.scrollTop+=Vu,Vu=0)}),hg=new IntersectionObserver(l5,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),zx=new IntersectionObserver((t,e)=>{t.forEach(function(i){sl.has(i.target)&&sl.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}));sp=class extends se{constructor(e){super(e),this.bodycopyRef=me(),this.pageContentRef=me(),this.pageRef=me(),this.pageLayoutRef=me(),this.galleryRef=me(),this.lastBodycopyRef=me(),this.lastPageContentRef=me(),this.lastPageRef=me(),this.lastPageLayoutRef=me(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},authorized:ne?null:localStorage.getItem("images-include-offline"),imageSort:"forward",windowHeight:Ye.data.window.h,fullyRender:!0,lastPageLayoutHeight:100},this.localStyleRef=me(),this.scrollingElement={current:ne?null:window}}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=au(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=()=>{this.setState(e=>this.state.windowHeight===Ye.data.window.h?null:{windowHeight:Ye.data.window.h})};onResize=(e,i=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(Vu+=e.height-this.currentHeight,i||(document.scrollingElement.scrollTop+=Vu,Vu=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let i=e.isIntersecting;ne&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{this.setState({fullyRender:e,lastPageLayoutHeight:this.pageLayoutRef.current?.getBoundingClientRect().height||100},i)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=fs.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return fs.default.keys(r).length>0&&fs.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}onItemClick=e=>{if(e.button!==2||!this.state.zoomedOut)return;let i=e?.target.closest("media-item");i&&(e.preventDefault(),this.setState({zoomedOut:!1},()=>{setTimeout(()=>{i?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:0,preventQuickViewClose:!0,lazyScroll:!1}})),i.classList.add("hey-listen"),this.flashInterval=setInterval(()=>{i.classList.contains("hey-listen")?i.classList.remove("hey-listen"):i.classList.add("hey-listen")},300),setTimeout(()=>{i.classList.remove("hey-listen"),clearInterval(this.flashInterval)},1200)},0)}),console.log(e))};render(){if(!this.props.hasPage)return null;let e=null,i=!1;if(this.state.fullyRender){let r=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom,n=Math.max(10,this.state.windowHeight-r),o=null;this.props.access_level==="password"?o=g(Bu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?o=this.lockedContent:o=this.lockedContent=this.props.content,e=g(te,{children:g(zf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:[g("style",{id:"img-style",children:`
							body.mobile .page-content{
								${this.state.zoomedOut?"padding: 1px 1px 8rem 1px;":"padding: 2rem 2rem 8rem 2rem;"}
							}
							.page-content {
								${this.state.zoomedOut?"padding: 1px;":"padding: 3rem 3rem 8rem 3rem;"}
							}
							body.mobile .caption {
								font-size: 3rem;
							}
							.caption {

							    margin-top: 1rem;
							    font-size: .75rem;
							    font-weight: 400;
							    color: rgba(0, 0, 0, 0.35);
							    font-style: normal;
							    line-height: 1.3;
							}

							.caption a {
							    color: rgba(0, 0, 0, 0.35);
								text-decoration:none;
							}

							.hey-listen::part(media){
			                	opacity: 0.3;
							}
									

							media-item::part(media){
								transition: opacity ease-in-out 0.1s;								
								outline: 1px solid rgba(0,0,0,0.08);
								outline-offset: -1px;
							}

							media-item:hover a.original {
								display: block;
							}
							.caption a.original {
								padding: 8px;
								margin: -8px;
								display:none;
								float: right;
							}

							.quick-view-background {
								background-color: rgba(21,21,21, 0.8);
							}

							body.mobile .sort-controls text-icon {
								height: 5rem;
								border: 1rem solid white;								
							}

							.sort-controls {
								display: grid;
								position: fixed;
								bottom: 1.8rem;
								left: 1.4rem;
								z-index: 1000;
								column-gap: 1px;
								grid-template-columns: 1fr 1fr 1fr 1fr;
								filter: drop-shadow(0px 1px 2px rgba(0,0,0, 0.2));
							}

							.sort-controls text-icon.active {
								color: black;
							}

							.sort-controls text-icon:active {
								transform: translate3d(0px, 2px, 0px);
							}

							.sort-controls text-icon {
								user-select:none;
								transform: translate3d(0px, 0px, 0px);
								transition: .05s transform linear;
								color: #ccc;
								background-color: white;
								border: .5rem solid white;
								border-radius: 100%;
								height: 2.5rem;
								cursor: pointer;
							}

							.sort-controls text-icon.zoom {
								color: black;
							}

							${this.state.zoomedOut?`
							media-item:hover .caption a.page-link {
								display: block;
							}

							media-item .caption {
								margin: 0;
								padding: 0;
								position: absolute;
								inset: 0;
								pointer-events:none;
							}
							media-item .caption a {
								display: none;
								color: transparent;
								pointer-events:auto;
							}

							media-item .caption a.page-link {
								pointer-events: auto;
								overflow: hidden;
								font-size: 0;

								border-style: solid;
								position: absolute;
								top: 0px;
								right: 0px;
								z-index: 99;
							}

							media-item .caption a.page-link::after {
								display: block;
								padding: 5px;
								content: '\u{1F517}';
								font-size: 14px;
								font-family:monospace;
								color: black;
								filter:saturate(0);
							}

							`:""}
						`}),g("div",{className:"page-layout",ref:this.pageLayoutRef,children:g("div",{className:"page-content",ref:this.pageContentRef,children:[this.state.authorized?g("div",{className:"sort-controls",children:[g("text-icon",{icon:"downwards-arrow",onPointerDown:a=>{a.preventDefault(),a.stopPropagation(),this.setState({imageSort:"forward"})},className:this.state.imageSort==="forward"?"active":""}),g("text-icon",{icon:"upwards-arrow",onPointerDown:a=>{a.preventDefault(),a.stopPropagation(),this.setState({imageSort:"reverse"})},className:this.state.imageSort==="reverse"?"active":""}),g("text-icon",{icon:"shuffle",onPointerDown:a=>{a.preventDefault(),a.stopPropagation(),this.state.imageSort==="shuffle"?this.galleryRef.current.dispatchEvent(new Event("refresh-thumbnail-index")):this.setState({imageSort:"shuffle"})},className:this.state.imageSort==="shuffle"?"active":""}),g("text-icon",{icon:this.state.zoomedOut?"expand-arrows":"collapse-arrows",onPointerDown:a=>{a.preventDefault(),a.stopPropagation(),this.setState({zoomedOut:!this.state.zoomedOut})},className:"zoom"})]}):null,g(Um,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[g(So,{portalHost:this.bodycopyRef}),g("bodycopy",{style:{"--fit-height":n+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,children:this.state.authorized?g("gallery-justify",{onContextMenu:this.onItemClick,ref:this.galleryRef,"thumbnail-index":"img:all",sort:this.state.imageSort,"row-height":this.state.zoomedOut?"10vw":"15vw","mobile-row-height":this.state.zoomedOut?"200px":"100vh","show-title":!0,gutter:this.state.zoomedOut?"1px":"2rem 3rem"}):null})]})]})})]})})}else e=g("div",{style:{height:this.state.lastPageLayoutHeight+"px"}});return g("div",{"page-url":this.props.purl?.toLowerCase(),className:"page",ref:this.pageRef,editing:!1,children:[g("a",{id:this.props.purl}),g(pu,{passthrough:!1,scrollingElement:this.scrollingElement,children:e})]})}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.updateShowCartLinkCounts(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&Lf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(sl.delete(this.lastPageRef.current),ms.unobserve(this.lastPageRef.current),hg.unobserve(this.lastPageRef.current),zx.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(sl.set(this.pageRef.current,this),ms.observe(this.pageRef.current),hg.observe(this.pageRef.current),zx.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(pg.delete(this.lastPageLayoutRef.current),ms.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(pg.set(this.pageLayoutRef.current,this),ms.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(op.delete(this.lastPageContentRef.current),ms.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(op.set(this.pageContentRef.current,this),ms.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(dg.delete(this.lastBodycopyRef.current),ms.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(dg.set(this.bodycopyRef.current,this),ms.observe(this.bodycopyRef.current)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){this.props.hashPurl===this.props.purl&&(this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView())}checkLocalStorage=()=>{localStorage.getItem("images-include-offline")&&!this.state.authorized&&(this.setState({authorized:!0}),clearInterval(this.checkStorageInterval))};onKeyDown=e=>{e.keyCode===27&&!store.getState().frontendState.quickView.inited&&(e.preventDefault(),window.location=window.location.origin)};componentDidMount(){window.addEventListener("keydown",this.onKeyDown),this.checkStorageInterval=setInterval(()=>{this.checkLocalStorage()},180);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)}),setTimeout(()=>{e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)})},100),this.runHashScroll(),Ye.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender()}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.updateShowCartLinkCounts(),this.fetchCommerceProductsByLink()})),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){document.body.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),window.removeEventListener("keydown",this.onKeyDown),clearInterval(this.checkStorageInterval);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.disabled=!1}),Ye.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];fs.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};updateShowCartLinkCounts=()=>{if(!this.pageRef.current||!this.props.has_shop||!this.props.cartData||fs.default.isEmpty(this.props.cartData)||this.props.adminFrame)return;let e=fs.default.keys(this.props.cartData).length,i=this.pageRef.current.querySelectorAll('a[rel="show-cart"], a[rel="show_cart"]');fs.default.each(i,r=>{if(r.hasAttribute("show-count")){let n=r.innerHTML.replace(/ *\([^)]*\) */g,"");r.innerText=n+" ("+e+")"}})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),fs.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};sp.defaultProps={contentPad:{top:0,left:0,bottom:0,right:0}};sp.contextType=ss;u5=De((t,e)=>{let i={id:"img",purl:"/img",pin:!1,title:"Images",backdrops:{},content:"",access_level:"public"},r=(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl;return!ne&&!r&&(r=window.location.pathname.replace(/^\//,"").toLowerCase()),typeof r=="string"&&(r=r.toLowerCase()),{inAdminFrame:!1,isMobile:t.frontendState.isMobile,adminMode:!1,isEditingPage:!1,hasPage:i!==void 0,pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,activePID:t.frontendState.activePID,activePURL:r,pageDepth:Ke.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,cartData:t.commerce?.cart,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},Sae)(sp)});var d5,UMe,Hx,p5,h5=M(()=>{Ee();d5=pe(En(),1);Vs();Ne();UMe=pe(we(),1);oe();Hx=class extends se{constructor(e){super(e),this.state={error:!1},this.inputRef=me()}submit=e=>{e.preventDefault(),this.setState({error:!1,downloadStarted:!1});let i=this.inputRef.current?.value;if(!i)return this.setState({error:"Email address is not valid."});d5.default.post(`https://${Jh?nu:"dev.cargo.site"}/c3filedownload/validate/${i}/${this.props.hash}`).then(r=>{if(r?.data?.jdata?.valid)return this.setState({error:!1,downloadStarted:!0}),window.location.href=`https://${Jh?nu:"dev.cargo.site"}/c3filedownload/download/${i}/${this.props.hash}`;this.setState({error:r?.data?.error||"Email address is not valid."})}).catch(r=>{this.setState({error:"Email address is not valid."})})};onKeyDown=e=>{this.setState({error:!1})};render(){return g(te,{children:[g("style",{children:`

					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}

					.message {
						margin-bottom: 15px;
					}

					.error {
						color: #f00;
					}

					input[type="email"] {
						border-radius: 100px;
						border: 1px solid rgba(0,0,0,0.75);
						padding: 10px 20px;
						font-family: Helvetica;
						font-size: 18px;
						font-style: normal;
						font-weight: 400;
						line-height: 21px;
						letter-spacing: -0.004em;
						text-align: left;
						width: 340px;
					}

					input[type="email"]:placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-webkit-input-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]:-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					
					.submit {
						-webkit-appearance: none;
						border: none;
						cursor: pointer;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
						font-size: 14.5px;
						white-space: nowrap;
						display: flex;
						margin: 0;
						width: 130px;
						justify-content: flex-start;
						padding: 6.5px 12px 7.5px 15px;
						font-weight: 500;
						flex: 1 1;
						text-align: center;
						height: auto;
						min-height: 28.5px;
						line-height: 1;
						border-radius: 100px;
						user-select: none;
						position: relative;
						background: #262626;
						color: #fff;
						padding-right: 5px;
						margin-top: 10px;
					}
					.submit:active {
						opacity: .7;
					}
				`}),this.state.downloadStarted?g("span",{className:"message",children:"Your download will begin shortly..."}):g(te,{children:[g("span",{className:"message",children:"Please verify your email address:"}),g("form",{noValidate:!0,onSubmit:this.submit,children:[g("input",{name:"email",type:"Email",placeholder:"Email address...",autofocus:"true",onKeyDown:this.onKeyDown,ref:this.inputRef,formNoValidate:!0}),g("button",{className:"submit",type:"submit",children:"Submit"})]}),this.state.error&&g(te,{children:[g("br",{}),g("span",{class:"error",children:this.state.error})]})]})]})}},p5=Hx});var g5={};si(g5,{default:()=>Iae});function Eae(t,e){return{siteId:t.site.id,contactForm:t.frontendState.contactForm,colorTheme:t.siteDesign?.contact_form?.theme||"auto",adminMode:Ri}}function Cae(t){return It({updateFrontendState:Fe.updateFrontendState},t)}var f5,m5,fg,Bx,qx,ZMe,Ux,_ae,Pae,Iae,v5=M(()=>{Ee();qe();Ls();f5=pe(En(),1);pt();di();jt();m5=pe(we(),1);Ne();oe();fg={},Bx=window.matchMedia("(max-aspect-ratio: 1/1)"),qx=Bx.matches,ZMe=Bx.addEventListener("change",t=>{qx=t.matches,fg[1]&&fg[1].setState({isMobile:qx})}),Ux=class extends se{constructor(e){super(e),this.state={loaded:!1,showContents:!1,animate:!1,sent:!1,loading:!1,emailValue:"",messageValue:"",emailError:!1,messageError:!1,isMobile:qx,shadowRoot:null,systemTheme:window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light",transitioningTheme:!1},this.cssLinkRef=me(),this.contactFormRef=me(),this.startTime=null,this.inputRef=me(),this.throttledResize=m5.default.throttle(this.resizeHandler,200)}componentDidMount(){this.contactFormRef.current&&!this.contactFormRef.current.shadowRoot&&this.contactFormRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.contactFormRef.current?.shadowRoot}),this.props.contactForm.inited||this.props.updateFrontendState({contactForm:{transition:!1,inited:!0}}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.darkModeMediaQueryCallback),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})}darkModeMediaQueryCallback=e=>{let i=window.matchMedia("(prefers-color-scheme: dark)");this.setState({systemTheme:i.matches?"dark":"light"})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`)};handleEmailChange=e=>{this.setState({emailValue:e.target.value,emailError:!1})};handleMessageChange=e=>{this.setState({messageValue:e.target.value,messageError:!1})};submitForm=()=>{this.validate()&&this.setState({loading:!0},()=>{this.startTime=new Date;let e={from:this.state.emailValue,site_id:this.props.siteId,message:this.state.messageValue};f5.default.post("https://cargo.site/dispatch/notifications/sendContactMessage",e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(r=>{let o=new Date-this.startTime;if(this.startTime=null,o<=2500){let a=2500-o;setTimeout(()=>{this.closeForm(null,"submit")},a)}else this.closeForm(null,"submit")}).catch(r=>{window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"Message failed to send, please try again.",type:"notice"}}}),this.startTime=null,this.handleFormError()})})};closeForm=(e,i)=>{this.startTime===null&&(document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),i?window.requestAnimationFrame(()=>{this.setState({sent:!0},()=>{this.resetForm()})}):window.requestAnimationFrame(()=>{this.setState({animate:!1},()=>{this.resetForm()})}))};resetForm=()=>{delete fg[1],setTimeout(()=>{this.props.closeOverlay()},280)};componentDidUpdate=e=>{this.props.contactForm.transition!==e.contactForm.transition&&!e.contactForm.transition&&this.props.contactForm.transition&&this.startTime===null&&this.state.animate&&this.closeForm(),this.props.colorTheme!==e.colorTheme&&this.setState({transitioningTheme:!0},()=>{setTimeout(()=>{this.setState({transitioningTheme:!1})},500)})};componentWillUnmount=()=>{this.props.contactForm.inited&&this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}}),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),document.body.style.overflow="",document.documentElement.style.removeProperty("--contact-form-vh"),document.documentElement.style.removeProperty("--contact-form-vw")};handleFormError=()=>{this.setState({loading:!1})};handleTransitionEnd=()=>{};focusInput=()=>{this.inputRef?.current?.focus()};validate=()=>{let e=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+$/i,i=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)+$/i,r=!0,n=!0,o=this.state.emailValue,a=this.state.messageValue;o.length<=0&&(r=!1),a.length<=0&&(n=!1);let l=o.split("@");return l.length!==2&&(r=!1),e.test(l[0])||(r=!1),i.test(l[1])||(r=!1),r||this.setState({emailError:!0}),n||this.setState({messageError:!0}),!(!r||!n)};onCSSLoad=()=>{this.setState({showContents:!0,isMobile:Bx.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",fg[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};render(){let e=this.props.colorTheme==="auto"||!this.props.colorTheme?this.state.systemTheme:this.props.colorTheme;return g("div",{className:"contact-form",ref:this.contactFormRef,children:[" ",this.state.shadowRoot&&Ge(g(te,{children:[g("link",{rel:"stylesheet",onLoad:this.onCSSLoad,ref:this.cssLinkRef,type:"text/css",href:"https://build.cargo.site/frontend/fe282c/css/front-end/contact-form.css"}),this.state.showContents===!0?g("div",{className:`background${this.state.animate?" active":""}${this.state.sent?" sent":""}${e?" "+e:""}${this.state.transitioningTheme?" transitioning-theme":""}`,children:g("div",{className:`modal${this.state.animate?" active":""}${this.state.sent?" sent":""}${this.state.isMobile?" mobile":""}`,onTransitionEnd:i=>{this.state.sent===!0&&this.handleTransitionEnd(i)},children:g("div",{className:"modal-inner",children:[g("div",{className:"header",children:[g("div",{className:"title"}),g("div",{className:"exit",onPointerUp:i=>{this.closeForm(i)},children:g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[g("circle",{opacity:"var(--contact-form-close-circle-opacity)",cx:"10",cy:"10",r:"10",fill:"var(--contact-form-color-flat-reverse)"}),g("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 11.0607L14.3099 15.3703L15.3705 14.3096L11.0609 10L15.3705 5.69036L14.3099 4.6297L10.0002 8.93934L5.69054 4.62964L4.62988 5.6903L8.93958 10L4.62988 14.3097L5.69054 15.3704L10.0002 11.0607Z",fill:"var(--contact-form-color-flat)"})]})})]}),g("hr",{}),g("div",{onPointerUp:i=>{this.focusInput(i)},className:"email",children:[g("label",{htmlfor:"email",children:["From:","\xA0"]}),g("div",{className:`text-input${this.state.emailError?" error":""}`,children:g("input",{ref:this.inputRef,type:"email",name:"email",autocomplete:"email",value:this.state.emailValue,onChange:i=>{this.handleEmailChange(i)},placeholder:"(enter your email address)..."})})]}),g("hr",{}),g("div",{className:`text-area${this.state.messageError?" error":""}`,children:g("textarea",{name:"message",type:"text",placeholder:"Write your message...",rows:"1",resize:"false",value:this.state.messageValue,onChange:i=>{this.handleMessageChange(i)}})}),g("hr",{}),g("div",{className:"button-area",children:this.state.loading?g(te,{children:g("button",{className:"send",children:["Sending",g(_ae,{})]})}):g(te,{children:[g("button",{className:"cancel",onPointerUp:i=>{this.closeForm(i)},children:"Cancel"}),g("button",{className:"send",onPointerUp:i=>{this.submitForm(i)},children:"Send"})]})})]})})}):null]}),this.state.shadowRoot)]})}},_ae=()=>g("div",{className:"caution-processing"});Pae=De(Eae,Cae)(Ux),Iae=Pae});var y5={};si(y5,{default:()=>Mae,validateShopModel:()=>vg});function Aae(t){return It({updateFrontendState:Fe.updateFrontendState,fetchCommerceProducts:Fe.fetchCommerceProducts,fetchContent:Fe.fetchContent,fetchShopModel:Fe.fetchShopModel,addCommerceProductToCart:Fe.addCommerceProductToCart,resetCommerceCart:Fe.resetCommerceCart},t)}var sRe,gg,mg,ap,Wx,vg,Vx,Tae,Mae,$x=M(()=>{Ee();qe();is();pt();di();jt();na();Ne();sRe=pe(En(),1),gg=pe(we(),1);oe();ne||(mg=window.matchMedia("(prefers-color-scheme: dark)"),ap=window.matchMedia("(max-aspect-ratio: 1/1)"),ap.addEventListener("change",()=>{Wx?.setState({isMobile:ap.matches})}));vg=async()=>{if(Dt.getState().site.shop_id===null)throw"site does not have shop setup";let e=await Dt.dispatch(Fe.fetchShopModel());if(gg.default.isEmpty(e))throw"no model data";if(Ri===!1&&e.has_valid_config===!1&&!Dt.getState().site?.is_template)throw Dt.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{header:"Coming Soon",type:"notice"}}}),"shop modal contains invalid config";return e},Vx=class extends se{constructor(e){super(e),vg().then(i=>{this.setState({shopModel:i},()=>{this.openOverlay()})}).catch(i=>{console.warn(i),this.closeOverlay()}),this.state={shopModel:null,loaded:!1,animate:!1,isMobile:ap.matches,shadowRoot:null,theme:this.getTheme()},this.cartElementRef=me(),this.iframeRef=me(),this.startTime=null,this.inputRef=me(),this.throttledResize=gg.default.throttle(this.resizeHandler,200)}closeOverlay=()=>{Dt.getState().frontendState.cartOpen!==!0?this.props.closeOverlay({replaceHistory:!0}):window.requestAnimationFrame(()=>{this.setState({closing:!0},()=>{setTimeout(this.props.closeOverlay,280)}),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")})};onKeyDown=e=>{if(e.key==="Escape"||e.keyCode===9){let r=window.store?.getState()?.frontendState.alertModal!==!1,n=document.querySelector(".alert-window")!==null;if(r||n)return;this.closeOverlay(e)}};openOverlay(){this.cartElementRef.current&&!this.cartElementRef.current.shadowRoot&&this.cartElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.cartElementRef.current?.shadowRoot}),this.props.updateFrontendState({cartOpen:!0}),window.addEventListener("keydown",this.onKeyDown,!0),requestAnimationFrame(()=>{this.iframeRef.current&&(document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"),this.iframeRef.current.src="/following_frame.html")})}onBeforeCartInit=()=>{this.iframeRef.current.contentWindow.__fetchCommerceProducts__=this.props.fetchCommerceProducts,this.iframeRef.current.contentWindow.__fetchContent__=this.props.fetchContent,this.iframeRef.current.contentWindow.__frontend_history__=this.props.history,this.iframeRef.current.contentWindow.__add_to_cart__=this.props.addCommerceProductToCart,this.iframeRef.current.contentWindow.__reset_cart__=this.props.resetCommerceCart,this.iframeRef.current.contentWindow.__close_overlay__=()=>{this.closeOverlay()}};onCartReady=()=>{this.proxyRoute(),this.proxyTheme()};onCSSLoad=()=>{this.setState({loaded:!0,isMobile:ap.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState({animate:!0})})})})})})})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`)};componentWillUnmount=()=>{this.props.updateFrontendState({cartOpen:!1}),Wx=null,mg.removeEventListener("change",this.onThemeChange),window.removeEventListener("cart-before-init",this.onBeforeCartInit),window.removeEventListener("cart-ready",this.onCartReady),document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),window.removeEventListener("keydown",this.onKeyDown,!0),document.documentElement.style.removeProperty("--cart-vh"),document.documentElement.style.removeProperty("--cart-vw"),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")};componentDidMount(){Wx=this,mg.addEventListener("change",this.onThemeChange),window.addEventListener("cart-before-init",this.onBeforeCartInit,!1),window.addEventListener("cart-ready",this.onCartReady,!1)}componentDidUpdate(e,i){this.props.requestedTheme!==e.requestedTheme&&this.onThemeChange(),this.state.theme!==i.theme&&this.proxyTheme(),this.proxyRoute()}onThemeChange=()=>{this.setState({theme:this.getTheme()})};getTheme=()=>this.props.requestedTheme==="auto"?mg.matches?"dark":"light":this.props.requestedTheme;proxyRoute(){!this.iframeRef||!this.iframeRef.current||gg.default.isEqual(this.props.match,this.currentMatch)||this.iframeRef.current.contentWindow.renderRoute&&(this.currentMatch=this.props.match,this.iframeRef.current.contentWindow.renderRoute?.(this.currentMatch))}proxyTheme(){try{this.iframeRef.current.contentWindow.dispatchEvent(new CustomEvent("colorScheme",{detail:this.state.theme}))}catch{}}render(){return this.state.shopModel?g("div",{className:"cart",ref:this.cartElementRef,children:[" ",this.state.shadowRoot&&Ge(g(te,{children:[g("link",{rel:"stylesheet",onLoad:this.onCSSLoad,type:"text/css",href:"https://build.cargo.site/frontend/fe282c/css/front-end/cart.css"}),g("div",{className:`background${this.state.animate?" active":""}${this.state.closing?" closing ":" "}${this.state.theme}`,onMouseDown:()=>{this.currentMatch&&!this.currentMatch.url.match("checkout")&&this.closeOverlay()},style:{height:this.state.loaded?"":"0"},children:g("div",{className:`modal${this.state.animate?" active":""}${this.state.closing?" closing":""}${this.state.isMobile?" mobile":""}`,style:{visibility:this.state.loaded?"":"hidden"},children:g("div",{className:"modal-inner",children:g("iframe",{ref:this.iframeRef,src:"about:blank"})})})})]}),this.state.shadowRoot)]}):null}};Tae=Wn(De(t=>({requestedTheme:t.siteDesign.cart?.theme||"light"}),Aae)(Vx)),Mae=Tae});function Rae(t){return It({fetchContent:Fe.fetchContent,updateFrontendState:Fe.updateFrontendState},t)}var lp,al,yg,b5,w5,jx,x5,S5=M(()=>{Ee();is();di();rk();pt();Ne();jt();Ya();_i();Ad();Fx();c5();h5();lp=pe(we(),1);hr();oe();al={ROOT_PATH:"/",IMG_PATH:"/siteimages",SITE_PREVIEW_PROXY_PATH:"/site.preview/*",ADMIN_CLIENT_SIDE_RENDERING_PATH:"/client-side-rendering.html",PAGE_PATH:"/:page",PAGE_BY_ID_PATH:"/pid/:pid/:args?",DIGITAL_PRODUCT_DOWNLOAD:"/filedownload/:hash"},yg={CART:"/cart/:section?/:order_id?",CONTACT:"/contact-form"};ne||(b5=(v5(),Dc(g5)).default,w5=($x(),Dc(y5)).default);jx=class extends se{constructor(e){super(e),this.currentHashPurl="",this.checkForOverlayPath(this.props.location),this.hashPurlLoadsInProgress=[],this.contentLoadsInProgress=[],this.currentAnchorScrollAttempt=0,this.fixedPinScrollOffset=0,ne||window.addEventListener("click",i=>{let r=i.target;r.shadowRoot?r=i.composedPath().find(n=>n.tagName==="A")||r:r.closest("a")&&(r=r.closest("a")),r.nodeName==="A"&&r.hash&&r.hash===window.location.hash&&(i.preventDefault(),this.runAnchorScroll(this.getAnchorForHash(r.hash.substring(1).toLowerCase())))})}shouldComponentUpdate(e){return this.props.location!==e.location&&this.checkForOverlayPath(e.location),!0}checkForOverlayPath=e=>{for(let i in yg){let r=yg[i],n=za(e.pathname,{path:r});if(n){if(lp.default.isEqual(n,this.lastMatch))return;this.lastMatch=n,this.lockedUnderlayLocation||(this.lockedUnderlayLocation={...this.props.location},this.lockedUnderlayLocation.pathname===n.url&&(this.lockedUnderlayLocation.pathname="/"));return}else delete this.lastMatch}this.lockedUnderlayLocation&&(this.lockedUnderlayLocation=null)};getAnchorForHash=e=>{let i=null;try{i=document.querySelector(`a#${e}`)}catch{}if(!i){let r=document.getElementById(e);r&&r.nodeName==="A"&&(i=r)}return i};runAnchorScroll=(e,i={})=>{if(!e)throw"Unable to scroll to anchor";let r=document.documentElement.clientHeight,n=e.closest(".fixed.page.allow-scroll")||document.scrollingElement,o=n.scrollHeight,a=n.scrollTop,l=e.getBoundingClientRect(),c=o-r-(a+l.top);i.snapScrollDistance||(l.top>r*1.5?i.snapScrollDistance=-200:l.top<-r*1.5&&(i.snapScrollDistance=200)),c<200&&delete i.snapScrollDistance;let d={transitionTime:300,callback:null,verticalAlign:"top",windowAlign:"top",easing:"easeOutExponential",offset:{x:0,y:this.fixedPinScrollOffset},preventQuickViewClose:!1,lazyScroll:!1};i.hasOwnProperty("snapScrollDistance")&&(d.offset.y=i.snapScrollDistance+this.fixedPinScrollOffset,d.easing="linear",d.transitionTime=0,d.callback=()=>{requestAnimationFrame(()=>{e.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{...d,offset:{x:0,y:this.fixedPinScrollOffset},callback:null,easing:"easeOutExponential",transitionTime:350}}))})}),requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:d}))})})};deferredContentRenderer(e,i){let r=(this.lockedUnderlayLocation||this.props.location).hash.substring(1).toLowerCase(),n=this.props.store.getState(),o=i==="purl"?Ke.getContentByPurl(n,e):Ke.getContentById(n,e);if(!this.currentId&&o?.overlay&&(e=ub(n,Ke,o.id),i="pid"),ne)return g(Lx,{id:e,idType:i});if(this.lastRequestedId=e,this.lastRequestedIdType=i,this.lastRequestedHashPurl=r,!this.currentId)this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType;else if(this.currentId!==this.lastRequestedId||this.currentIdType!==this.lastRequestedIdType){let a=this.lastRequestedId+"/"+this.lastRequestedIdType;this.contentLoadsInProgress.includes(a)||(this.contentLoadsInProgress.push(a),window.__deferred_page_load_promise__=new Promise(l=>{((c,d)=>{this.props.fetchContent(c,{idType:d}).catch(()=>{}).finally(()=>{this.contentLoadsInProgress=this.contentLoadsInProgress.filter(m=>m!==a),this.lastRequestedId===c&&this.lastRequestedIdType===d&&(this.currentId=c,this.currentIdType=d,this.forceUpdate()),delete window.__deferred_page_load_promise__,l()})})(this.lastRequestedId,this.lastRequestedIdType)}))}return this.lastRequestedHashPurl&&this.currentHashPurl!==this.lastRequestedHashPurl?(a=>{if(!this.hashPurlLoadsInProgress.includes(a)){if(this.hashPurlLoadsInProgress.push(a),o?.purl!==a)try{if(this.getAnchorForHash(a)){this.currentHashPurl=a,this.forceUpdate(()=>{this.hashPurlLoadsInProgress=this.hashPurlLoadsInProgress.filter(c=>c!==a),this.runAnchorScroll(this.getAnchorForHash(a))});return}}catch(l){console.error(l),this.hashPurlLoadsInProgress=this.hashPurlLoadsInProgress.filter(c=>c!==a)}this.props.fetchContent(a,{idType:"purl"}).finally(()=>{if(this.hashPurlLoadsInProgress=this.hashPurlLoadsInProgress.filter(b=>b!==a),this.lastRequestedHashPurl!==a)return;let l=this.props.store.getState(),c=Ke.getContentByPurl(l,a);if(!c||c.page_type!=="page"||c.pin){console.log("No valid target found. Just scroll to an anchor if it exists"),this.currentHashPurl=a;try{this.getAnchorForHash(a)?.scrollIntoView()}catch(b){console.error(b)}return}if(!o||o.stack!==!0||Ke.getParentSetList(l,c.id).includes(o.id)!==!0){if(this.props.adminMode){this.currentHashPurl=a,this.forceUpdate();return}let _=Ke.getParentSetList(l,c.id).map(E=>l.sets.byId[E]).find(E=>E.stack);_?(this.props.history.replace(`/${_.id==="root"?"":_.purl}#${a}`),document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"})):(this.currentHashPurl="",this.props.history.replace(`/${a}`),document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"}));return}let d=[],m=l.sets.byId[Ke.getItemParentId(l,c.id)],f=5;os(l.structure,l.pages,l.sets,m,l.structure.indexById[c.id]-1,{reverse:!0,traverseUp:!!this.props.isFeed,callback:(b,_,E)=>{if(E||d.push({parent:b,index:_}),f--===0)return"break"}}),f=5,os(l.structure,l.pages,l.sets,m,l.structure.indexById[c.id]+1,{reverse:!1,traverseUp:!!this.props.isFeed,callback:(b,_,E)=>{if(E||d.push({parent:b,index:_}),f--===0)return"break"}});let v=lp.default.map(lp.default.groupBy(d,"parent"),(b,_)=>this.props.fetchContent(_,{indexes:lp.default.map(b,"index"),idType:"pid"}));Promise.all(v).finally(()=>{if(this.lastRequestedHashPurl!==a)return;this.currentHashPurl=a;let b=this.props.store.getState(),_=document.querySelector("body > .content > .pages .page"),E=!1;_&&b.structure.bySort[c.id]<b.structure.bySort[_.id]&&(E=!0),this.forceUpdate(()=>{if(this.lastRequestedHashPurl!==a)return;let C=this.getAnchorForHash(a);C&&this.runAnchorScroll(C,{snapScrollDistance:E?200:-200})})})})}})(this.lastRequestedHashPurl):this.lastRequestedHashPurl||(this.currentHashPurl=""),g(lk,{children:[g(ss.Consumer,{children:a=>{this.fixedPinScrollOffset=(a.totalTopFixedPinsHeight||0)*-1}}),g(Lx,{id:this.currentId,idType:this.currentIdType,hashPurl:this.currentHashPurl})]})}setHomepageClass=()=>{this.props.location?.pathname==="/"||this.props.location?.pathname.includes(this.props.homepageId)?document.querySelector("body").classList.add("home"):document.querySelector("body").classList.remove("home")};componentDidUpdate=()=>{this.setHomepageClass()};componentDidMount=()=>{this.setHomepageClass()};render(){if(this.props.adminMode&&this.props.adminInitialized===!1||!this.props.hasSite)return null;let e=null,i=null,r=this.props.location;return this.lockedUnderlayLocation&&(r=this.lockedUnderlayLocation,i=this.props.location,e=g("div",{class:"overlay",children:g(Yh,{location:i,children:[g(_n,{exact:!0,path:yg.CART,render:({match:n})=>g(w5,{closeOverlay:(o={})=>{this.props.history[o.replaceHistory?"replace":"push"](this.lockedUnderlayLocation.pathname+this.lockedUnderlayLocation.hash,{preventScrollReset:!0})}})}),g(_n,{exact:!0,path:yg.CONTACT,render:({match:n})=>g(b5,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname+this.lockedUnderlayLocation.hash,{preventScrollReset:!0})}})})]})})),g(te,{children:[e,g(Yh,{location:r,children:[g(_n,{exact:!0,path:al.ROOT_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),g(_n,{exact:!0,path:al.DIGITAL_PRODUCT_DOWNLOAD,render:({match:n})=>g(p5,{hash:n.params.hash})}),g(_n,{exact:!0,path:al.IMG_PATH,render:({match:n})=>g(u5,{})}),g(_n,{exact:!0,path:al.SITE_PREVIEW_PROXY_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),g(_n,{exact:!0,path:al.ADMIN_CLIENT_SIDE_RENDERING_PATH,render:({match:n})=>null}),g(_n,{exact:!0,path:al.PAGE_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.page.toLowerCase(),"purl")}),g(_n,{exact:!0,path:al.PAGE_BY_ID_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.pid,"pid")}),g(_n,{path:"*",render:({location:n})=>this.deferredContentRenderer(n.pathname.substring(1),"purl")})]})]})}};x5=Cn(Wn(De((t,e)=>({hasSite:!!t.site,homepageId:Ke.getHomepageId(t),isFeed:t.sets.byId.root.stack,adminInitialized:t.adminState?.initialized||!1,adminMode:t.frontendState.adminMode}),Rae)(jx)))});var _5,E5,C5=M(()=>{Ui();up();_5=pe(we(),1);Ne();E5={};ne||(E5=window.lightbox={});(function(){"use strict";(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipe=n()})(this,function(){"use strict";var r=function(n,o,a,l){var c={features:null,bind:function(S,T,O,k){var de=(k?"remove":"add")+"EventListener";T=T.split(" ");for(var Se=0;Se<T.length;Se++)T[Se]&&S[de](T[Se],O,!1)},isArray:function(S){return S instanceof Array},createEl:function(S,T){var O=document.createElement(T||"div");return S&&(O.className=S),O},getScrollY:function(){var S=window.pageYOffset;return S!==void 0?S:document.documentElement.scrollTop},unbind:function(S,T,O){c.bind(S,T,O,!0)},removeClass:function(S,T){var O=new RegExp("(\\s|^)"+T+"(\\s|$)");S.className=S.className.replace(O," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(S,T){c.hasClass(S,T)||(S.className+=(S.className?" ":"")+T)},hasClass:function(S,T){return S.className&&new RegExp("(^|\\s)"+T+"(\\s|$)").test(S.className)},getChildByClass:function(S,T){for(var O=S.firstChild;O;){if(c.hasClass(O,T))return O;O=O.nextSibling}},arraySearch:function(S,T,O){for(var k=S.length;k--;)if(S[k][O]===T)return k;return-1},extend:function(S,T,O){for(var k in T)if(T.hasOwnProperty(k)){if(O&&S.hasOwnProperty(k))continue;S[k]=T[k]}},easing:{sine:{out:function(S){return Math.sin(S*(Math.PI/2))},inOut:function(S){return-(Math.cos(Math.PI*S)-1)/2}},cubic:{out:function(S){return--S*S*S+1}}},detectFeatures:function(){if(c.features)return c.features;var S=c.createEl(),T=S.style,O="",k={};if(k.oldIE=document.all&&!document.addEventListener,k.touch="ontouchstart"in window,window.requestAnimationFrame&&(k.raf=window.requestAnimationFrame,k.caf=window.cancelAnimationFrame),k.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!k.pointerEvent){var de=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var Se=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);Se&&Se.length>0&&(Se=parseInt(Se[1],10),Se>=1&&Se<8&&(k.isOldIOSPhone=!0))}var Me=de.match(/Android\s([0-9\.]*)/),Ve=Me?Me[1]:0;Ve=parseFloat(Ve),Ve>=1&&(Ve<4.4&&(k.isOldAndroid=!0),k.androidVersion=Ve),k.isMobileOpera=/opera mini|opera mobi/i.test(de)}for(var Xe=["transform","perspective","animationName"],ct=["","webkit","Moz","ms","O"],je,Kt,kt=0;kt<4;kt++){O=ct[kt];for(var Pi=0;Pi<3;Pi++)je=Xe[Pi],Kt=O+(O?je.charAt(0).toUpperCase()+je.slice(1):je),!k[je]&&Kt in T&&(k[je]=Kt);O&&!k.raf&&(O=O.toLowerCase(),k.raf=window[O+"RequestAnimationFrame"],k.raf&&(k.caf=window[O+"CancelAnimationFrame"]||window[O+"CancelRequestAnimationFrame"]))}if(!k.raf){var Cr=0;k.raf=function(li){var ni=new Date().getTime(),mi=Math.max(0,16-(ni-Cr)),Di=window.setTimeout(function(){li(ni+mi)},mi);return Cr=ni+mi,Di},k.caf=function(li){clearTimeout(li)}}return k.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c.features=k,k}};c.detectFeatures(),c.features.oldIE&&(c.bind=function(S,T,O,k){T=T.split(" ");for(var de=(k?"detach":"attach")+"Event",Se,Me=function(){O.handleEvent.call(O)},Ve=0;Ve<T.length;Ve++)if(Se=T[Ve],Se)if(typeof O=="object"&&O.handleEvent){if(!k)O["oldIE"+Se]=Me;else if(!O["oldIE"+Se])return!1;S[de]("on"+Se,O["oldIE"+Se])}else S[de]("on"+Se,O)});var d=this,m=25,f=3,v={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,animatedCloseOnScroll:!0,showCaption:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:222,showAnimationDuration:222,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(S){return S.tagName==="A"},getDoubleTapZoom:function(S,T){return S||T.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};c.extend(v,l);var Vo=null,b=function(){var S=c.getScrollY();Vo===null&&(Vo=S),Cl||(Ji=Ji+(S-Vo),Vo=S,ae<=d.currItem.fitRatio&&!Jr&&v.modal&&(!v.animatedCloseOnScroll||Do||wr?Ji=0:Ue&&Math.abs(Ji)>0&&!Kr&&(Dn(),bc()),Dr&&clearTimeout(Dr),v.animatedCloseOnScroll,Dr=setTimeout(function(){Dn(),wa()},200)))},_=function(){return{x:0,y:0}},E=function(){return{x:0,y:0,rotation:0}},C,I,N,D,F,z,G=_(),Y=E(),L=E(),Z,$,j,ie={},H={},ae,ee,J,le,K,U,W=0,re={},ce=_(),fe,be,Te=0,_e,Le,ze,rt,Ue,ot,Ie=!0,at,lt=[],ht,Be,ft,Lt,_t,Wt,nt,Ki={},ri=!1,No,Kr=!1,Mn=function(S,T){c.extend(d,T.publicMethods),lt.push(S)},ys=function(S){var T=sr();return S>T-1?S-T:S<0?T+S:S},Oo={},Ei=function(S,T){return Oo[S]||(Oo[S]=[]),Oo[S].push(T)},gt=function(S){var T=Oo[S];if(T){var O=Array.prototype.slice.call(arguments);O.shift();for(var k=0;k<T.length;k++)T[k].apply(d,O)}},Nr=function(){return new Date().getTime()},yr=function(S){ha=S,d.bg.style.opacity=S*v.bgOpacity},pl=function(S,T,O,k,de,Se){(!ri||de&&de!==d.currItem)&&(k=k/(de?de.fitRatio:d.currItem.fitRatio)),O=O+H.top,S[Ue]=J+T+"px, "+O+"px"+le+" scale("+k+") rotateZ("+Se+"rad)"},fi=function(S){xr&&(S&&(ae>d.currItem.fitRatio?ri||(hn(d.currItem,!1,!0),ri=!0):ri&&(hn(d.currItem),ri=!1)),pl(xr,L.x,L.y,ae,null,L.rotation))},oo=function(S){S.container&&pl(S.container.style,S.initialPosition.x,S.initialPosition.y,S.initialZoomLevel,S,0)},bs=function(S,T,O){O[Ue]=J+S+"px, "+T+"px"+le},hl=function(S,T){if(!v.loop&&T){var O=D+(ce.x*W-S)/ce.x,k=S-Xr.x;(O<0&&k>0||O>=sr()-1&&k<0)&&(S=Xr.x+k*v.mainScrollEndFriction)}Xr.x=S,bs(S,0,F)},Qu=function(S,T){var O=Uo[S]-re[S];return Y[S]+G[S]+O-O*(T/ee)},Yi=function(S,T){S.x=T.x,S.y=T.y,T.id&&(S.id=T.id)},ec=function(S){S.x=Math.round(S.x),S.y=Math.round(S.y)},tc=null,ic=function(){tc&&(c.unbind(document,"mousemove",ic),c.addClass(n,"quick-view-has-mouse"),v.mouseUsed=!0,gt("mouseUsed")),tc=setTimeout(function(){tc=null},100)},Xg=function(){c.bind(document,"keydown",d),nt.transform&&c.bind(d.scrollWrap,"click",d),v.mouseUsed||c.bind(document,"mousemove",ic),c.bind(window,"resize scroll orientationchange",d),gt("bindEvents")},Zg=function(){c.unbind(window,"resize scroll orientationchange",d),c.unbind(window,"scroll",j.scroll),c.unbind(document,"keydown",d),c.unbind(document,"mousemove",ic),nt.transform&&c.unbind(d.scrollWrap,"click",d),wr&&c.unbind(window,Z,d),clearTimeout(No),gt("unbindEvents")},fl=function(S,T){var O=_s(d.currItem,ie,S);return T&&(ut=O),O},Sp=function(S){return S||(S=d.currItem),S.initialZoomLevel},_p=function(S){return S||(S=d.currItem),S.w>0?v.maxSpreadZoom:1},Ep=function(S,T,O,k){return k===d.currItem.initialZoomLevel?(O[S]=d.currItem.initialPosition[S],!0):(O[S]=Qu(S,k),O[S]>T.min[S]?(O[S]=T.min[S],!0):O[S]<T.max[S]?(O[S]=T.max[S],!0):!1)},rc=function(){if(Ue){var S=nt.perspective&&!at;J="translate"+(S?"3d(":"("),le=nt.perspective?", 0px)":")";return}Ue="left",c.addClass(n,"quick-view-ie"),bs=function(T,O){O.left=T+"px"},oo=function(T){var O=T.fitRatio>1?1:T.fitRatio,k=T.container.style,de=O*T.w,Se=O*T.h;k.width=de+"px",k.height=Se+"px",k.left=T.initialPosition.x+"px",k.top=T.initialPosition.y+"px"},fi=function(){if(xr){var T=xr,O=d.currItem,k=O.fitRatio>1?1:O.fitRatio,de=k*O.w,Se=k*O.h;T.width=de+"px",T.height=Se+"px",T.left=L.x+"px",T.top=L.y+"px"}}},Jg=function(S){var T="";v.escKey&&S.keyCode===27?T="close":v.arrowKeys&&(S.keyCode===37?T="prev":S.keyCode===39&&(T="next")),S.keyCode===32&&(S.preventDefault(),S.stopImmediatePropagation(),T="close"),T&&!S.ctrlKey&&!S.altKey&&!S.shiftKey&&!S.metaKey&&(S.preventDefault?S.preventDefault():S.returnValue=!1,d[T]())},nc=function(S){S&&(Rn||so||Xi||xs)&&(S.preventDefault(),S.stopPropagation())},Cp=function(){d.setScrollOffset(0,c.getScrollY())};ne||window.addEventListener("scroll",b);var br={},Do=0,la=function(S){br[S]&&(br[S].raf&&Be(br[S].raf),Do--,delete br[S])},oc=function(S){br[S]&&la(S),br[S]||(Do++,br[S]={})},ua=function(){for(var S in br)br.hasOwnProperty(S)&&la(S)},ws=function(S,T,O,k,de,Se,Me){var Ve=Nr(),Xe;oc(S);var ct=function(){if(br[S]){if(Xe=Nr()-Ve,Xe>=k){la(S),Se(O),Me&&Me();return}Se((O-T)*de(Xe/k)+T),br[S].raf=ht(ct)}};ct()},Qg={shout:gt,listen:Ei,viewportSize:ie,options:v,isMainScrollAnimating:function(){return Xi},getZoomLevel:function(){return ae},getCurrentIndex:function(){return D},isDragging:function(){return wr},isZooming:function(){return dn},setScrollOffset:function(S,T){re.x=S,Wt=re.y=T,gt("updateScrollOffset",re)},applyZoomPan:function(S,T,O,k){L.x=T,L.y=O,ae=S,fi(k)},init:function(){if(!(C||I)){e("init",d);var S;d.framework=c,d.template=n,d.bg=c.getChildByClass(n,"quick-view-bg"),d.captionPositioner=c.getChildByClass(n,"quick-view-caption-positioner"),d.captionWrapper=c.getChildByClass(d.captionPositioner,"quick-view-caption-wrapper"),d.caption=c.getChildByClass(d.captionWrapper,"quick-view-caption"),ft=n.className,C=!0,nt=c.detectFeatures(),ht=nt.raf,Be=nt.caf,Ue=nt.transform,_t=nt.oldIE,d.scrollWrap=c.getChildByClass(n,"quick-view-scroll-wrap"),d.container=c.getChildByClass(d.scrollWrap,"quick-view-container"),F=d.container.style,d.itemHolders=fe=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}],fe[0].el.style.display=fe[2].el.style.display="none",rc(),j={resize:d.updateSize,orientationchange:function(){clearTimeout(No),No=setTimeout(function(){ie.x!==d.scrollWrap.clientWidth&&d.updateSize()},500)},scroll:Cp,keydown:Jg,click:nc};var T=nt.isOldIOSPhone||nt.isOldAndroid||nt.isMobileOpera;for((!nt.animationName||!nt.transform||T)&&(v.showAnimationDuration=v.hideAnimationDuration=0),S=0;S<lt.length;S++)d["init"+lt[S]]();if(o){var O=d.ui=new o(d,c);O.init()}gt("firstUpdate"),D=D||v.index||0,(isNaN(D)||D<0||D>=sr())&&(D=0),d.currItem=pn(D),(nt.isOldIOSPhone||nt.isOldAndroid)&&(Ie=!1),n.setAttribute("aria-hidden","false"),v.modal&&(Ie?n.style.position="fixed":(n.style.position="absolute",n.style.top=c.getScrollY()+"px")),n.classList.add("quick-view-vertical-align-"+v.alignVertical),n.classList.add("quick-view-horizontal-align-"+v.alignHorizontal),Wt===void 0&&(gt("initialLayout"),Wt=Lt=c.getScrollY());var k="quick-view-open ";for(v.mainClass&&(k+=v.mainClass+" "),v.showHideOpacity&&(k+="quick-view-animate_opacity "),k+=at?"quick-view-touch":"quick-view-notouch",k+=nt.animationName?" quick-view-css_animation":"",k+=nt.svg?" quick-view-svg":"",c.addClass(n,k),d.updateSize(),z=-1,Te=null,S=0;S<f;S++)bs((S+z)*ce.x+H.left,0,fe[S].el.style);_t||c.bind(d.scrollWrap,$,d),Ei("initialZoomInEnd",function(){d.setContent(fe[0],D-1),d.setContent(fe[2],D+1),fe[0].el.style.display=fe[2].el.style.display="block",v.focus&&n.focus(),Xg()}),d.setContent(fe[1],D),d.updateCurrItem(),setTimeout(d.updateCaption,v.showAnimationDuration+50),gt("afterInit",D),e("after-init",d),Ie||(K=setInterval(function(){!Do&&!wr&&!dn&&ae===d.currItem.initialZoomLevel&&d.updateSize()},1e3)),c.addClass(n,"quick-view-visible")}},close:function(){C&&(C=!1,I=!0,gt("close"),e("closing",d),Zg(),gc(d.currItem,null,!0,d.destroy))},destroy:function(){gt("destroy"),e("destroy",d),Sr&&clearTimeout(Sr),n.setAttribute("aria-hidden","true"),n.className=ft,K&&clearInterval(K),c.unbind(d.scrollWrap,$,d),c.unbind(window,"scroll",d),window.removeEventListener("scroll",b),dc(),ua(),Oo=null},panTo:function(S,T,O){O||(S>ut.min.x?S=ut.min.x:S<ut.max.x&&(S=ut.max.x),T>ut.min.y?T=ut.min.y:T<ut.max.y&&(T=ut.max.y)),L.x=S,L.y=T,fi()},handleEvent:function(S){S=S||window.event,j[S.type]&&j[S.type](S)},goTo:function(S){S=ys(S);var T=S-D;Te=T,D=S,d.currItem=pn(D),W-=T,hl(ce.x*W),ua(),Xi=!1,d.updateCurrItem()},next:function(){d.goTo(D+1)},prev:function(){d.goTo(D-1)},updateCurrZoomItem:function(S){if(S&&(gt("beforeChange",0),e("before-slide-change",d,0)),fe[1].el.children.length){var T=fe[1].el.children[0];c.hasClass(T,"quick-view-zoom-wrap")?xr=T.style:xr=null}else xr=null;ut=d.currItem.bounds,ee=ae=d.currItem.initialZoomLevel,L.x=ut.center.x,L.y=ut.center.y,S&&(gt("afterChange",D),e("after-slide-change",d))},invalidateCurrItems:function(){U=!0;for(var S=0;S<f;S++)fe[S].item&&(fe[S].item.needsUpdate=!0)},updateCaption:function(){if(d.currItem.caption&&v.showCaption){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.appendChild(d.currItem.caption),Gt(d.currItem),d.caption.classList.remove("hidden")}else if(v.showCaption){var S=function(){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.removeEventListener("transitionend",S)};d.caption.classList.contains("hidden")?S():(d.caption.addEventListener("transitionend",S),d.caption.classList.add("hidden"))}},updateCurrItem:function(S){if(Te!==0){var T=Math.abs(Te),O;if(!(S&&T<2)){d.currItem=pn(D),ri=!1,gt("beforeChange",Te);var k=Te;k===null&&(k=0),e("slide-change",d,k),T>=f&&(z+=Te+(Te>0?-f:f),T=f);for(var de=0;de<T;de++)Te>0?(O=fe.shift(),fe[f-1]=O,z++,bs((z+2)*ce.x+H.left,0,O.el.style),d.setContent(O,D-T+de+1+1)):(O=fe.pop(),fe.unshift(O),z--,bs(z*ce.x+H.left,0,O.el.style),d.setContent(O,D+T-de-1-1));if(xr&&Math.abs(Te)===1){var Ve=pn(be);Ve.initialZoomLevel!==ae&&(_s(Ve,ie),hn(Ve),oo(Ve))}var Se=1+-Te,Me=fe[Se];Te=0,d.updateCurrZoomItem(),be!==void 0&&d.updateCaption();var Ve=pn(be),Xe=Ve?.container?.querySelector("media-item");Xe&&(Xe.pause?.(),Xe.getAttribute("autoplay")!="true"&&Xe.setCurrentTime?.(0),Xe.removeAttribute("autoplay"));var ct=pn(D),je=ct?.container?.querySelector("media-item");je&&(je.setAttribute("force-visible",!0),je.onload=()=>{ct.autoplay?je.play?.():setTimeout(()=>{je?.play?.()},400)}),be=D,gt("afterChange",D)}}},updateSize:function(S){if(!Ie&&v.modal){var T=c.getScrollY();if(Wt!==T&&(n.style.top=T+"px",Wt=T),!S&&Ki.x===window.innerWidth&&Ki.y===window.innerHeight)return;Ki.x=window.innerWidth,Ki.y=window.innerHeight,n.style.height=Ki.y+"px"}var O=window.getComputedStyle(d.template),k=parseFloat(O.getPropertyValue("padding-left"))+parseFloat(O.getPropertyValue("border-left-width")),de=parseFloat(O.getPropertyValue("margin-left")),Se=parseFloat(O.getPropertyValue("padding-right"))+parseFloat(O.getPropertyValue("border-right-width")),Me=parseFloat(O.getPropertyValue("margin-right")),Ve=parseFloat(O.getPropertyValue("padding-top"))+parseFloat(O.getPropertyValue("border-top-width")),Xe=parseFloat(O.getPropertyValue("margin-top")),ct=parseFloat(O.getPropertyValue("padding-bottom"))+parseFloat(O.getPropertyValue("border-bottom-width")),je=parseFloat(O.getPropertyValue("margin-bottom"));let Kt="quick-view-vertical-align-"+v.alignVertical,kt="quick-view-horizontal-align-"+v.alignHorizontal;Kt!=="quick-view-vertical-align-center"&&n.classList.remove("quick-view-vertical-align-center"),Kt!=="quick-view-vertical-align-top"&&n.classList.remove("quick-view-vertical-align-top"),Kt!=="quick-view-vertical-align-bottom"&&n.classList.remove("quick-view-vertical-align-bottom"),kt!=="quick-view-horizontal-align-center"&&n.classList.remove("quick-view-horizontal-align-center"),kt!=="quick-view-horizontal-align-left"&&n.classList.remove("quick-view-horizontal-align-left"),kt!=="quick-view-horizontal-align-right"&&n.classList.remove("quick-view-horizontal-align-right"),n.classList.add(Kt),n.classList.add(kt),H.top=Ve,H.left=k,H.bottom=ct,H.right=Se,H.marginTop=Xe,H.marginLeft=de,H.marginBottom=je,H.marginRight=Me;var Pi=d.scrollWrap.getBoundingClientRect();if(ie.x=Pi.width,ie.y=Pi.height,Cp(),ce.x=ie.x+ie.x*v.spacing,ce.y=ie.y,hl(ce.x*W),gt("beforeResize"),z!==void 0){for(var Cr,li,ni,mi=0;mi<f;mi++)Cr=fe[mi],bs((mi+z)*ce.x+H.left,0,Cr.el.style),ni=D+mi-1,v.loop&&sr()>2&&(ni=ys(ni)),li=pn(ni),li&&(U||li.needsUpdate||!li.bounds)?(d.cleanSlide(li),d.setContent(Cr,ni),mi===1&&(d.currItem=li,d.updateCurrZoomItem(!0)),li.needsUpdate=!1):Cr.index===-1&&ni>=0&&d.setContent(Cr,ni),li&&li.container&&(_s(li,ie),hn(li),oo(li));U=!1}ee=ae=d.currItem.initialZoomLevel,ut=d.currItem.bounds,ut&&(L.x=ut.center.x,L.y=ut.center.y,fi(!0)),gt("resize")},zoomTo:function(S,T,O,k,de){T&&(ee=ae,Uo.x=Math.abs(T.x)-L.x,Uo.y=Math.abs(T.y)-L.y,Yi(Y,L));var Se=fl(S,!1),Me={};Ep("x",Se,Me,S),Ep("y",Se,Me,S);var Ve=ae,Xe={x:L.x,y:L.y};ec(Me);var ct=function(je){je===1?(ae=S,L.x=Me.x,L.y=Me.y,d.currItem.caption&&v.showCaption&&(Math.abs(ae-d.currItem.fitRatio)>.01?d.caption.classList.add("hidden"):d.caption.classList.remove("hidden"))):(ae=(S-Ve)*je+Ve,L.x=(Me.x-Xe.x)*je+Xe.x,L.y=(Me.y-Xe.y)*je+Xe.y),de&&de(je),fi(je===1)};O?ws("customZoomTo",0,1,O,k||c.easing.sine.inOut,ct):ct(1)}},sc=30,ac=10,Pp,ml,nr={},Lo={},or={},yi={},Fo={},Yr=[],zo={},ca,Ho=[],qo={},gl,xs,da,vl=0,yl=_(),lc=0,wr,bl,so,Rn,wl,kn,Oi,dn,Ip,uc,ut,Xr=_(),xr,Xi,Uo=_(),ao=_(),Zi,xl,pa,ha,fa,Ap=function(S,T){return S.x===T.x&&S.y===T.y},Tp=function(S,T){return Math.abs(S.x-T.x)<m&&Math.abs(S.y-T.y)<m},cc=function(S,T){return qo.x=Math.abs(S.x-T.x),qo.y=Math.abs(S.y-T.y),Math.sqrt(qo.x*qo.x+qo.y*qo.y)},dc=function(){wl&&(Be(wl),wl=null)},Mp=function(){wr&&(wl=ht(Mp),nv())},ev=function(){return!(v.scaleMode==="fit"&&ae===d.currItem.initialZoomLevel)},pc=function(S,T){return!S||S===document||S.getAttribute("class")&&S.getAttribute("class").indexOf("quick-view-scroll-wrap")>-1?!1:T(S)?S:pc(S.parentNode,T)},hc={},Rp=function(S,T){return hc.prevent=!pc(S.target,v.isClickableElement),gt("preventDragEvent",S,T,hc),hc.prevent},kp=function(S,T){return T.x=S.pageX+-H.left+-H.marginLeft,T.y=S.pageY+-H.top+-H.marginTop,T.clientY=S.clientY,T.id=S.identifier,T},Np=function(S,T,O){O.x=(S.x+T.x)*.5,O.y=(S.y+T.y)*.5},fc=function(S,T,O){if(S-ml>50){var k=Ho.length>2?Ho.shift():{};k.x=T,k.y=O,Ho.push(k),ml=S}},Op=function(){var S=L.y-d.currItem.initialPosition.y;return Math.min(1.2-Math.abs(S/(ie.y/2)),1)},Ss={},tv={},lo=[],Sl,Ft=function(S){for(;lo.length>0;)lo.pop();return ot?(Sl=0,Yr.forEach(function(T){Sl===0?lo[0]=T:Sl===1&&(lo[1]=T),Sl++})):S.type.indexOf("touch")>-1?S.touches&&S.touches.length>0&&(lo[0]=kp(S.touches[0],Ss),S.touches.length>1&&(lo[1]=kp(S.touches[1],tv))):(Ss.x=S.pageX,Ss.y=S.pageY,Ss.clientY=S.clientY,Ss.id="",lo[0]=Ss),lo},zt=function(S,T){var O,k=0,de=L[S]+T[S],Se,Me=T[S]>0,Ve=Xr.x+T.x,Xe=Xr.x-zo.x,ct,je;if(de>ut.min[S]||de<ut.max[S]?O=v.panEndFriction:O=1,de=L[S]+T[S]*O,(v.allowPanToNext||ae===d.currItem.initialZoomLevel)&&(xr?Zi==="h"&&S==="x"&&!so&&(Me?(de>ut.min[S]&&(O=v.panEndFriction,k=ut.min[S]-de,Se=Math.round(ut.min[S]-Y[S])),(Se<=0||Xe<0)&&sr()>1?(je=Ve,Xe<0&&Ve>zo.x&&(je=zo.x)):ut.min.x!==ut.max.x&&(ct=de)):(de<ut.max[S]&&(O=v.panEndFriction,k=de-ut.max[S],Se=Math.round(Y[S]-ut.max[S])),(Se<=0||Xe>0)&&sr()>1?(je=Ve,Xe>0&&Ve<zo.x&&(je=zo.x)):ut.min.x!==ut.max.x&&(ct=de))):je=Ve,S==="x"))return je!==void 0&&(hl(je,!0),je===zo.x?kn=!1:kn=!0),ut.min.x!==ut.max.x&&(ct!==void 0?L.x=ct:kn||(L.x+=T.x*O)),je!==void 0;Xi||kn||ae>d.currItem.fitRatio&&(L[S]+=T[S]*O)},Dp=null,iv=function(S){if(!(S.type==="mousedown"&&S.button>0)){if(Bo){S.preventDefault();return}if(!(da&&S.type==="mousedown")){if(Rp(S,!0)&&S.preventDefault(),ba=S.type,Dp=setTimeout(function(){d.template.classList.add("mouse-down")},200),gt("pointerDown"),ot){var T=c.arraySearch(Yr,S.pointerId,"id");T<0&&(T=Yr.length),Yr[T]={x:S.pageX,y:S.pageY,clientY:S.clientY,id:S.pointerId}}var O=Ft(S),k=O.length;Oi=null,ua(),(!wr||k===1)&&(wr=xl=!0,c.bind(window,Z,d),gl=Jr=fa=pa=xs=kn=Rn=bl=so=!1,Zi=null,yc=O[0].y+-Wt,gt("firstTouchStart",O),Yi(Y,L),G.x=G.y=0,Yi(yi,O[0]),Yi(Fo,yi),zo.x=ce.x*W,Ho=[{x:yi.x,y:yi.y}],ml=Pp=Nr(),fl(ae,!0),dc(),Mp()),!dn&&k>1&&!Xi&&!kn&&(ee=ae,so=!1,dn=bl=!0,G.y=G.x=0,Yi(Y,L),Yi(nr,O[0]),Yi(Lo,O[1]),Np(nr,Lo,ao),Uo.x=Math.abs(ao.x)-L.x,Uo.y=Math.abs(ao.y)-L.y,Ip=uc=cc(nr,Lo))}}},rv=function(S){if(S.preventDefault(),ot){var T=c.arraySearch(Yr,S.pointerId,"id");if(T>-1){var O=Yr[T];O.x=S.pageX,O.y=S.pageY,O.clientY=S.clientY}}if(wr){var k=Ft(S);if(!Zi&&!Rn&&!dn)if(Xr.x!==ce.x*W)Zi="h";else{var de=Math.abs(k[0].x-yi.x)-Math.abs(k[0].y-yi.y);Math.abs(de)>=ac&&(Zi=de>0?"h":"v",Oi=k)}else Oi=k;ya=ya+(yc-k[0].clientY),yc=k[0].clientY}},nv=function(){if(Oi){var S=Oi.length;if(S!==0)if(Yi(nr,Oi[0]),or.x=nr.x-yi.x,or.y=nr.y-yi.y,dn&&S>1){if(yi.x=nr.x,yi.y=nr.y,!or.x&&!or.y&&Ap(Oi[1],Lo))return;Yi(Lo,Oi[1]),so||(so=!0,gt("zoomGestureStarted"),d.currItem.caption&&v.showCaption&&d.caption.classList.add("hidden"));var T=cc(nr,Lo),O=Ci(T);O>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(fa=!0);var k=1,de=Sp(),Se=_p();if(O<de)if(v.pinchToClose&&!fa&&ee<=d.currItem.initialZoomLevel){var Me=de-O,Ve=1-Me/(de/1.2);yr(Ve),gt("onPinchClose",Ve),pa=!0}else k=(de-O)/de,k>1&&(k=1),O=de-k*(de/3);else O>Se&&(k=(O-Se)/(de*6),k>1&&(k=1),O=Se+k*de);k<0&&(k=0),Ip=T,Np(nr,Lo,yl),G.x+=yl.x-ao.x,G.y+=yl.y-ao.y,Yi(ao,yl),L.x=Qu("x",O),L.y=Qu("y",O),gl=O>ae,ae=O,fi()}else{if(!Zi||(xl&&(xl=!1,Math.abs(or.x)>=ac&&(or.x-=Oi[0].x-Fo.x),Math.abs(or.y)>=ac&&(or.y-=Oi[0].y-Fo.y,ya-=-(Oi[0].y-Fo.y))),yi.x=nr.x,yi.y=nr.y,or.x===0&&or.y===0))return;if(Zi==="v"&&v.animatedCloseOnScroll&&ba==="touchstart"){if(Ji=ya,ya=0,!Jr&&!Kr){Jr=!0,Dn(),bc();var Xe=!1,ct=0,je=1,Kt=0;Wo=0,mn=0;var kt=yi.y,Pi=yi.y,Cr,li,ni=document.documentElement.scrollTop,mi=document.documentElement.scrollHeight,Di=ie.y,Cs=!1,Pl=document.querySelectorAll(".content_container, .pinned > div:not(.fixed)"),Il=[],wc=function(){Cs||(Cs=!0,li=requestAnimationFrame(function(){Pl.style.transform="translateY("+-mn+"px)",Il.each(function(Ce){var et=this.parentElement.__backdropData,wt=this.parentElement.__cached_size,oi=this.parentElement.__cached_page_size;if(et){var Pt=0,$o=0,Qi=0;wt&&(Pt=wt.top,$o=wt.height,Qi=$o),oi&&(Qi=oi.height);var er=parseFloat(et.yPos)||0;this.style.position==="fixed"&&(this.style.position="absolute");var Ln=ni+mn,Ps=ni+mn+Cargo.Backdrop.cache_window_data.height,Lr=Pt+ni,_a=Pt+ni+Qi;if(Lr<=Ln&&_a>=Ps){var Al=Lr-Ln;this.style.transform="translateY("+-Al+"px)"}else _a<Ps?this.style.transform="translateY("+(Qi-Cargo.Backdrop.cache_window_data.height)+"px)":this.style.transform="translateY(0px)"}}),Cs=!1}))},Sa=function(Ce){if(Ce.touches.length==0||Ce.touches.length>1){Qr(),ar();return}Ce.preventDefault(),Wo=Pi-Ce.touches[0].pageY,mn=Wo,Wo+ni<=0?(scrollMonitor.__frozen=!0,mn=-ni):Wo+ni+Di>=mi?(scrollMonitor.__frozen=!0,mn=0):scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Kt=kt-Ce.touches[0].pageY,kt=Ce.touches[0].pageY,wc()},Qr=function(){window.removeEventListener("touchmove",Sa),window.removeEventListener("touchend",Qr),window.addEventListener("touchstart",ar),cancelAnimationFrame(li),Pl.style.transform="",Il.each(function(){this.__cacheStyle&&(this.style=this.__cacheStyle,delete this.__cacheStyle)}),document.documentElement.scrollTop=document.documentElement.scrollTop+Wo,X(),requestAnimationFrame(function(){scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Cargo.View.Backdrop.updateBackdropScrollPosition(!0),Cargo.Event.trigger("lightbox-scroll-finished")})},ar=function(){Kt=0,cancelAnimationFrame(Cr),window.removeEventListener("touchstart",ar)},X=function(){je=je*.95;var Ce=Kt*je;document.documentElement.scrollTop=document.documentElement.scrollTop+Ce,Math.abs(Ce)>.5?Cr=requestAnimationFrame(function(){X()}):ar()};window.addEventListener("touchmove",Sa),window.addEventListener("touchend",Qr)}return}else if(Zi==="v"&&v.closeOnVerticalDrag&&!ev()){G.y+=or.y,L.y+=or.y;var he=Op();xs=!0,gt("onVerticalDrag",he),yr(he),fi();return}fc(Nr(),nr.x,nr.y),Zi==="h"&&v.showCaption&&!Rn&&d.caption.classList.add("hidden"),Rn=!0,ut=d.currItem.bounds;var ue=zt("x",or);ue||(zt("y",or),ec(L),fi())}}},ov=function(S){if(ba="",nt.isOldAndroid){if(da&&S.type==="mouseup")return;S.type.indexOf("touch")>-1&&(clearTimeout(da),da=setTimeout(function(){da=0},600))}clearTimeout(Dp),d.template.classList.remove("mouse-down"),gt("pointerUp"),Rp(S,!1)&&S.preventDefault();var T;if(ot){var O=c.arraySearch(Yr,S.pointerId,"id");if(O>-1)if(T=Yr.splice(O,1)[0],navigator.pointerEnabled)T.type=S.pointerType||"mouse";else{var k={4:"mouse",2:"touch",3:"pen"};T.type=k[S.pointerType],T.type||(T.type=S.pointerType||"mouse")}}var de=Ft(S),Se,Me=de.length;if(S.type==="mouseup"&&(Me=0),Me===2)return Oi=null,!0;Me===1&&Yi(Fo,de[0]),Me===0&&!Zi&&!Xi&&(T||(S.type==="mouseup"?T={x:S.pageX+-H.left+-H.marginLeft,y:S.pageY+-H.top+-H.marginTop,type:"mouse"}:S.changedTouches&&S.changedTouches[0]&&(T={x:S.changedTouches[0].pageX+-H.left+-H.marginLeft,y:S.changedTouches[0].pageY+-H.top+-H.marginTop,type:"touch"})),gt("touchRelease",S,T));var Ve=-1;if(Me===0&&(wr=!1,c.unbind(window,Z,d),dc(),dn?Ve=0:lc!==-1&&(Ve=Nr()-lc)),lc=Me===1?Nr():-1,Ve!==-1&&Ve<150?Se="zoom":Se="swipe",dn&&Me<2&&(dn=!1,Me===1&&(Se="zoomPointerUp"),gt("zoomGestureEnded")),Oi=null,!(!Rn&&!so&&!Xi&&!xs&&!Jr)){if(ua(),ca||(ca=sv()),ca.calculateSwipeSpeed("x"),Jr)Dr&&clearTimeout(Dr),Jr=!1,Dn(),wa();else if(xs){var Xe=Op();if(Xe<v.verticalDragRange)d.close();else{var ct=L.y,je=ha;ws("verticalDrag",0,1,300,c.easing.cubic.out,function(kt){L.y=(d.currItem.initialPosition.y-ct)*kt+ct,yr((1-je)*kt+je),fi()}),gt("onVerticalDrag",1)}return}if((kn||Xi)&&Me===0){var Kt=av(Se,ca);if(Kt)return;Se="zoomPointerUp"}if(!Xi){if(Se!=="swipe"){mc();return}!kn&&ae>d.currItem.fitRatio&&Lp(ca)}}},sv=function(){var S,T,O={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(k){Ho.length>1?(S=Nr()-ml+50,T=Ho[Ho.length-2][k]):(S=Nr()-Pp,T=Fo[k]),O.lastFlickOffset[k]=yi[k]-T,O.lastFlickDist[k]=Math.abs(O.lastFlickOffset[k]),O.lastFlickDist[k]>20?O.lastFlickSpeed[k]=O.lastFlickOffset[k]/S:O.lastFlickSpeed[k]=0,Math.abs(O.lastFlickSpeed[k])<.1&&(O.lastFlickSpeed[k]=0),O.slowDownRatio[k]=.95,O.slowDownRatioReverse[k]=1-O.slowDownRatio[k],O.speedDecelerationRatio[k]=1},calculateOverBoundsAnimOffset:function(k,de){O.backAnimStarted[k]||(L[k]>ut.min[k]?O.backAnimDestination[k]=ut.min[k]:L[k]<ut.max[k]&&(O.backAnimDestination[k]=ut.max[k]),O.backAnimDestination[k]!==void 0&&(O.slowDownRatio[k]=.7,O.slowDownRatioReverse[k]=1-O.slowDownRatio[k],O.speedDecelerationRatioAbs[k]<.05&&(O.lastFlickSpeed[k]=0,O.backAnimStarted[k]=!0,ws("bounceZoomPan"+k,L[k],O.backAnimDestination[k],de||300,c.easing.sine.out,function(Se){L[k]=Se,fi()}))))},calculateAnimOffset:function(k){O.backAnimStarted[k]||(O.speedDecelerationRatio[k]=O.speedDecelerationRatio[k]*(O.slowDownRatio[k]+O.slowDownRatioReverse[k]-O.slowDownRatioReverse[k]*O.timeDiff/10),O.speedDecelerationRatioAbs[k]=Math.abs(O.lastFlickSpeed[k]*O.speedDecelerationRatio[k]),O.distanceOffset[k]=O.lastFlickSpeed[k]*O.speedDecelerationRatio[k]*O.timeDiff,L[k]+=O.distanceOffset[k])},panAnimLoop:function(){if(br.zoomPan&&(br.zoomPan.raf=ht(O.panAnimLoop),O.now=Nr(),O.timeDiff=O.now-O.lastNow,O.lastNow=O.now,O.calculateAnimOffset("x"),O.calculateAnimOffset("y"),fi(),O.calculateOverBoundsAnimOffset("x"),O.calculateOverBoundsAnimOffset("y"),O.speedDecelerationRatioAbs.x<.05&&O.speedDecelerationRatioAbs.y<.05)){L.x=L.x,L.y=L.y,fi(),la("zoomPan");return}}};return O},Lp=function(S){if(S.calculateSwipeSpeed("y"),ut=d.currItem.bounds,S.backAnimDestination={},S.backAnimStarted={},Math.abs(S.lastFlickSpeed.x)<=.05&&Math.abs(S.lastFlickSpeed.y)<=.05)return S.speedDecelerationRatioAbs.x=S.speedDecelerationRatioAbs.y=0,S.calculateOverBoundsAnimOffset("x"),S.calculateOverBoundsAnimOffset("y"),!0;oc("zoomPan"),S.lastNow=Nr(),S.panAnimLoop()},av=function(S,T){var O;Xi||(vl=D);var k;if(S==="swipe"){var de=yi.x-Fo.x,Se=T.lastFlickDist.x<10;de>sc&&(Se||T.lastFlickOffset.x>20)?k=-1:de<-sc&&(Se||T.lastFlickOffset.x<-20)&&(k=1)}var Me;k&&(D+=k,D<0?(D=v.loop?sr()-1:0,Me=!0):D>=sr()&&(D=v.loop?0:sr()-1,Me=!0),(!Me||v.loop)&&(Te+=k,W-=k,O=!0));var Ve=ce.x*W,Xe=Math.abs(Ve-Xr.x),ct;return!O&&Ve>Xr.x!=T.lastFlickSpeed.x>0?ct=333:(ct=Math.abs(T.lastFlickSpeed.x)>0?Xe/Math.abs(T.lastFlickSpeed.x):333,ct=Math.min(ct,400),ct=Math.max(ct,250)),vl===D&&(O=!1),Xi=!0,gt("mainScrollAnimStart"),ws("mainScroll",Xr.x,Ve,ct,c.easing.cubic.out,hl,function(){ua(),Xi=!1,vl=-1,(O||vl!==D)&&d.updateCurrItem(),gt("mainScrollAnimComplete")}),O?d.updateCurrItem(!0):d.updateCaption(),O},Ci=function(S){return 1/uc*S*ee},mc=function(){var S=ae,T=Sp(),O=_p();ae<T?S=T:ae>O&&(S=O);var k=1,de,Se=ha;return pa&&!gl&&!fa&&ae<T?(d.close(),!0):(pa&&(de=function(Me){yr((k-Se)*Me+Se)}),d.zoomTo(S,0,200,c.easing.cubic.out,de),!0)};Mn("Gestures",{publicMethods:{initGestures:function(){var S=function(T,O,k,de,Se){_e=T+O,Le=T+k,ze=T+de,Se?rt=T+Se:rt=""};ot=nt.pointerEvent,ot&&nt.touch&&(nt.touch=!1),ot?navigator.pointerEnabled?S("pointer","down","move","up","cancel"):S("MSPointer","Down","Move","Up","Cancel"):nt.touch?(S("touch","start","move","end","cancel"),at=!0):S("mouse","down","move","up"),Z=Le+" "+ze+" "+rt,$=_e,ot&&!at&&(at=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),d.likelyTouchDevice=at,j[_e]=iv,j[Le]=rv,j[ze]=ov,rt&&(j[rt]=j[ze]),nt.touch&&($+=" mousedown",Z+=" mousemove mouseup",j.mousedown=j[_e],j.mousemove=j[Le],j.mouseup=j[ze]),at||(v.allowPanToNext=!1)}}});var Sr,gc=function(S,T,O,k){if(Sr&&clearTimeout(Sr),Bo=!0,_l=!0,O){let Xe=S.el?.closest?.("gallery-slideshow");if(Xe){let ct=S.el?.assignedSlot?.name?.replace("slot-","")??-1;ct!==-1&&Xe.goToSlide(parseInt(ct))}}var de;S.initialLayout?(de=S.initialLayout,S.initialLayout=null):de=v.getThumbBoundsFn&&v.getThumbBoundsFn(D);var Se=O?v.hideAnimationDuration:v.showAnimationDuration,Me=function(){if(la("initialZoom"),O)d.template.removeAttribute("style"),d.bg.removeAttribute("style");else{if(yr(1),T&&(T.style.display="block"),S.autoplay){let Xe=S.container.querySelector("media-item");Xe&&(Xe.onload=()=>{Xe.play?.()})}c.addClass(n,"quick-view-hide-overflow"),c.addClass(n,"quick-view-animated-in"),gt("initialZoom"+(O?"OutEnd":"InEnd"))}k&&k(),Bo=!1};if(!Se||!de||de.x===void 0){gt("initialZoom"+(O?"Out":"In")),ae=S.initialZoomLevel,Yi(L,S.initialPosition),fi(),n.style.opacity=O?0:1,yr(1),Se?setTimeout(function(){Me()},Se):Me();return}var Ve=function(){var Xe=N,ct=d.currItem.loadError||v.showHideOpacity,je=Jr,Kt=O?25:90;Xe&&(Kt=0),S.miniImg&&(S.miniImg.style.webkitBackfaceVisibility="hidden");var kt=parseFloat(S.w),Pi=parseFloat(S.h);S.useViewportWidth&&(kt=(ie.x-(H.left+H.right))*S.viewportWidthPercentage),S.useViewportHeight&&(Pi=(ie.y-(H.top+H.bottom))*S.viewportHeightPercentage);var Cr=de.w/de.h,li=kt/Pi,ni=Cr>li;if(!O){ae=ni?de.h/Pi:de.w/kt;var mi=(de.w-kt*ae)*.5,Di=(de.h-Pi*ae)*.5,Cs=mi*Math.cos(de.transform.rotation)-Di*Math.sin(de.transform.rotation),Pl=mi*Math.sin(de.transform.rotation)+Di*Math.cos(de.transform.rotation);L.rotation=de.transform.rotation,L.y=de.y+-(H.top+H.marginTop)+Pl,L.x=de.x+-(H.left+H.marginLeft)+Cs,d[ct?"template":"bg"].style.opacity=.001,fi(),L.rotation=0}if(oc("initialZoom"),O&&!Xe&&c.removeClass(n,"quick-view-animated-in"),O){c.removeClass(n,"quick-view-hide-overflow");var Il=d.getCurrentIndex();_5.default.each(d.itemHolders,function(Qr){Qr.index!==Il&&(Qr.el.style.display="none")}),v.showCaption&&d.caption.classList.add("hidden")}let wc=d.currItem.el?.getAttribute?.("rel")==="quick-view";(ct||je||wc)&&(O?c[(Xe?"remove":"add")+"Class"](n,"quick-view-animate_opacity"):setTimeout(function(){c.addClass(n,"quick-view-animate_opacity")},30));var Sa=function(){if(gt("initialZoom"+(O?"Out":"In")),O){var Qr=ni?de.h/Pi:de.w/kt,ar=(de.w-kt*Qr)*.5,X=(de.h-Pi*Qr)*.5,he=ar*Math.cos(de.transform.rotation)-X*Math.sin(de.transform.rotation),ue=ar*Math.sin(de.transform.rotation)+X*Math.cos(de.transform.rotation),Ce={x:L.x,y:L.y,rotation:0},et=ae,wt=ha,oi=document.documentElement.scrollTop,Pt=mn,$o=function(Qi){var er=oi-document.documentElement.scrollTop,Ln=Pt-mn;if(Qi===1?(ae=Qr,L.x=de.x+-(H.left+H.marginLeft)+he,L.y=de.y+er+Ln+-(H.top+H.marginTop)+ue,L.rotation=de.transform.rotation):(ae=(Qr-et)*Qi+et,L.x=(de.x+-Ce.x+-(H.left+H.marginLeft)+he)*Qi+Ce.x,L.y=(de.y+er+Ln+-(H.top+H.marginTop)+ue)*Qi+(1-Qi)*(Ce.y+er+Ln),L.rotation=(de.transform.rotation-Ce.rotation)*Qi+Ce.rotation),fi(),je){var Ps=1-Qi;if(Math.hasOwnProperty("cbrt")){var Lr=1-Math.cbrt(Ps);Ps=1-Lr*Lr*Lr*Lr}n.style.opacity=Ps}else ct?n.style.opacity=1-Qi:yr(wt-Qi*wt)};Xe?ws("initialZoom",0,1,Se,c.easing.cubic.out,$o,Me):($o(1),Sr=setTimeout(Me,Se+20))}else{if(ae=S.initialZoomLevel,Yi(L,S.initialPosition),fi(),yr(1),xr){xr.opacity="",xr.transitionDuration="";let Qi=S.container.offsetHeight}ct?n.style.opacity=1:yr(1),Sr=setTimeout(Me,Se+20)}};Kt===0?Sa():Sr=setTimeout(function(){Sa()},Kt)};Ve()},uo,Ht={},co=[],_l,Bo,Fp={index:0,errorMsg:'<div class="quick-view-error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return uo.length}},pn,sr,_r,lv=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Or=function(S,T,O){var k=S.bounds;v.alignHorizontal==="left"?k.center.x=0:v.alignHorizontal==="right"?k.center.x=Ht.x-T+S.hGap.left:k.center.x=(Ht.x-T)/2+S.hGap.left,v.alignVertical==="top"?k.center.y=0:v.alignVertical==="bottom"?k.center.y=Ht.y-O+S.vGap.top:k.center.y=(Ht.y-O)/2+S.vGap.top,k.max.x=T>Ht.x?Ht.x-T+S.hGap.left:k.center.x,k.max.y=O>Ht.y?Ht.y-O+S.vGap.top:k.center.y,k.min.x=T>Ht.x?S.hGap.left:k.center.x,k.min.y=O>Ht.y?S.vGap.top:k.center.y},_s=function(S,T,O){var k=!O;if(k&&(S.vGap||(S.vGap={top:0,bottom:0}),S.hGap||(S.hGap={left:0,right:0}),gt("parseVerticalMargin",S)),S.useViewportHeight||S.useViewportWidth?(Ht.x=T.x-S.hGap.left-S.hGap.right,Ht.y=T.y-S.vGap.top-S.vGap.bottom):(Ht.x=T.x-S.hGap.left-S.hGap.right+-(H.left+H.right),Ht.y=T.y-S.vGap.top-S.vGap.bottom+-(H.top+H.bottom)),k){var Ve=S.w,Xe=S.h;S.useViewportWidth&&(Ve=(T.x-(H.left+H.right))*S.viewportWidthPercentage),S.useViewportHeight&&(Xe=(T.y-(H.top+H.bottom))*S.viewportHeightPercentage);var de=Ht.x/Ve,Se=Ht.y/Xe;S.useViewportHeight||S.useViewportWidth?S.fitRatio=1:S.fitRatio=de<Se?de:Se;var Me=v.scaleMode;Me==="orig"?O=1:Me==="fit"&&(O=S.fitRatio),O>1&&(O=1),O==0&&(O=.01),S.initialZoomLevel=O,S.bounds||(S.bounds=lv())}if(O){var Ve=S.w,Xe=S.h;return S.useViewportWidth&&(Ve=T.x*S.viewportWidthPercentage),S.useViewportHeight&&(Xe=T.y*S.viewportHeightPercentage),(S.useViewportHeight||S.useViewportWidth)&&(O=1),Or(S,Ve*O,Xe*O),k&&O===S.initialZoomLevel&&(S.initialPosition=S.bounds.center),S.bounds}},ma=function(S,T,O,k,de,Se){if(!T.loadError&&k){T.imageAppended=!0,hn(T,k,T===d.currItem&&ri),O.appendChild(k),Se&&(T.placeholder&&T.placeholder.classList.remove("quick-view-item"),setTimeout(function(){T&&T.loaded&&T.placeholder&&(T.placeholder.style.display="none",T.placeholder=null)},500));let Ve=["allow","allowfullscreen","referrerpolicy","sandbox","srcdoc","controlslist","disablepictureinpicture","disableremoteplayback","x-webkit-airplay","playsinline"].reduce((je,Kt)=>T.el?.hasAttribute(Kt)?{...je,[Kt]:T.el.getAttribute(Kt)}:je,{});for(let[je,Kt]of Object.entries(Ve))k.setAttribute(je,Kt);k.setAttribute("force-visible",!0),k.setAttribute("disable-scroll-animation",!0),k.setAttribute("disable-zoom",!0),k.setAttribute("width",T.w),k.setAttribute("height",T.h),k.setAttribute("uses","inline-part-styles"),k.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px;"),k.style.padding=k.style.borderWidth=k.style.borderRadius=k.style.outlineWidth="0px",T.usePlaceholder?k.setAttribute("hash","placeholder"):T.hash?k.setAttribute("hash",T.hash):T.src&&k.setAttribute("src",T.src);let Xe=fe.find(je=>je.index==S);if(T.fileType=="video"||T.fileType.startsWith("vimeo")||T.fileType.startsWith("youtube"))T.fileType!=="video"&&Xe.el.classList.add("iframe-item"),T.autoplay?(T.el?.getCurrentTime?.().then(je=>{k.onload=()=>{setTimeout(()=>{k.setCurrentTime?.(je)},0)}}),k.setAttribute("muted",!0),k.setAttribute("loop",!0),k.setAttribute("autoplay",!0),k.setAttribute("browser-default",!1)):(T.poster?k.setAttribute("poster",T.poster):T.posterSrc&&k.setAttribute("poster",T.posterSrc),T.el?.pause?.(),k.setAttribute("browser-default",!0));else if(T.fileType==="image"){Xe.el.classList.remove("iframe-item");var Me=T.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;Me&&T.src&&Me!==T.src&&(Me=T.src)}else T.fileType==="url"&&Xe.el.classList.add("iframe-item");T.hash&&T.hash!=="placeholder"&&k.hasAttribute("src")?(k.setAttribute("hash",T.hash),k.removeAttribute("src")):T.src&&k.getAttribute("src")!==T.src?(T.posterSrc&&!k.poster&&k.setAttribute("poster",T.posterSrc),k.setAttribute("src",T.src)):T.model&&(k.model=T.model),k.itemDragStart=je=>{je.preventDefault()};let ct=k.shadowRoot.querySelector("video");ct&&(ct.style.display="table",setTimeout(()=>{ct.style.display=""},0)),T.autoplay&&(k.onload=()=>{setTimeout(()=>{k?.play?.()})})}},Nn=function(S){S.loading=!0,S.loaded=!1;var T=S.img=c.createEl("quick-view-item","media-item");bg(S.el,S,!0).then(O=>{for(let[k,de]of Object.entries(O))S[k]=de;if(S.loaded=!0,S.loading=!1,S.loadError){S.loadComplete&&S.loadComplete(S);return}S.img&&(S.hash?S.img.setAttribute("hash",S.hash):S.src&&S.img.setAttribute("src",S.src),S.fileType=="video"&&S.autoplay&&(S.img.setAttribute("autoplay",!0),S.img.setAttribute("muted",!0),S.img.setAttribute("loop",!0))),S.loadComplete?S.loadComplete(S):S.img=null})},ga=function(S,T){if((S.src||S.hash)&&S.loadError&&S.container)return T&&(S.container.innerHTML=""),S.container.innerHTML=v.errorMsg.replace("%url%",S.src),!0},hn=function(S,T,O){T||(T=S.container.lastChild);var k=O?S.w:S.w*S.fitRatio,de=O?S.h:S.h*S.fitRatio,Se=S.w*S.fitRatio,Me=S.h*S.fitRatio;S.useViewportWidth&&(k=ie.x*S.viewportWidthPercentage,k=Se=k-(H.left+H.right)),S.useViewportHeight&&(de=ie.y*S.viewportHeightPercentage,de=Me=de-(H.top+H.bottom)),S.renderedSize={w:Se,h:Me},S===d.currItem&&Gt(S),!wr&&H.top>5&&H.right>5&&H.bottom>5&&H.left>5&&(k=Math.round(k),de=Math.round(de)),T&&(T.style.transform="translate3d(0,0,0)",T.style.width=k+"px",T.style.height=de+"px",T.style.setProperty("--frame-padding",de+"px"),T.style.setProperty("padding","0px"),T.style.setProperty("border","none"),T.style.setProperty("outline","none"),T.style.setProperty("background","none"))},Gt=function(S){if(S.renderedSize){var T=S.renderedSize.w,O=S.renderedSize.h,k=Math.max(1,S.fitRatio);d.captionWrapper.style.width=T/k+"px",d.captionWrapper.style.right=H.right+"px",d.captionWrapper.style.left=H.left+"px";var de=0;switch(v.alignVertical){case"center":de=(ie.y+-H.bottom+-H.top+-O/k)*.5+H.bottom;break;case"top":de=ie.y+-H.bottom+-H.top+-O/k+H.bottom;break;case"bottom":de=H.bottom;break}d.captionWrapper.style.height=de+"px"}},On=function(){if(co.length){for(var S,T=0;T<co.length;T++)S=co[T],S.holder.index===S.index&&ma(S.index,S.item,S.baseDiv,S.img,!1,S.clearPlaceholder);co=[]}};Mn("Controller",{publicMethods:{lazyLoadItem:function(S){S=ys(S);var T=pn(S);!T||(T.loaded||T.loading)&&!U||(gt("gettingData",S,T),Nn(T))},initController:function(){c.extend(v,Fp,!0),d.items=uo=a,pn=d.getItemAt,sr=v.getNumItemsFn,_r=v.loop,sr()<3&&(v.loop=!1),Ei("beforeChange",function(S){var T=v.preload,O=S===null?!0:S>=0,k=Math.min(T[0],sr()),de=Math.min(T[1],sr()),Se;for(Se=1;Se<=(O?de:k);Se++)d.lazyLoadItem(D+Se);for(Se=1;Se<=(O?k:de);Se++)d.lazyLoadItem(D-Se)}),Ei("initialLayout",function(){d.currItem&&(d.currItem.initialLayout=v.getThumbBoundsFn&&v.getThumbBoundsFn(D))}),Ei("mainScrollAnimComplete",On),Ei("initialZoomInEnd",On),Ei("destroy",function(){for(var S,T=0;T<uo.length;T++)S=uo[T],S.container&&(S.container=null),S.placeholder&&(S.placeholder=null),S.img&&(S.img=null),S.preloader&&(S.preloader=null),S.loadError&&(S.loaded=S.loadError=!1);co=null})},getItemAt:function(S){return S>=0&&uo[S]!==void 0?uo[S]:!1},allowProgressiveImg:function(){return!0},setContent:function(S,T){v.loop&&(T=ys(T));var O=d.getItemAt(S.index);O&&(O.container=null);var k=d.getItemAt(T),de;if(!k){S.el.innerHTML="";return}gt("gettingData",T,k),S.index=T,S.item=k;var Se=k.container=c.createEl("quick-view-zoom-wrap");ga(k),_s(k,ie),(k.src||k.hash||k.usePlaceholder)&&!k.loadError&&!k.loaded?(k.loadComplete=function(Me){if(C){if(S&&S.index===T){if(ga(Me,!0)){Me.loadComplete=Me.img=null,_s(Me,ie),oo(Me),S.index===D&&d.updateCurrZoomItem();return}Me.imageAppended?!Bo&&Me.placeholder&&(Me.placeholder.style.display="none",Me.placeholder=null):nt.transform&&(Xi||Bo)?co.push({item:Me,baseDiv:Se,img:Me.img,index:T,holder:S,clearPlaceholder:!0}):ma(T,Me,Se,Me.img,Xi||Bo,!0),_s(Me,ie),hn(Me),oo(Me)}Me.loadComplete=null,Me.img=null,gt("imageLoadComplete",T,Me)}},c.features.transform,k.loading||Nn(k),d.allowProgressiveImg()&&(!_l&&nt.transform?co.push({item:k,baseDiv:Se,img:k.img,index:T,holder:S}):ma(T,k,Se,k.img,!0,!0))):(k.src||k.hash||k.usePlaceholder)&&!k.loadError?(de=c.createEl("quick-view-item","media-item"),de.style.opacity=1,hn(k,de),ma(T,k,Se,de,!0)):!k.src&&!k.hash&&k.html&&hn(k,null),!_l&&T===D?(k.preloadedImage&&de&&de.setAttribute("src",k.preloadedImage.getAttribute("src")),xr=Se.style,gc(k,de||k.img)):oo(k),S.el.innerHTML="",S.el.appendChild(Se)},cleanSlide:function(S){S.img&&(S.img.onload=S.img.onerror=null),S.loaded=S.loading=S.img=S.imageAppended=!1}}});var fn,vc={},va=function(S,T,O){var k=document.createEvent("CustomEvent"),de={origEvent:S,target:S.target,releasePoint:T,pointerType:O||"touch"};k.initCustomEvent("pswpTap",!0,!0,de),S.target.dispatchEvent(k)};Mn("Tap",{publicMethods:{initTap:function(){Ei("firstTouchStart",d.onTapStart),Ei("touchRelease",d.onTapRelease),Ei("destroy",function(){vc={},fn=null})},onTapStart:function(S){S.length>1&&(clearTimeout(fn),fn=null)},onTapRelease:function(S,T){if(T&&!Rn&&!bl&&!Do){var O=T;if(fn&&(clearTimeout(fn),fn=null,Tp(O,vc))){gt("doubleTap",O);return}if(T.type==="mouse"){va(S,T,"mouse");return}var k=S.target.tagName.toUpperCase();if(k==="BUTTON"||c.hasClass(S.target,"quick-view-single-tap")){va(S,T);return}Yi(vc,O),fn=setTimeout(function(){va(S,T),fn=null},300)}}}});var El,ya=0,yc=0,Ji=0,Es=!1,Zr=0,Jr=!1,Wo=0,mn=0,ba="",Vo=null,Cl=!1,bc=function(){Kr=!0,zp()},Dn=function(){El&&(Be(El),El=null,Zr=0,Ji=0,Kr=!1)},wa=function(){if(!(Kr||xa)){var S=L.y,T=L.x,O=ha,k=ae;ws("resetVertical",0,1,300,c.easing.cubic.out,function(de){ae=d.currItem.initialZoomLevel*de+(1-de)*k,L.y=(d.currItem.initialPosition.y-S)*de+S;var Se=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-ae*parseFloat(d.currItem.w))*.5;L.x=d.currItem.initialPosition.x+Se,yr((1-O)*de+O),fi()})}},zp=function(){Es||(Es=!0,Kr&&(El=ht(zp),Er(),Es=!1))},xa=!1,Er=function(){!Jr&&Cl&&(document.documentElement.scrollTop=document.documentElement.scrollTop+Ji);var S=Math.min(ie.y,ie.x),T=Math.abs(Ji)/S,O=Math.max(0,Math.min(1.3-Math.abs(Zr/(S/3)),1));if(O<.85||xa||T>.2){Dn(),Dr&&clearTimeout(Dr),xa||(xa=!0,Jr?(N=!0,d.close()):setTimeout(function(){N=!0,d.close()},25));return}yr(O);var k=Math.abs(Zr)/(ie.y*.75);if(d.currItem.hasOwnProperty("thumbRect")){var de=d.currItem.initialZoomLevel*parseFloat(d.currItem.h)*.5<d.currItem.thumbRect.h;de&&(k=0)}ae=(1-k*k)*d.currItem.initialZoomLevel;var Se=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-ae*parseFloat(d.currItem.w))*.5,Me=(d.currItem.initialZoomLevel*parseFloat(d.currItem.h)-ae*parseFloat(d.currItem.h))*.5;L.y=d.currItem.initialPosition.y+Me+-Zr,L.x=d.currItem.initialPosition.x+Se,fi(),Zr=Zr+Ji,Ji=0},Dr,bi;Mn("DesktopZoom",{publicMethods:{initDesktopZoom:function(){_t||(at?d.setupDesktopZoom():d.setupDesktopZoom(!0))},setupDesktopZoom:function(S){bi={};var T="wheel mousewheel DOMMouseScroll";Ei("bindEvents",function(){c.bind(n,T,d.handleMouseWheel)}),Ei("unbindEvents",function(){bi&&c.unbind(n,T,d.handleMouseWheel)}),d.mouseZoomedIn=!1;var O,k=function(){d.mouseZoomedIn&&(c.removeClass(n,"quick-view-zoomed-in"),d.mouseZoomedIn=!1),ae<1?c.addClass(n,"quick-view-zoom-allowed"):c.removeClass(n,"quick-view-zoom-allowed"),de()},de=function(){O&&(c.removeClass(n,"quick-view-dragging"),O=!1)};Ei("resize",k),Ei("afterChange",k),Ei("pointerDown",function(){d.mouseZoomedIn&&(O=!0,c.addClass(n,"quick-view-dragging"))}),Ei("pointerUp",de),S||k()},handleMouseWheel:function(S){if(Cl=!0,ae<=d.currItem.fitRatio&&v.modal&&(!v.closeOnScroll||Do||wr?S.preventDefault():Ue&&Math.abs(S.deltaY)>2&&(N=!0,d.close())),bi.x=0,"deltaX"in S)S.deltaMode===1?(bi.x=S.deltaX*18,bi.y=S.deltaY*18):(bi.x=S.deltaX,bi.y=S.deltaY);else if("wheelDelta"in S)S.wheelDeltaX&&(bi.x=-.16*S.wheelDeltaX),S.wheelDeltaY?bi.y=-.16*S.wheelDeltaY:bi.y=-.16*S.wheelDelta;else if("detail"in S)bi.y=S.detail;else return;if(ae<=d.currItem.fitRatio&&!Jr){Ji=Ji+bi.y,v.modal&&(!v.animatedCloseOnScroll||Do||wr?(S.preventDefault(),Ji=0):Ue&&Math.abs(bi.y)>0&&!Kr&&(Dn(),bc()),Dr&&clearTimeout(Dr),Dr=setTimeout(function(){Dn(),wa()},200));return}else Ji=0,S.stopPropagation();fl(ae,!0);var T=L.x-bi.x,O=L.y-bi.y;(v.modal||T<=ut.min.x&&T>=ut.max.x&&O<=ut.min.y&&O>=ut.max.y)&&S.preventDefault(),d.panTo(T,O)},toggleDesktopZoom:function(S){S=S||{x:ie.x/2+re.x,y:ie.y/2+re.y};var T=v.getDoubleTapZoom(!0,d.currItem),O=ae===T;d.mouseZoomedIn=!O,d.zoomTo(O?d.currItem.initialZoomLevel:T,S,333),c[(O?"remove":"add")+"Class"](n,"quick-view-zoomed-in"),d.currItem.caption&&v.showCaption&&(O?d.caption.classList.remove("hidden"):d.caption.classList.add("hidden"))}}}),c.extend(d,Qg)};return r}),this.template=`<div class="quick-view" tabindex="-1" role="dialog" aria-hidden="true"> 
	

</div>`;var t=function(){var r=document.querySelector(".quick-view-container");r.outerHTML=this.template,r=null}.bind(this),e=function(){};this.setEventProxy=function(r){typeof r=="function"&&(e=r)};var i=function(r,n,o,a,l,c,d){var m=Math.acos,f=Math.atan,v=Math.sqrt,b=Math.PI,_={x:l,y:c},E=0,C={x:1,y:1},I={x:0,y:0},N=r*a-n*o;if(d)r?(I={x:f(o/r),y:f(n/r)},C={x:r,y:N/r}):n?(E=b*.5,C={x:n,y:N/n},I.x=f(a/n)):(C={x:o,y:a},I.x=b*.25);else if(r||n){var D=v(r*r+n*n);E=n>0?m(r/D):-m(r/D),C={x:D,y:N/D},I.x=f((r*o+n*a)/(D*D))}else if(o||a){var F=v(o*o+a*a);E=b*.5-(a>0?m(-o/F):-m(o/F)),C={x:N/F,y:F},I.y=f((r*o+n*a)/(F*F))}else C={x:0,y:0};return{scale:C,translate:_,rotation:E,skew:I}};this.isActive=!1,this.activeGallery=void 0,this.openImageArray=function(r,n,o){if(!(r===void 0||this.activeGallery!==void 0)){var a=document.querySelectorAll(".quick-view")[0],l=this,c=o.alignVertical||"center",d=o.alignHorizontal||"center",m=o.useControls,f=o.animatedCloseOnScroll,v=o.showCaption,b={index:n,maxSpreadZoom:1,getThumbBoundsFn:function(D){if(o&&o.preventAnimation||l.activeGallery==null)return!1;var F=l.activeGallery.getItemAt(D),z;if(!F||!F.el)return!1;F.el.tagName==="A"?z=F.el.querySelector("media-item, video, iframe, img")||F.el:z=F.el;let G=z.closest("marquee-set");if(G){let Ie=G.querySelector('marquee-inner[slot="contents"]'),at=G.querySelector('marquee-inner[slot="contents-clone"]');if(l.isActive&&at)return!1}if(z&&z.tagName==="MEDIA-ITEM"&&(z=z.shadowRoot.querySelector('[part*="media"]')),!z)return!1;let Y=z.getRootNode();for(;Y&&Y!==document;)Y instanceof ShadowRoot?Y=Y.host.getRootNode():Y=void 0;if(!Y)return!1;let L=getComputedStyle(z),Z=parseFloat(L.getPropertyValue("padding-top"))||0,$=parseFloat(L.getPropertyValue("padding-bottom"))||0,j=parseFloat(L.getPropertyValue("padding-left"))||0,ie=parseFloat(L.getPropertyValue("padding-right"))||0,H=parseFloat(L.getPropertyValue("border-top"))||0,ae=parseFloat(L.getPropertyValue("border-bottom"))||0,ee=parseFloat(L.getPropertyValue("border-left"))||0,J=parseFloat(L.getPropertyValue("border-right"))||0,le={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}},K=z,U=z,W=0,re=0,ce=0,fe=0;for(;K;)L=getComputedStyle(K),Z=parseFloat(L.getPropertyValue("padding-top"))||0,$=parseFloat(L.getPropertyValue("padding-bottom"))||0,j=parseFloat(L.getPropertyValue("padding-left"))||0,ie=parseFloat(L.getPropertyValue("padding-right"))||0,H=parseFloat(L.getPropertyValue("border-top"))||0,ae=parseFloat(L.getPropertyValue("border-bottom"))||0,ee=parseFloat(L.getPropertyValue("border-left"))||0,J=parseFloat(L.getPropertyValue("border-right"))||0,K==z?(ce=K.offsetWidth-(j+ee+ie+J),fe=K.offsetHeight-(Z+H+$+ae),W=W+K.offsetLeft+ee+j,re=re+K.offsetTop+H+Z):(W=W+K.offsetLeft+ee,re=re+K.offsetTop+H),K=K.offsetParent;let be=[];for(;U;){let Ie=[],at=getComputedStyle(U),lt=at.getPropertyValue("transform"),ht=at.getPropertyValue("position")==="fixed",Be;var Te=lt.indexOf("matrix(")>-1,_e=lt.indexOf("matrix3d(")>-1,Le=Te||_e;if(Te){Ie=lt.replace(")","").replace("matrix(","").split(",");for(var ze=0;ze<Ie.length;ze++)Ie[ze]=parseFloat(Ie[ze]);Be=i(Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5],!1)}else if(_e){Ie=lt.replace(")","").replace("matrix3d(","").split(",");for(var ze=0;ze<Ie.length;ze++)Ie[ze]=parseFloat(Ie[ze]);Be=i(Ie[0],Ie[1],Ie[4],Ie[5],Ie[12],Ie[13],!1)}else Be={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}};if(Le){let ft=W+ce*.5,Lt=re+fe*.5,_t=W-ft,Wt=re-Lt,nt=_t*Math.cos(Be.rotation)-Wt*Math.sin(Be.rotation),Ki=_t*Math.sin(Be.rotation)+Wt*Math.cos(Be.rotation);W=nt+ft,re=Ki+Lt,W+=Be.translate.x,re+=Be.translate.y,le.rotation=Be.rotation+le.rotation,le.scale.x=Be.scale.x+le.scale.x,le.scale.y=Be.scale.y+le.scale.y,le.translate.y=Be.translate.y+le.translate.y,le.translate.x=Be.translate.x+le.translate.x}U?.assignedSlot?U=U.assignedSlot:U=U.parentNode,U?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(U=U.host),U?.nodeType!==Node.ELEMENT_NODE&&(U=null),U&&(ht?be.push("fixed"):be.push(U.scrollTop))}let rt=be.findIndex(Ie=>Ie==="fixed");rt!==-1&&(be=be.slice(0,rt));let Ue=be.reduce((Ie,at=0)=>Ie+at);re=re-Ue;var ot={x:W,y:re,w:ce,h:fe,padding:{top:Z,bottom:$,left:j,right:ie},border:{top:H,bottom:ae,left:ee,right:J},transform:le};return F.thumbRect=ot,ot},closeEl:!0,arrowEl:!1,tapToClose:!0,closeOnScroll:!1,alignHorizontal:d,alignVertical:c,useControls:m,animatedCloseOnScroll:f,showCaption:v},_=!1,E=!1,C=function(){E=!0},I=function(){E=!1};if(window.addEventListener("touchend",I),window.addEventListener("touchstart",C),o!==void 0&&typeof o=="object"){for(var N in o)o.hasOwnProperty(N)&&(b[N]=o[N]);o.disableZoom===!0&&(_=!0,b.zoomEl=!1,b.getDoubleTapZoom=function(D,F){return F.initialZoomLevel},b.pinchToClose=!1)}return this.activeGallery=new this.PhotoSwipe(a,this.PhotoSwipeUI_Default,r,b),o.afterInit&&this.activeGallery.listen("afterInit",o.afterInit),_?a.classList.add("quick-view-zoom-disabled"):a.classList.remove("quick-view-zoom-disabled"),this.activeGallery.init(),this.isActive=!0,this.activeGallery.elementArray=r,this.activeGallery.listen("destroy",function(){a.parentNode!==null?(a.parentNode.removeChild(a),window.removeEventListener("touchend",I),window.removeEventListener("touchstart",C)):(window.removeEventListener("touchend",I),window.removeEventListener("touchstart",C)),l.isActive=!1,l.activeGallery=void 0}),this.activeGallery}};(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipeUI_Default=n()})(this,function(){"use strict";var r=function(n,o){var a=this,l=!1,c=!0,d,m,f,v,b,_,E,C={closeElClasses:["holder","caption","zoom-wrap","ui","top-menu-bar","container"],timeToIdle:1500,timeToIdleOutside:1500,closeEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,useControls:!1,clickToCloseNonZoomable:!0,fitControlsWidth:1200},I,N,D=function(K){if(I)return!0;K=K||window.event,E.timeToIdle&&E.mouseUsed&&!v&&j();for(var U=K.target||K.srcElement;U.nodeName==="svg"||U.nodeName==="path"||U.nodeName==="circle"||U.nodeName==="polyline"||U.nodeName==="g"||U.nodeName==="foreignObject"||U.nodeName==="line";)U=U.parentNode;for(var W,re=U.getAttribute("class")||"",ce,fe=0;fe<J.length;fe++)W=J[fe],W.onTap&&re.indexOf("quick-view-"+W.name)>-1&&(W.onTap(),ce=!0);if(ce){K.stopPropagation&&K.stopPropagation(),I=!0;var be=o.features.isOldAndroid?600:30;N=setTimeout(function(){I=!1},be)}},F=function(){return!n.likelyTouchDevice||E.mouseUsed||screen.width>E.fitControlsWidth},z=function(K,U,W){o[(W?"add":"remove")+"Class"](K,"quick-view-"+U)},G=function(K){for(var U=0;U<E.closeElClasses.length;U++)if(o.hasClass(K,"quick-view-"+E.closeElClasses[U]))return!0},Y,L,Z=0,$=!1,j=function(K){if(K){var U=qa(K.target,function(W){if(W&&W.nodeType===Node.ELEMENT_NODE)return W.classList.contains("left-arrow")||W.classList.contains("right-arrow")||W.classList.contains("close-button")});$=!!U}clearTimeout(L),Z=0,v&&a.setIdle(!1)},ie=function(K){K=K||window.event;var U=K.relatedTarget||K.toElement;(!U||U.nodeName==="HTML")&&(clearTimeout(L),L=setTimeout(function(){a.setIdle(!0)},E.timeToIdleOutside))},H=function(){E.fullscreenEl&&!o.features.isOldAndroid&&(d||(d=a.getFullscreenAPI()),d?(o.bind(document,d.eventK,a.updateFullscreen),a.updateFullscreen(),o.addClass(n.template,"quick-view-supports-fs")):o.removeClass(n.template,"quick-view-supports-fs"))},ae=function(){E.timeToIdle&&b("mouseUsed",function(){o.bind(document,"mousemove",j),o.bind(document,"mouseout",ie),Y=setInterval(function(){Z++,Z===2&&a.setIdle(!0)},E.timeToIdle/2)})},ee=function(){b("onVerticalDrag",function(U){c&&U<.95?a.hideControls():!c&&U>=.95&&a.showControls()});var K;b("onPinchClose",function(U){c&&U<.9?(a.hideControls(),K=!0):K&&!c&&U>.9&&a.showControls()}),b("zoomGestureEnded",function(){K=!1,K&&!c&&a.showControls()})},J=[{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"button-close",option:"closeEl",onTap:n.close},{name:"button-prev",option:"arrowEl",onTap:n.prev},{name:"button-next",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}}],le=function(){var K,U,W,re=function(be){if(be){for(var Te=be.length,_e=[],Le=0;Le<Te;Le++){K=be[Le],U=K.className;for(var ze=0;ze<J.length;ze++)W=J[ze],U.indexOf("quick-view-"+W.name)>-1&&(E[W.option]?(o.removeClass(K,"quick-view-element--disabled"),_e.push(K),W.onInit&&W.onInit(K)):o.addClass(K,"quick-view-element--disabled"))}_e.length>0}};re(m.children);for(var ce=m.querySelectorAll(".quick-view-group"),fe=0;fe<ce.length;fe++)re(ce[fe].children)};a.init=function(){o.extend(n.options,C,!0),E=n.options,m=o.getChildByClass(n.scrollWrap,"quick-view-ui"),b=n.listen,b("beforeChange",a.update),b("doubleTap",function(K){var U=n.currItem.initialZoomLevel;n.getZoomLevel()!==U?n.zoomTo(U,K,333):n.zoomTo(E.getDoubleTapZoom(!1,n.currItem),K,333)}),b("preventDragEvent",function(K,U,W){var re=K.target||K.srcElement;re&&re.getAttribute("class")&&K.type.indexOf("mouse")>-1&&(re.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(re.tagName))&&(W.prevent=!1)}),b("destroy",function(){E.captionEl&&(_fakeCaptionContainer&&m.removeChild(_fakeCaptionContainer),o.removeClass(_captionContainer,"quick-view-caption--empty"))}),a.bindEvents(),H()},a.unbindEvents=function(){Y&&clearInterval(Y),o.unbind(document,"mouseout",ie),o.unbind(document,"mousemove",j),o.unbind(n.scrollWrap,"pswpTap",a.onGlobalTap),window.removeEventListener("mousedown",a.onGlobalClick),d&&(o.unbind(document,d.eventK,a.updateFullscreen),d.isFullscreen()&&(E.hideAnimationDuration=0,d.exit()),d=null)},a.setupIdle=function(){ae()},a.bindEvents=function(){E.useControls,window.addEventListener("mousedown",a.onGlobalClick),o.bind(n.scrollWrap,"pswpTap",a.onGlobalTap),n.likelyTouchDevice},a.setIdle=function(K){window.store?.getState()?.frontendState?.adminMode||$||(v=K)},a.update=function(){c&&n.currItem?l=!0:l=!1},a.updateFullscreen=function(K){K&&setTimeout(function(){n.setScrollOffset(0,o.getScrollY())},50),o[(d.isFullscreen()?"add":"remove")+"Class"](n.template,"quick-view-fs")},a.onGlobalClick=function(K){let U=K.target.closest('.quick-view, media-item:not([disable-zoom="true"]), href[rel="quick-view"]');U&&(U.getAttribute("rel")=="quick-view"||U.nodeName==="MEDIA-ITEM")?n.elementArray.findIndex(re=>re.el==U)===-1&&n.close():U||n.close()},a.onGlobalTap=function(K){K=K||window.event;var U=K.target||K.srcElement;if(!I){if(K.detail&&K.detail.pointerType==="mouse"){if(G(U)){n.close();return}if(o.hasClass(U,"quick-view-item")){if(E.disableZoom){let W=U.getFileType?.();if(W&&!n.currItem.autoplay&&(W.startsWith("vimeo")||W.startsWith("youtube")||W==="video"))return;n.close();return}if(n.getZoomLevel()===1&&n.getZoomLevel()<=n.currItem.fitRatio){if(E.clickToCloseNonZoomable){n.close();return}}else n.toggleDesktopZoom(K.detail.releasePoint)}}else if(E.tapToToggleControls&&(c?a.hideControls():a.showControls()),E.tapToClose&&(o.hasClass(U,"quick-view-item")||G(U))){(!U.getFileType||U.getFileType?.()==="image")&&n.close();return}}},a.onMouseOver=function(K){K=K||window.event;var U=K.target||K.srcElement;z(m,"ui--over-close",G(U))},a.hideControls=function(){},a.showControls=function(){},a.toggleFullscreen=function(){d.isFullscreen()?d.exit():d.enter()},a.supportsFullscreen=function(){var K=document;return!!(K.exitFullscreen||K.mozCancelFullScreen||K.webkitExitFullscreen||K.msExitFullscreen)},a.getFullscreenAPI=function(){var K=document.documentElement,U,W="fullscreenchange";return K.requestFullscreen?U={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:W}:K.mozRequestFullScreen?U={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+W}:K.webkitRequestFullscreen?U={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+W}:K.msRequestFullscreen&&(U={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),U&&(U.enter=function(){if(f=E.closeOnScroll,E.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return n.template[this.enterK]()},U.exit=function(){return E.closeOnScroll=f,document[this.exitK]()},U.isFullscreen=function(){return document[this.elementK]}),U}};return r})}).call(E5)});var P5=V((TRe,kae)=>{kae.exports={}});var Yx={};si(Yx,{default:()=>Dae,getLightboxItemAndPreloadFromElement:()=>bg,openQuickViewFromElement:()=>Kx});function Nae(t,e){return{imageSettings:t.siteDesign.images,settings:t.siteDesign.quick_view,quickView:t.frontendState.quickView,adminMode:t.frontendState.adminMode}}function Oae(t){return It({updateFrontendState:actions.updateFrontendState},t)}var wg,Gx,A5,I5,bg,Kx,Dae,up=M(()=>{Ee();qe();pt();di();_i();Ui();Ne();na();is();C5();wg=pe(we(),1);oe();Gx=class extends se{constructor(e){super(e),this.state={lightboxActive:!1,navigationElement:null,showInterface:!1,showArrows:!0,navTransitioning:!1,pointerDown:!1},this.template=me(),this.navigationRef=me(),this.lightbox=window.lightbox,this.QuickView=window.QuickView,Promise.resolve().then(()=>pe(P5(),1)),this.htmlTemplate=`
			<div class="quick-view-bg quick-view-background"></div> 
			<div class="quick-view-scroll-wrap"> 

				<div class="quick-view-container"> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
				</div> 

			</div>

			<div class="quick-view-caption-positioner"> 
				<div class="quick-view-caption-wrapper"> 
					<div class="quick-view-caption caption hidden" data-quick-view-caption><span></span></div>
				</div> 
			</div>`}onPointerDown=e=>{this.setState({pointerDown:!0}),vo&&this.hideArrows()};onPointerUp=e=>{this.setState({pointerDown:!1})};onPointerMove=e=>{if(!this.state.showInterface&&!vo&&!this.state.pointerDown&&this.setState({showInterface:!0}),vo)return;let i=document.querySelector(".quick-view-caption");e&&e.target&&(this.state.navigationElement?.contains(e.target)||e.target===i||i&&i.contains(e.target))?this.hideInterface.cancel():!vo&&this.hideInterface()};isInAdmin=()=>Ri&&this.props.adminMode===!0;hideInterface=wg.default.debounce(()=>{this.isInAdmin()||this.setState({showInterface:!1})},1500);hideArrows=wg.default.debounce(()=>{this.isInAdmin()||this.setState({showArrows:!1})},500);bindEvents(){vo||document.addEventListener("pointerleave",this.hideInterface),window.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerdown",this.onPointerMove)}unbindEvents(){vo||document.removeEventListener("pointerleave",this.hideInterface),window.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerdown",this.onPointerMove)}componentDidUpdate(e,i){this.state.navigationElement!==this.navigationRef.current&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current})),this.props.location!==e.location&&this.closeQuickView(),!e.quickView.inited&&this.props.quickView.inited&&this.setState({lightboxActive:!0,showInterface:!1},()=>{this.props.quickView.mode==="preview"?(window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}}),this.previewInAdmin()):this.launchQuickView(),this.bindEvents(),this.lightbox.activeGallery?.listen("initialZoomInEnd",()=>{this.setState({showInterface:!0,showArrows:!1}),!vo&&this.hideInterface()}),this.lightbox.activeGallery?.listen("onVerticalDrag",n=>{this.state.showInterface&&n<.95?this.setState({showInterface:!1}):!this.state.showInterface&&n>=.95&&this.setState({showInterface:!0})});var r;this.lightbox.activeGallery?.listen("onPinchClose",n=>{this.state.showInterface&&n<.9?(this.setState({showInterface:!1}),r=!0):r&&!this.state.showInterface&&n>.9&&this.setState({showInterface:!0})}),this.lightbox.activeGallery?.listen("zoomGestureEnded",()=>{r=!1,r&&!this.state.showInterface&&this.setState({showInterface:!1})}),this.lightbox?.activeGallery?.listen("close",()=>{this.setState({showInterface:!1,showArrows:!0}),this.unbindEvents()}),this.lightbox?.activeGallery?.listen("destroy",()=>{window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),this.props.updateFrontendState({quickView:{mode:"default",inited:!1,autoScrolling:!1,activeGallery:null,elementArray:void 0,activeIndex:0}}),this.setState({lightboxActive:!1,showInterface:!1,showArrows:!0})})}),e.quickView.inited&&!this.props.quickView.inited&&this.lightbox.isActive&&this.lightbox.activeGallery.close(),e.quickView.autoScrolling!==this.props.quickView.autoScrolling&&this.lightbox.activeGallery&&(this.props.quickView.autoScrolling?this.lightbox.activeGallery.options.animatedCloseOnScroll=!1:this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll),!wg.default.isEqual(e.settings,this.props.settings)&&this.lightbox.activeGallery&&(e.settings.show_ui!==this.props.settings.show_ui&&this.props.settings.show_ui&&(this.setState({showInterface:!0}),this.hideInterface()),this.lightbox.activeGallery.options.alignHorizontal=this.props.settings.contentAlignHorizontal,this.lightbox.activeGallery.options.alignVertical=this.props.settings.contentAlignVertical,this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll,this.props.settings.captions!==e.settings.captions&&(this.lightbox.activeGallery.options.showCaption=this.props.settings.captions,this.props.settings.captions?(this.lightbox.activeGallery.caption.style.display="",this.lightbox.activeGallery.updateCaption()):this.lightbox.activeGallery.caption.style.display="none"),this.lightbox.activeGallery.updateSize(!0))}closeQuickView=e=>{Dt.getState().frontendState?.quickView?.inited!==!1&&this.props.updateFrontendState({quickView:{inited:!1}})};render(){return this.state.lightboxActive||this.state.navTransitioning?g(te,{children:[g("div",{ref:this.template,className:"quick-view",dangerouslySetInnerHTML:{__html:this.htmlTemplate}}),this.props.settings.show_ui?g("div",{className:"quick-view quick-view-navigation",ref:this.navigationRef,children:[this.state.navigationElement?g("style",{children:`
							.quick-view-caption {
								opacity: ${this.state.showInterface?"1":"0"};
							}
						`}):null,this.state.navigationElement?Ge(g(te,{children:[g("style",{children:`
								[part="slideshow-nav"],
								.quick-view-caption {
									opacity: ${this.state.showInterface?"1":"0"};
								}
								${vo&&`
									[part*="slideshow-nav-next-button"],
									[part*="slideshow-nav-previous-button"]{
										opacity: ${this.state.showArrows?"1":"0"};
										${this.state.showArrows?"":"pointer-events: none !important;"}
								}`}
								
							`}),g("div",{part:"slideshow-nav",onTransitionStart:e=>{this.setState({navTransitioning:!0})},onTransitionEnd:e=>{this.setState({navTransitioning:!1})},children:[this.isInAdmin()||this.props.quickView.elementArray?.length>1?g(te,{children:[g("div",{part:"slideshow-nav-previous-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.prev()},children:g("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),g("div",{part:"slideshow-nav-next-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.next()},children:g("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})})]},"slideshow-nav-buttons"):null,g("div",{part:"slideshow-nav-close-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.close()},children:g("svg",{part:"slideshow-nav-close",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-x",d:"M9.3,9.3L18,18l-8.7,8.7 M26.7,9.3L18,18l8.7,8.7"})]})})]})]}),this.state.navigationElement.shadowRoot):null]}):null]}):null}launchQuickView=()=>{if(!this.props.quickView.elementArray)return;let e=this.props.quickView.activeIndex;(e===-1||isNaN(e))&&(e=0);let i=this.props.quickView.elementArray[e],r=!1,n=i?.el?.getAttribute?.("rel")==="quick-view";lightbox.openImageArray(this.props.quickView.elementArray,e,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,showHideOpacity:n,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1,afterInit:o=>{let a=lightbox.activeGallery.template,l=window.getComputedStyle(a),c=parseInt(l.getPropertyValue("width")),d=parseInt(l.getPropertyValue("height"));this.props.updateFrontendState({quickView:{activeIndex:o}})}}),lightbox?.activeGallery?.listen("afterChange",o=>{if(!this.props.quickView.inited)return;this.props.updateFrontendState({quickView:{activeIndex:o}}),this.props.quickView.elementArray[o]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:!0}}))})};previewInAdmin=()=>{let i=[[6800,5e3],[5e3,6800],[5e3,5e3]].map(r=>{let n=document.createElement("media-item"),o=document.createElement("span");return o.classList.add("caption-background"),o.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing",n.setAttribute("width",r[0]),n.setAttribute("height",r[1]),{useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:!1,fileType:"placeholder",w:r[0],h:r[1],caption:o,hash:"placeholder",src:null,usePlaceholder:!1,el:n}});this.lightbox.openImageArray(i,0,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1})}};A5=De(Nae,Oae)(Gx),I5=(t="")=>{let e="none";if(t){let a=t.toLowerCase();if(a.endsWith(".mov")||a.endsWith(".mp4")||a.endsWith(".webm"))e="video";else if(a.endsWith(".png")||a.endsWith(".webp")||a.endsWith(".jpg")||a.endsWith(".jpeg")||a.endsWith(".gif")||a.endsWith(".avif")||a.endsWith(".apng")||a.endsWith(".svg"))e="image";else{e="url";var i,r=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,o=t.match(r);if(o&&o[3]){i=o[3];let l=t.split("/");l[l.length-1]!=i&&(i+="/"+l[l.length-1]),e="vimeo:"+i}var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,o=t.match(n);o&&o[7].length==11&&(i=o[7],e="youtube:"+i)}}return e},bg=(t,e={},i=!0)=>{var r=!1,n=t?.querySelector("figcaption"),o=n?.innerHTML;n&&o!==""&&(r=document.createElement("span"),r.classList.add("caption-background"),r.innerHTML=o);let a=!1,l=!1,c=1,d=1,m=1600,f=1600,v=!1,b="url",_=t.getAttribute("hash")||null,E=t.getAttribute("href")||null;t.getAttribute("rel")=="quick-view"?b=I5(t.getAttribute("href")):t.tagName==="MEDIA-ITEM"&&t.getFileType?b=t.getFileType():b=I5(t.getAttribute("src"));let C=E||t.getAttribute("src");return E&&(_=null),new Promise(I=>{if(_&&_!=="placeholder"&&t.tagName==="MEDIA-ITEM"&&!E){let D=t.getAttribute("poster");var N=t?.shadowRoot?.querySelector("video")?.getAttribute("poster");N||(N=t?.shadowRoot?.querySelector('img[part*="poster"]')?.getAttribute("src"));let F=screen.width,z=screen.height,G=Math.max(Math.ceil(screen.width/t._size.width),Math.ceil(screen.height/t._size.height));switch(!0){case b==="url":a=!0,l=!0;break;case b.startsWith("youtube"):case b.startsWith("vimeo"):case b=="video":m=t._size.width*G,f=t._size.height*G;break;default:m=t._size.width*G,f=t._size.height*G;break}let Y,L=()=>{I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,fileType:b,poster:t.getAttribute("poster"),loaded:!0,loading:!1,w:m,h:f,caption:r,hash:_,src:C,posterSrc:N,autoplay:t.getAttribute("autoplay")=="true",usePlaceholder:!1,el:t,model:t.model,preloadedImage:Y})},Z=t.shadowRoot.querySelector("img")?.getAttribute("src");i&&b=="image"&&Z?(Y=document.createElement("img"),Y.onload=()=>{Y.onload=void 0,Y.decode().then(()=>{L()})},Y.src=Z):L()}else if(_&&_=="placeholder")I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,autoplay:!1,fileType:b,w:t.getAttribute("width")||16e3,h:t.getAttribute("height")||9e3,caption:r,hash:"placeholder",src:C,loaded:!1,loading:!1,usePlaceholder:!0,el:t,model:t.model});else if(t.hasAttribute("width")&&t.hasAttribute("height")?t.getAttribute("width").indexOf("%")>-1&&t.getAttribute("height").indexOf("%")>-1?(a=!0,l=!0,c=parseFloat(t.getAttribute("width"))/100,d=parseFloat(t.getAttribute("height"))/100):(m=parseFloat(t.getAttribute("width")),f=parseFloat(t.getAttribute("height"))):b==="url"&&(a=!0,l=!0,c=1,d=1),b.startsWith("vimeo")||b.startsWith("youtube")){let D="";b.startsWith("vimeo")?D="https://vimeo.com/api/oembed.json?url="+C+"&width=640":D="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+C,i?fetch(D,{mode:"cors"}).then(F=>{F.json().then(z=>{I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,autoplay:t.tagName!=="MEDIA-ITEM"&&t.getAttribute("autoplay")=="true",fileType:b,w:z.width*20,h:z.height*20,caption:r,hash:null,src:C,loaded:!0,loading:!1,usePlaceholder:!1,el:t,model:t.model})})}):I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,autoplay:t.tagName!=="MEDIA-ITEM"&&t.getAttribute("autoplay")=="true",fileType:b,w:1600,h:900,caption:r,hash:null,src:C,loaded:!1,loading:!1,usePlaceholder:!1,el:t,model:t.model})}else if(b==="url"){let D=cd()&&C.indexOf(".pdf")>-1&&C.indexOf("docs.google.com/viewer")==-1,F=D?`https://docs.google.com/viewer?url=${C}&embedded=true&chrome=false`:C;I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,fileType:b,loaded:!0,loading:!1,noLazyLoading:!!D,w:3200,h:2e3,caption:r,hash:null,src:F,usePlaceholder:!1,el:t,model:t.model})}else if(b==="image")if(i){let D=document.createElement("img");D.onerror=function(){D.onload=null,I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,loadError:!0,autoplay:!1,fileType:b,loaded:!0,loading:!1,w:1600,h:1e3,caption:r,hash:null,src:C,usePlaceholder:!1,el:t,model:null})},D.onload=F=>{D.onload=null,m=D.naturalWidth,f=D.naturalHeight,a=!1,l=!1,D.decode().then(()=>{I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,autoplay:!1,fileType:b,loaded:!0,loading:!1,w:m*100,h:f*100,caption:r,hash:null,src:C,usePlaceholder:!1,el:t,model:null,preloadedImage:D})})},D.setAttribute("src",C)}else I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,autoplay:!1,fileType:b,loaded:!1,loading:!1,w:1600,h:900,caption:r,hash:null,src:C,usePlaceholder:!1,el:t,model:null});else if(b==="video")if(i){let D=document.createElement("video");D.setAttribute("preload","metadata"),D.onerror=function(F){D.onloadedmetadata=null,D.onerror=null,D.src="",D.load(),I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,loadError:!0,loaded:!0,loading:!1,autoplay:!1,fileType:b,w:1600,h:1e3,caption:r,hash:null,src:C,usePlaceholder:!1,el:t,model:null})},D.onloadedmetadata=F=>{D.onloadedmetadata=null,D.onerror=null,m=D.videoWidth,f=D.videoHeight,a=!1,l=!1,D.src="",D.load(),I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,autoplay:t.getAttribute("autoplay")=="true",loaded:!0,loading:!1,fileType:b,w:m*100,h:f*100,caption:r,hash:null,src:C,usePlaceholder:!1,el:t,model:null})},D.setAttribute("src",C),D.load()}else I({...e,useViewportWidth:a,useViewportHeight:l,viewportWidthPercentage:c,viewportHeightPercentage:d,autoplay:t.getAttribute("autoplay")=="true",loaded:!1,loading:!1,fileType:b,w:1600,h:900,caption:r,hash:null,src:C,usePlaceholder:!1,el:t,model:null})})},Kx=t=>{let e=Dt.getState();if(t&&t.nodeName!=="MEDIA-ITEM"&&(t=t.closest('a[rel="quick-view"]')||t),window.lightbox.activeGallery&&e.frontendState.quickView.elementArray){let m=e.frontendState.quickView.elementArray.findIndex(f=>f.el==t);if(m!==-1){window.lightbox.activeGallery.goTo(m);return}}let i=t.closest(".page"),r=t.getAttribute("hash"),n=[],o=qa(t,m=>m?.tagName?.startsWith("GALLERY-")),a=!1,l=t.closest("marquee-set");if(o){if(o.getAttribute("thumbnail-index")==="img:all")a=!0;else if(o&&o.getAttribute("disable-zoom")==="true")return;n=Array.from(o.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]'))}else{i?n=Array.from(i.querySelector("bodycopy")?.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]')):n=Array.from(document.querySelectorAll('bodycopy media-item:not([disable-zoom="true"]):not([href]), bodycopy a[rel="quick-view"], bodycopy media-item[rel="quick-view"], bodycopy media-item[force-quick-view="true"]'));let m=l&&t.closest('[slot="contents-clone"]');n=n.filter(f=>!qa(f,v=>!!(v?.tagName?.startsWith("GALLERY-")||v?.classList?.contains("flying-object")||v.tagName==="MARQUEE-INNER"&&(v.slot==="contents-clone"&&!m||v.slot==="contents"&&m))))}n=n.filter(m=>{if(m.tagName!=="A")return!0;let f=m.getAttribute("href")||"";return!(f===""||f=="#"||f.indexOf("mailto:")==0||f.indexOf("tel:")==0)});let c=n.indexOf(t),d=0;Promise.all(n.map((m,f)=>{let v=n.length*.5,b=v-Math.abs((c+-f)%(2*v)-v);return b<-v&&b<0&&(b=b+n.length),bg(m,{},Math.abs(b)<=d)})).then(m=>{Dt.dispatch(actions.updateFrontendState({quickView:{mode:"default",inited:!0,autoScrolling:!1,elementArray:m,activeIndex:c===-1?0:c}}))})};A5.defaultProps={settings:{show_ui:!0,captions:!1,quickViewAlignment:"center-center",contentAlignVertical:"center",contentAlignHorizontal:"center"}};Dae=Wn(A5)});var oa,Xx,Zx,T5=M(()=>{Ee();Ne();is();Ya();di();pt();jt();_i();oa=pe(we(),1);ug();$x();ne||(window.logSiteStructure=()=>{let t=window.store.getState(),e=t.structure.bySort,i=Object.keys(e);i.sort((n,o)=>e[n]-e[o]);let r={};i.forEach(n=>{let o=t.pages.byId[n]||t.sets.byId[n];r[n]={title:o.title,sort:e[n],index:t.structure.indexById[n],page_count:o.page_count}}),console.table(r)});Xx=class extends se{constructor(e){super(e),this.state={},this.isMac=!1,ne||(Promise.resolve().then(()=>(up(),Yx)).then(({openQuickViewFromElement:i})=>{this.setState({openQuickViewFromElement:i})}),this.isMac=ud())}handleGlobalClick=e=>{let i=e.target,r=i;i.shadowRoot?i=e.composedPath().find(a=>a.tagName==="A")||i:i.closest("a")&&(i=i.closest("a")),ji.handleGlobalClick(i,r);let n=document.querySelectorAll('cargo-map[follow-navigation="true"]');for(let a of n)a.handleGlobalClick(i,r);if(!e.defaultPrevented&&i&&(i.nodeName==="A"||i.nodeName==="a")&&i.getAttribute("href")&&i.getAttribute("href")!==""){let a=i.getAttribute("rel");if(this.props.adminMode){e.preventDefault();return}let l=i.getAttribute("href")||"",c=i.getAttribute("target"),d;switch(a){case"history":e.preventDefault();let m=this.props.store.getState(),f=l.substring(0,1)==="#",v=!1,b=Ke.getContentByPurl(store.getState(),l.replace(/\//,""));if(b?.overlay){ji.toggleOverlay(b.id);return}if(!f){if(d=i.getAttribute("data-tags"),d?.length>0)l=d;else{let I=Ke.getHomepagePurl(m);l.toLowerCase()===I&&!m.sets.byId.root.stack&&(l="/")}l.startsWith("/")||(l="/"+l),l==="/contact-form"&&(v=!0),r.nodeName==="MEDIA-ITEM"&&r?.classList.contains("thumbnail")&&l.replace(/\//,"")===this.props.activePURL&&document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"})}this.isMac&&e.metaKey===!0||!this.isMac&&e.ctrlKey===!0?window.open(l,"_blank"):this.props.history.push(l,{preventScrollReset:v});break;case"prev_page":case"prev-page":e.preventDefault(),this.loadPrevPage();break;case"next_page":case"next-page":e.preventDefault(),this.loadNextPage();break;case"home_page":case"home-page":e.preventDefault(),this.props.history.push("/");break;case"random_page":case"random-page":e.preventDefault(),this.loadRandomPage();break;case"top":e.preventDefault();let _=i.closest?.(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll");_?this.scrollToTop(_):(this.scrollToTop(document.scrollingElement),oa.default.each(document.querySelectorAll(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll"),this.scrollToTop));break;case"quick-view":case"quick_view":e.preventDefault(),this.state.openQuickViewFromElement?.(e.target);break;case"close-overlay":case"close_overlay":e.preventDefault();let E=r.closest("[page-url]")?.id;ji.getOverlay(E)?ji.closeOverlay(E):this.props.history.push("/");break;case"map-coordinates":e.preventDefault();break;case"map-marker":e.preventDefault();break;case"add-to-cart":case"add_to_cart":e.preventDefault(),this.props.addCommerceProductToCart((i.getAttribute("data-product")||e.target.getAttribute("data-product"))??null,(i.getAttribute("data-variant")||e.target.getAttribute("data-variant"))??null,{callback:()=>{this.props.history.push("/cart",{preventScrollReset:!0})},failureCallback:I=>{this.props.updateFrontendState({alertModal:{header:I,type:"notice"}})}});break;case"show_cart":case"show-cart":e.preventDefault(),vg().then(I=>{this.props.history.push("/cart",{preventScrollReset:!0})}).catch(I=>{console.warn(I)});break;case"filter-index":case"filter_index":e.preventDefault(),d=i.getAttribute("data-tags");let C=i.getAttribute("data-set");var o=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:d?"tag:"+d:C?"set:"+C:"all"}});i.dispatchEvent(o);break;default:this.props.isInHomepagePreview?(e.preventDefault(),parent.window.open(l)):c!=="_blank"&&(e.preventDefault(),parent.location.href=l);break}}};openAdmin=()=>{if(window.parent!==window)return;let e=this.props.activePID;if(this.props.store.getState().sets.byId[e]!==void 0){let i=document.querySelector(".content .pages .page");i?e=i.id:e=""}e?window.location.href="/edit/"+e:window.location.href="/edit"};showCargoSiteIndicator=()=>{let e=new Image;e.onload=function(){let i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.zIndex="2147483647",i.style.position="fixed",i.style.background='url("https://static.cargo.site/assets/C3/c3label.svg") center center / contain no-repeat',i.style.backgroundSize="60%",i.style.transform="rotate(-30deg)",setTimeout(function(){i.style.transition="opacity 500ms",setTimeout(function(){i.parentNode.removeChild(i)},700),setTimeout(function(){i.style.opacity="0"})},1e3),document.body.appendChild(i)},e.src="https://static.cargo.site/assets/C3/c3label.svg"};handleGlobalKeyDown=e=>{if(e.target.nodeName==="INPUT"||e.target.nodeName==="TEXTAREA"||e.target.closest?.('[contenteditable]:not([contenteditable="false"])')||e.target.classList?.contains("mcforms-wrapper"))return;let i=this.props.store.getState();if(!this.props.adminMode){if(this.isMac&&e.metaKey&&e.which===191||!this.isMac&&e.ctrlKey&&e.which===191){this.showCargoSiteIndicator();return}if(this.isMac&&e.metaKey&&e.which===27||!this.isMac&&e.ctrlKey&&e.which===27){this.openAdmin();return}if(e.shiftKey&&(e.keyCode===65||e.keyCode===69)&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&(this.props.inAdminFrame?this.props.editorRole!=="Viewer"&&(this.props.activePID&&this.props.activePID.length>0&&this.props.activePID!=="root"?parent.navigateAdmin("/"+this.props.activePID):parent.navigateAdmin("/")):this.openAdmin()),e.keyCode===82&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadRandomPage()):e.keyCode===37&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadPrevPage()):e.keyCode===39&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),this.loadNextPage()),e.which===27&&!e.metaKey&&!e.ctrlKey){if(i.frontendState?.contactForm?.inited){this.props.updateFrontendState({contactForm:{transition:!0,inited:!0}}),setTimeout(()=>{this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}})},300);return}if(i.frontendState.quickView.inited||i.frontendState.cartOpen||i.frontendState?.contactForm?.inited||i.frontendState.alertModal)return;if(!this.props.inAdminFrame){let r=ji.getAllOverlays();r.length>0?ji.closeOverlay(r[r.length-1].pid):this.props.history.location.pathname!=="/"&&this.props.history.push("/")}}}};componentDidMount(){ne||(window.addEventListener("click",this.handleGlobalClick),window.addEventListener("keydown",this.handleGlobalKeyDown))}componentWillUnmount(){ne||(window.removeEventListener("click",this.handleGlobalClick),window.removeEventListener("keydown",this.handleGlobalKeyDown))}render(){return this.props.children}loadRandomPage=()=>{let e=this.props.store.getState(),i=[];if(oa.default.each(e.sets.byId,o=>{if(o.stack&&o.id!=="root")o.page_count>0&&e.frontendState.activePID!==o.id&&i.push([o.id]);else{let a=Array.apply(null,{length:o.page_count}).map(Number.call,c=>[o.id,c]),l=Ke.getSetContentsByIndex(e,o.id);i=i.concat(a.filter(([c,d])=>{let m=l[d];return!(m&&(m.id===e.frontendState.activePID||m.id===e.site.homepage_id||m.id===e.site.mobile_homepage_id||m.page_type==="set"||m.pin===!0))}))}}),i.length===0)return;let r=i[Math.floor(Math.random()*i.length)],n=e.sets.byId[r[0]];r.length===2?this.props.fetchContent(n.id,{indexes:[r[1]],idType:"pid"}).then(o=>{o.data&&o.data[0]?this.props.history.push("/"+o.data[0].purl):this.loadRandomPage()}):r.length===1&&this.props.history.push("/"+n.purl)};doScroll=(e,i,r,n)=>{let a=i-r,l=a/(12*12);a!==0&&(n+=(n+l)/a);let c=Math.abs(r-i)<1,d=c?r+a:r+a*(-Math.pow(2,-20*n/1)+1);n>0&&(e.classList.contains("top-scrollable-overlay")?e:document.scrollingElement).scrollTo({top:d,left:0,behavior:"instant"}),c||requestAnimationFrame(()=>{this.doScroll(e,i,d,n)})};scrollToTop=e=>{let i=e.scrollTop,r=Math.round(i*.2);i>e.clientHeight?this.doScroll(e,0,r,0):this.doScroll(e,0,i,0)};loadNextPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"next"):this.props.fetchContent(i.id,{next:!0}).then(c=>{c?.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[oa.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=oa.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<n.page_count&&(r++,r>=n.page_count&&(r=0),!!o.includes(r));c++);let l=(e.structure.byParent[n.id]?.reduce((c,d)=>(e.structure.indexById[d]!==null&&(c[e.structure.indexById[d]]=d),c),{}))[r];l?this.props.history.push("/"+(e.pages.byId[l]||e.sets.byId[l])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadNextPage()})};loadPrevPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"prev"):this.props.fetchContent(i.id,{prev:!0}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[oa.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=oa.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<=n.page_count&&(r--,r<0&&(r=n.page_count-1),!!o.includes(r));c++);let l=(e.structure.byParent[n.id]?.reduce((c,d)=>(c[e.structure.indexById[d]]=d,c),{}))[r];l?this.props.history.push("/"+(e.pages.byId[l]||e.sets.byId[l])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadPrevPage()})};loadNearestContentNeighbor=(e,i)=>{let r=this.props.store.getState();if(i!=="next"&&i!=="prev")throw'direction needs to be "next" or "prev"';let n=Object.keys(r.structure.bySort).sort((c,d)=>r.structure.bySort[c]-r.structure.bySort[d]);i==="prev"&&n.reverse();let o=n.indexOf(e.id);if(o===-1)throw"Unable to locate current id in sort list";let a;for(let c=1;c<n.length+1;c++){let d=n[(o+c)%n.length],m=r.structure.byParent.hasOwnProperty(d);if(m&&r.sets.byId[d]?.stack===!0){a=d;break}else if(!m&&r.structure.indexById[d]!==null&&d!==r.site.homepage_id&&d!==r.site.mobile_homepage_id){a=d;break}}let l=r.pages.byId[a]||r.sets.byId[a];l?this.props.history.push("/"+l.purl):this.props.fetchContent(a,{idType:"pid"}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)})}},Zx=Cn(Wn(De((t,e)=>{let i;return t.auth.data?.id&&(i=oa.default.find(t.site?.editors,r=>r.id===parseInt(t.auth.data.id))?.role),{editorRole:i,adminMode:t.frontendState.adminMode,inAdminFrame:t.frontendState.inAdminFrame,activePID:t.frontendState.activePID,isInHomepagePreview:t.auth.previewing,activePURL:(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl}},t=>It({updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,addCommerceProductToCart:Fe.addCommerceProductToCart},t))(Xx)))});var M5=M(()=>{});var R5=M(()=>{qe();M5();oe()});var k5=M(()=>{});var N5,xg,O5=M(()=>{qe();N5=pe(we());R5();kf();k5();oe();xg=class extends se{constructor(e){super(e),this.ref=Re.createRef(),this.maxValue=100,this.speed=9,this.currValue=null,this.rafID=null,this.state={value:0,complete:!1,successLoading:!1}}componentDidMount=()=>{this.ref.current.addEventListener("mousestart",this.unlockStartHandler,!1)};unlockStartHandler=()=>{window.cancelAnimationFrame(this.rafID),this.currValue=this.state.value};unlockEndHandler=()=>{this.currValue=+this.state.value,this.currValue>=this.maxValue?this.successHandler():(this.rafID=window.requestAnimationFrame(this.animateHandler),this.setState({complete:!1}))};animateHandler=()=>{this.setState({value:this.currValue}),this.currValue>-1&&window.requestAnimationFrame(this.animateHandler),this.currValue=this.currValue-this.speed,setTimeout(N5.default.bind(function(){this.setState({value:0})},this),150)};successHandler=()=>{this.setState({successLoading:!0,complete:!1}),setTimeout(()=>{this.props.onConfirm()},800)};onRangeChange(e){e.persist(),this.setState({value:e.currentTarget.value}),this.setState({complete:e.currentTarget.value>=100})}componentWillUnmount=()=>{this.ref?.current?.removeEventListener("mousestart",this.unlockStartHandler,!1)};render(){return g("div",{className:`slide-confirm-slider${this.state.successLoading?" success-loading":""}`,ref:this.ref,onMouseDown:e=>{this.unlockStartHandler(e)},onMouseUp:e=>{this.unlockEndHandler(e)},onTouchEnd:e=>{this.unlockEndHandler(e)},children:[g("span",{className:"slide-message",children:this.props.slideMessage}),g("div",{className:"slide-progress",style:{left:"calc("+this.state.value+"% - calc("+this.state.value/100+" * 40px))"}}),g("input",{type:"range",min:"0",value:this.state.value,className:`pullee${this.state.complete?" complete":""}`,onChange:e=>{this.onRangeChange(e)}}),this.state.successLoading?g(ns,{className:"accent"}):null]})}}});function Fae(t){return t&&(["INPUT","TEXTAREA","SELECT"].includes(t.tagName)||t.isContentEditable)}var Jx,Lae,D5,Qx,Sg,L5=M(()=>{qm();Jx=pe(we()),Lae=0,D5=$e.isMac();Qx=class t{constructor(){if(!$e.isServer)return t.instance||(this.shortcuts={},this.scopeOrder=[],this.onKeyDown=this.onKeyDown.bind(this),this.handleEditorKeyDown=e=>this.onKeyDown("editor",e),typeof window<"u"&&window.addEventListener("keydown",this.handleEditorKeyDown),window.__c3_admin__&&(this.handleInterfaceKeyDown=i=>this.onKeyDown("interface",i),document.getElementById("client-frame")?.contentWindow?.addEventListener("keydown",this.handleInterfaceKeyDown)),t.instance=this),t.instance}setScopeOrder(e){this.scopeOrder&&Jx.default.isEmpty(this.scopeOrder)&&Jx.default.each(e,i=>{this.scopeOrder.push(i)})}getConfigKey(e){let{keyCode:i,metaKey:r="false",shiftKey:n="false",altKey:o="false",macCtrlKey:a="false"}=e;return`${i}-${r}-${n}-${o}-${a}`}getEventConfig(e){return{keyCode:e.keyCode,metaKey:D5?e.metaKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,macCtrlKey:D5?e.ctrlKey:!1}}registerHotKey(e,i,r,n="default"){let{notWhileTyping:o=!1,...a}=i,l=!!o,c=Lae++,d=this.getConfigKey(a);return this.shortcuts[n]||(this.shortcuts[n]={}),this.shortcuts[n][d]||(this.shortcuts[n][d]=[]),this.shortcuts[n][d].push({id:c,callback:r,notWhileTyping:l}),()=>{let m=this.shortcuts[n][d];if(m){let f=m.findIndex(v=>v.id===c);f!==-1&&(m.splice(f,1),m.length===0&&(delete this.shortcuts[n][d],Object.keys(this.shortcuts[n]).length===0&&delete this.shortcuts[n]))}}}shouldSkip(e,i){return e.notWhileTyping&&Fae(i)}onKeyDown(e,i){if(i.repeat)return;let r=this.getEventConfig(i),n=this.getConfigKey(r);if(!store.getState()?.frontendState?.contactForm.inited){for(let a=0;a<this.scopeOrder.length;a++){let l=this.scopeOrder[a],c=this.shortcuts[l];if(c&&c[n]){let d=c[n];if(d&&d.length>0){let m=d[d.length-1];if(m&&m.callback){if(this.shouldSkip(m,i.target))return;i.preventDefault(),m.callback(i);return}}}}if(!this.scopeOrder.includes("default")&&this.shortcuts.default&&this.shortcuts.default[n]){let a=this.shortcuts.default[n];if(a&&a.length>0){let l=a[a.length-1];if(l&&l.callback){if(this.shouldSkip(l,i.target))return;i.preventDefault(),l.callback(i)}}}}}},Sg=new Qx;Object.freeze(Sg)});var F5=M(()=>{});var cp,eS,_g,z5=M(()=>{qe();cp=pe(we());O5();kf();L5();F5();oe();eS=Re.createContext({header:null,message:null,slideMessage:null,placeholder:null,existingValue:null,type:"alert",children:null,customElement:null,preventCancelButtonRender:!1,preventClose:!1,cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,confirmButton:"Yes",denyButton:"No",maxInputLength:null,dialogInputType:"text",validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null,updateModal:()=>null}),_g=class extends se{constructor(e){super(e),this.modalDefaults={header:null,htmlHeader:null,message:null,slideMessage:null,htmlMessage:null,type:"alert",children:null,customElement:null,preventCancelButtonRender:!1,preventClose:!1,confirmButton:"OK",denyButton:"Cancel",cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,frontendData:null,maxInputLength:null,dialogInputType:"text",closeManually:!1,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null},this.state={modalOpen:!1,animate:!1,processConfirm:!1,...this.modalDefaults},this.overlayRef=Re.createRef(),this.inputRef=Re.createRef(),this.transitioning=!1,this.ignoreUnmount=!1,this.internalHotKeySet=!1,this.alterEventExecution=!0,this.clickStartedInModal=!1,this.unregisterEscapeHotKey=null,this.unregisterEnterHotKey=null}openModal=e=>{if(this.transitioning||this.state.modalOpen||this.state.animate)return;document.activeElement?.blur(),this.transitioning=!0;let i=cp.default.defaults(e,this.modalDefaults),r=new Event("openAlertModal");window.dispatchEvent(r),i.onOpen&&i.onOpen(),window.__c3_admin__===!0&&(window.store.getState().adminState.pauseGlobalEventExecution?this.alterEventExecution=!1:window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})),i.manuallyBindHotkeys&&(this.internalHotKeySet=!0,window.addEventListener("keydown",this.onKeyDown,!0)),!this.state.HotKeyProxy&&!i.manuallyBindHotkeys&&!this.unregisterEscHotKey&&(this.unregisterEscHotKey=Sg.registerHotKey("escape",{keyCode:27},this.cancelModal,"alert")),!this.state.HotKeyProxy&&!i.manuallyBindHotkeys&&!this.unregisterEnterHotKey&&(this.unregisterEnterHotKey=Sg.registerHotKey("enter",{keyCode:13},this.confirmModal,"alert")),window.addEventListener("keydown",this.onTabKeyDown),i.ignoreUnmount&&(this.ignoreUnmount=!0),this.originalStyle=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1,...i},()=>{window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!0},()=>{setTimeout(()=>{this.transitioning=!1},280)})})})}),i.frontendData&&i.frontendData.contentWindow.getSelection().removeAllRanges(),window.focus()};dispatchCloseEvents=()=>{let e=new Event("closeAlertModal");window.dispatchEvent(e),window.__c3_admin__===!0&&this.alterEventExecution&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}})};unbindInternalHotkeys=()=>{this.internalHotKeySet&&(this.internalHotKeySet=!1,window.removeEventListener("keydown",this.onKeyDown,!0)),this.unregisterEscHotKey&&(this.unregisterEscHotKey(),this.unregisterEscHotKey=null),this.unregisterEnterHotKey&&(this.unregisterEnterHotKey(),this.unregisterEnterHotKey=null),window.removeEventListener("keydown",this.onTabKeyDown)};closeModal=e=>{if(!this.state.modalOpen)return;let i=cp.default.defaults(e,this.modalDefaults);this.transitioning=!0,this.dispatchCloseEvents(),this.unbindInternalHotkeys(),document.body.style.overflow=this.originalStyle,window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1},()=>{setTimeout(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!1,animate:!1},()=>{this.state.onClose&&(this.state.onClose(),this.setState({modalOpen:!1,animate:!1,processConfirm:!1,existingValue:null,...this.modalDefaults},()=>{this.transitioning=!1}))})},280)})})};validateInput=()=>{};confirmModal=e=>{if(this.state.closeManually){this.setState({processConfirm:!0}),this.state.onConfirm();return}if(this.state.type==="dialog"&&this.inputRef.current){if(this.state.onConfirm){let i=this.inputRef.current.value;this.setState({existingValue:i},()=>{this.state.onConfirm(i)})}}else{let i={};i.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onConfirm(i)}this.closeModal()};onKeyDown=e=>{e?.key==="Enter"&&this.state.type!=="slide-confirm"&&this.confirmModal(e),e?.key==="Escape"&&(e.preventDefault(),e.stopImmediatePropagation(),this.cancelModal(e))};denyModal=()=>{if(!this.state.processConfirm){if(this.state.onDeny){let e={};e.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onDeny(e)}this.closeModal()}};cancelModal=e=>{this.state.preventClose||(this.state.onDeny&&e==="action"&&this.state.onDeny(),e?.type==="keydown"&&(e.preventDefault(),e.stopImmediatePropagation()),this.state.onCancel&&this.state.onCancel(),this.closeModal())};updateModal=(e={})=>{if(!this.state.modalOpen)return;let i=["type","modalOpen","animate","manuallyBindHotkeys","closeManually","ignoreUnmount"],r=cp.default.omit(e,i);this.setState(n=>({...n,...cp.default.pickBy(r,o=>o!==void 0)}))};overlayClick=e=>{if(this.clickStartedInModal){this.clickStartedInModal=!1;return}e.target==this.overlayRef.current&&this.cancelModal()};onMouseDown=e=>{this.clickStartedInModal=!0};onTabKeyDown=e=>{let i=e.key==="Tab"||e.keyCode===9;this.state.modalOpen&&i&&e.preventDefault()};componentDidMount(){}componentWillUnmount(){this.unmounted=!0}render(){let e=this.state.confirmButton||"OK",i=this.state.denyButton||"Cancel",r=this.state.header&&g("div",{className:"header",children:this.state.header}),n=this.state.message&&g("div",{className:"sub-message",children:this.state.message}),o=this.state.htmlHeader&&g("div",{className:"header",dangerouslySetInnerHTML:{__html:this.state.htmlHeader}}),a=this.state.htmlMessage&&g("div",{className:"sub-message",dangerouslySetInnerHTML:{__html:this.state.htmlMessage}}),l=this.state.placeholder?this.state.placeholder:"",c=this.state.existingValue?this.state.existingValue:"",d=this.state.confirmButton!==!1&&g("button",{"button-style":"rounded-2",className:"confirm",onClick:N=>this.confirmModal(N,null),children:[e,this.state.processConfirm?g(ns,{className:"default-border-radius"}):""]}),m=!this.state.preventCancelButtonRender&&g("button",{"button-style":"rounded-2",className:"deny",onClick:this.denyModal,children:i}),f=this.state.children&&!this.state.wrapperlessChildren?g("div",{className:"form",children:this.state.children}):this.state.wrapperlessChildren?this.state.children:null,v=()=>g(te,{children:[g("div",{className:"message",children:[r,n]}),g("div",{className:"opt-buttons",children:[m,d]})]}),b=()=>g(te,{children:[g("div",{className:"message",children:[r,n,o,a]}),g("div",{className:"input"}),g("div",{className:"buttons",children:d})]}),_=()=>g(te,{children:[g("div",{className:"message",children:g("div",{className:"header",children:["Something went wrong. Please contact ",g("a",{className:"alert-action-link underlined",href:"https://support.cargo.site/contact",target:"_blank",children:"Cargo Support"})]})}),g("div",{className:"input"}),g("div",{className:"buttons",children:d})]}),E=()=>g(te,{children:[g("div",{className:"message",children:[r,o,n,a]}),f,g("div",{className:"input"}),g("div",{className:"buttons",children:[m,d]})]}),C=()=>g(te,{children:[g("div",{className:"message",children:[r,n]}),g("div",{className:"input",children:g("input",{type:this.state.dialogInputType,maxLength:this.state.maxInputLength??null,placeholder:l,autoFocus:!0,autoComplete:this.state.dialogInputType==="email"?"email":null,defaultValue:c,ref:this.inputRef})}),g("div",{className:"buttons",children:[g("button",{"button-style":"rounded-2",className:"deny",onClick:this.denyModal,children:"Cancel"}),g("button",{"button-style":"rounded-2",className:"confirm",onClick:N=>this.confirmModal(N,null),children:"OK"})]})]}),I=()=>g(te,{children:[g("div",{className:"message",children:[r,n]}),this.state.checkBoxConfirmation?g("div",{className:"footer",children:g("label",{onClick:N=>{N.preventDefault(),this.setState({checkBoxConfirmationValue:!this.state.checkBoxConfirmationValue})},className:"checkbox",htmlFor:"alert_checkbox_confirmation",children:[this.state.checkBoxConfirmation,g("input",{readOnly:!0,name:"alert_checkbox_confirmation",id:"alert_checkbox_confirmation",type:"checkbox",checked:this.state.checkBoxConfirmationValue?"checked":""})]})}):null,g("div",{className:"buttons",children:[this.state.cancelButton?g("button",{"button-style":"rounded-2",className:"deny",onClick:this.cancelModal,children:"Cancel"}):null,g("button",{"button-style":"rounded-2",className:"deny",onClick:this.denyModal,children:this.state.denyButton}),g("button",{"button-style":"rounded-2",className:"confirm",onClick:N=>this.confirmModal(N,null),children:this.state.confirmButton})]})]});return g(eS.Provider,{value:{openModal:this.openModal,closeModal:this.closeModal,updateModal:this.updateModal},children:[this.state.modalOpen?g(te,{children:g("div",{className:`alert-window${this.state.animate?" active":""}${this.state.preventCancelButtonRender||this.state.preventClose?" no-exit":""}${this.state.overCart?" over-cart":""}`,onClick:this.overlayClick,ref:this.overlayRef,children:this.state.customElement?this.state.customElement:g("div",{onMouseDown:this.onMouseDown,className:`alert-modal${" "+this.state.type}${this.state.className?" "+this.state.className:""}`,children:[(this.state.type==="alert"||this.state.type==="notice")&&g(b,{}),this.state.type==="contact"&&g(_,{}),this.state.type==="confirm"&&g(E,{}),this.state.type==="dialog"&&g(C,{}),this.state.type==="publish"&&g(I,{}),this.state.type==="custom"&&g(te,{children:[g("div",{className:"message",children:[r,n]}),f]}),this.state.type==="slide-confirm"&&g(te,{children:[g("div",{className:"message",children:[r,n,o,a,f]}),g("div",{className:"buttons",children:[g("br",{}),g("br",{}),g("button",{className:"deny",onClick:this.denyModal,children:"Cancel"}),g(xg,{onConfirm:N=>this.confirmModal(N,null),slideMessage:this.state.slideMessage??"Slide to delete"})]})]})]})})}):null,this.props.children]})}}});function Hae(t,e){return{alertModal:t.frontendState.alertModal,adminMode:t.frontendState.adminMode}}function qae(t){return It({updateFrontendState:Fe.updateFrontendState},t)}var Oke,zae,Uae,H5,q5=M(()=>{Ee();pt();di();jt();Oke=pe(we(),1);z5();oe();zae=({alertModal:t,adminMode:e,...i})=>g(_g,{children:g(eS.Consumer,{children:r=>{t&&!e&&r.openModal({...t,manuallyBindHotkeys:!0,onConfirm:n=>{i.onConfirm&&i.onConfirm(),i.updateFrontendState({alertModal:!1})},onClose:n=>{i.onClose&&i.onclose(),i.updateFrontendState({alertModal:!1})},onCancel:n=>{i.onCancel&&i.onCancel(),i.updateFrontendState({alertModal:!1})}})}})});Uae=De(Hae,qae)(zae),H5=Uae});var Eg,tS=M(()=>{Eg=(t,e=window)=>new Promise((i,r)=>{var n=e.document.getElementsByTagName("head")[0],o=e.document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=t,o.media="all",o.onload=i,o.onError=r,n.appendChild(o)})});var U5,B5,W5=M(()=>{tS();U5="https://api.cargo.site/v1/fonts/css?family=",B5=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();let n=e.join("%7C").replace(/[\. -]+/g,"");if(n+="&c=3",t.context==="server"){fetch(U5+n).then(async a=>{let l=await a.text();i(l)}).catch(r);return}let o=e.map(a=>{let l=t.context.document.createElement("span");return l.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${a};`,l.textContent="BESbswy",l});o.forEach(a=>t.context.document.body.appendChild(a)),Eg(U5+n,t.context).then(a=>{t.context.document.fonts.ready.then(()=>{o.forEach(l=>l.remove()),i()})}).catch(r)})});var Bae,Wae,V5,$5=M(()=>{tS();Bae="https://fonts.googleapis.com/css?family=",Wae=["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],V5=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();if(t.context==="server")return r("Google fonts should only be loaded by the client");let n=e.map(a=>a.indexOf(":")===-1?a+":"+Wae.join(","):a).join("%7C").replace(/ /g,"+"),o=e.map(a=>{let l=t.context.document.createElement("span");return l.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${a};`,l.textContent="BESbswy",l});o.forEach(a=>t.context.document.body.appendChild(a)),Eg(Bae+n,t.context).then(a=>{t.context.document.fonts.ready.then(()=>{o.forEach(l=>l.remove()),i()})}).catch(r)})});var iS,j5=M(()=>{W5();$5();iS=t=>{if(!t)throw"No config given";t.context=t.context||window,t.active=t.active||function(){};let e=[];return e.push(V5(t,t.families?.reduce?.((i,r)=>(r.provider==="google"&&i.push(r.family),i),[]))),e.push(B5(t,t.families?.reduce?.((i,r)=>(r.provider==="cargo"&&i.push(r.family),i),[]))),Promise.all(e).catch(i=>{console.log("something went wrong while loading the site's fonts...",i)}).finally(i=>{t.active?.(i)})}});var G5,rS,nS,dp,oS=M(()=>{Ee();qe();pt();G5=pe(we(),1);Ne();_i();hr();oe();rS=new Set,nS=class extends se{constructor(e){super(e),this.state={src:null,lastSrc:null,loaded:!1},this.uid=G5.default.uniqueId(),this.decodingQueue=[]}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e,i){let{model:r,adminMode:n,isZoomable:o,alt:a,hash:l,src:c,decoding:d}=e,m=e.width??r?.width??1600,f=e.height??r?.height??1600,v=this.state.src||this.blankURI;return rS.has(this.state.src)||(v=this.state.lastSrc||this.blankURI),v=this.props.isLazyLoadable?v:this.blankURI,Tt("img",{onClick:this.props.onClick,crossorigin:"",alt:a||null,src:v,width:m,height:f,className:`media${o?" image-zoom":""} `+(this.props.className||""),ref:this.props.mediaRef,onLoad:this.onLoad,decoding:"sync",part:this.props.part||void 0})}onLoad=e=>{this.props.mediaRef.current&&(this.props.mediaRef.current.src===this.blankURI||this.props.mediaRef.current.src===""||(this.setState({loaded:!0}),this.props.onLoad&&(this.props.model?this.props.onLoad({width:this.props.model.width,height:this.props.model.width}):this.props.onLoad({width:this.props.mediaRef.current.naturalWidth,height:this.props.mediaRef.current.naturalHeight}))))};componentDidUpdate(e,i){let r=this.props["dynamic-src"]||this.props.src||void 0,n=e["dynamic-src"]||e.src||void 0;(this.props.renderWidth!==e.renderWidth||this.props.renderHeight!==e.renderHeight||e.isLazyLoadable!==this.props.isLazyLoadable||r!==n||this.props.model&&this.props.model?.hash!==e.model?.hash)&&this.onSizeChange()}componentDidMount(){this.firstLoad=!0,this.onSizeChange()}decodeImage=(e,i)=>{if(this.decodingQueue.indexOf(e)>-1)return;this.decodingQueue.push(e);let r=document.createElement("img"),n=()=>{r.onload=null,rS.has(r.src)?this.forceUpdate():(rS.add(r.src),this.state.src==r.src&&this.forceUpdate())};this.firstLoad?(r.decoding="async",r.onload=n,r.onerror=this.props.onError,r.src=e):(r.decoding="async",r.src=e,r.onerror=this.props.onError,r.decode().then(o=>{n()}).catch(o=>{n()}))};onSizeChange=()=>{let e=this.props["dynamic-src"]||this.props.src||void 0,i=this.props.renderWidth,r=this.props.renderHeight,n=i<500?50:250,o=Math.ceil(i/n)*n,a=r<500?50:250,l=Math.ceil(r/a)*a;this.props.model&&o!==0&&l!==0&&(e=su({w:o,h:l},this.props.model).url),this.props.isLazyLoadable&&e&&this.decodeImage(e),this.setState(c=>e==c.src||!e?null:(this.firstLoad=!1,{lastSrc:c.src,src:e}))}},dp=Mr((t,e)=>{let i=t.model?.is_video&&t.model?.poster?t.model.poster:t.model;return i&&i.loading&&(i=null),g(nS,{...t,model:i,mediaRef:e})})});var K5,ll,pp,Vae,ul,hp,$ae,sS,Y5,X5=M(()=>{Ee();qe();K5=pe(we(),1);oe();ll=new Set,pp="unloaded",Vae=function(){if(window?.YT&&(pp="loaded"),pp==="unloaded"){let i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{pp="loaded",ll.forEach(r=>{r.initYoutubePlayer()}),ll.clear(),typeof i=="function"&&i()},pp="loading";var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}pp==="loaded"&&(ll.forEach(i=>{i.initYoutubePlayer()}),ll.clear())},ul=new Set,hp="unloaded",$ae=function(){if(window?.Vimeo&&(hp="loaded"),hp==="unloaded"){hp="loading";var t=document.createElement("script");t.onload=()=>{hp="loaded",ul.forEach(i=>{i.initVimeoPlayer()}),ul.clear()},t.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}hp==="loaded"&&(ul.forEach(i=>{i.initVimeoPlayer()}),ul.clear())},sS=class extends se{constructor(e){super(e),this.state={apiPlayer:null,nativeSize:{width:1,height:1},wasInLazyLoadRange:e.isLazyLoadable},this.uid=K5.default.uniqueId(),this.html="",this.divRef=me()}render(e){let{src:i,width:r,height:n,model:o}=e;return g(te,{children:[e.adminMode?g("div",{style:{position:"absolute",zIndex:9999,pointerEvents:"auto",background:"transparent",inset:0}}):null,g("div",{onPointerEnter:this.props.onPointerEnter,onPointerOut:this.props.onPointerOut,dangerouslySetInnerHTML:{__html:this.html},style:{position:"absolute",inset:0},ref:this.divRef})]})}setIframeStyles=()=>{if(!this.divRef.current)return;let e=this.divRef.current.querySelector("iframe");if(e||this.props.fileType.startsWith("youtube:")||this.props.fileType.startsWith("vimeo:")&&this.state.apiPlayer&&(e=this.state.apiPlayer.element),!e)return;let i="margin: auto; position: absolute;";i+="width: 100%; height: 100%; inset: 0;",e.setAttribute("part","iframe iframe"+this.props.statusPartAppendix),e.setAttribute("style",i)};loadAPIPlayer=()=>{ul.delete(this),ll.delete(this),this.props.fileType.startsWith("youtube:")?(ll.add(this),Vae()):this.props.fileType.startsWith("vimeo:")&&(ul.add(this),$ae())};initVimeoPlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=this.props.fileType.replace("vimeo:","").split("/"),i=new window.Vimeo.Player(this.divRef.current,{id:e.length>1&&this.props.src?this.props.src:e[0],h:e[1]||void 0,width:this.props.width||640,height:this.props.height||480,loop:this.props.loop,autopause:!1,autoplay:!1,volume:this.props.autoplay||this.props.muted?0:1,background:!this.props["browser-default"],pip:!1,speed:!0,portrait:!1,muted:this.props.autoplay||this.props.muted});this.setState({apiPlayer:i},()=>{Promise.all([i.getVideoWidth(),i.getVideoHeight()]).then(r=>{i.on("loaded",()=>{i.element?.setAttribute("id","vimeo-player-"+this.uid),i.element?.setAttribute("frameborder","0"),this.setIframeStyles()}),i.on("play",()=>{this.props.onPlay?.()}),i.on("pause",()=>{this.props.onPause?.()}),i.on("ended",()=>{this.props.onEnded?.()}),i.pause().then(i.setCurrentTime(0));var n=r[0],o=r[1];this.setState({nativeSize:{width:n,height:o}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((a,l)=>{this.state.apiPlayer.play().then(c=>{a(!0)}).catch(c=>{l(c)})}),pause:()=>new Promise((a,l)=>{this.state.apiPlayer.pause().then(c=>{a(!0)})}),setCurrentTime:a=>new Promise((l,c)=>{this.state.apiPlayer.setCurrentTime(a).then(d=>{l(!0)})}),getCurrentTime:()=>new Promise((a,l)=>{this.state.apiPlayer.getCurrentTime().then(c=>{a(c)})}),setMute:a=>new Promise((l,c)=>{this.state.apiPlayer.setMuted(a).then(function(d){l(d)}).catch(function(d){})}),setVolume:a=>new Promise((l,c)=>{this.state.apiPlayer.setVolume(a).then(d=>{l(!0)})}),getVolume:()=>new Promise((a,l)=>{this.state.apiPlayer.getVolume().then(c=>{a(c)})}),getDuration:()=>new Promise((a,l)=>{this.state.apiPlayer.getDuration().then(c=>{a(!0)})}),stop:()=>new Promise((a,l)=>{Promise.all([i.pause(),i.setCurrentTime(0)]).then(()=>{a(!0)})}),setPlaybackRate:a=>new Promise((l,c)=>{this.state.apiPlayer.setPlaybackRate(a).then(d=>{l(!0)})}),size:{width:n,height:o}})})})};initYoutubePlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=document.createElement("iframe"),i=this.props.fileType.replace("youtube:","");e.setAttribute("style","display:none;"),this.divRef.current.appendChild(e);let r=this.props.src.indexOf("?")>-1?this.props.src.split("?")[0]:this.props.src,n=this.props.fileType?.replace("youtube:","")||null,o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+r;n&&n.length>0&&(o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+n),fetch(o,{mode:"cors"}).then(a=>{a.json().then(l=>{let c=l.width*2||640,d=l.height*2||480;e.setAttribute("id","youtube-player"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0");let m={autoplay:this.props.muted&&this.props.autoplay?1:0,width:c,height:d,modestbranding:1,loop:this.props.loop,host:"https://www.youtube.com",controls:this.props["browser-default"]?void 0:0,disablekb:this.props["browser-default"]?1:0,enablejsapi:1,origin:window.location.origin,rel:0},f=Object.entries(m).filter(([b,_])=>_!==void 0).map(([b,_])=>b+"="+_).join("&");e.setAttribute("src","https://www.youtube.com/embed/"+i+"?"+f),this.setState({nativeSize:{width:c,height:d}}),this.setIframeStyles();let v=new YT.Player(e,{videoId:i,playerVars:m,events:{onReady:()=>{this.setState({nativeSize:{width:c,height:d}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((b,_)=>{this.state.apiPlayer.playVideo(),b(!0)}),pause:()=>new Promise((b,_)=>{this.state.apiPlayer.pauseVideo(),b(!0)}),stop:()=>new Promise((b,_)=>{this.state.apiPlayer.stopVideo(),esolve(!0)}),size:{width:c,height:d},setCurrentTime:b=>new Promise((_,E)=>{switch(this.state.apiPlayer.getPlayerState()){case 0:case 1:case 2:this.state.apiPlayer.seekTo(b,!1)}_(!0)}),getCurrentTime:()=>new Promise((b,_)=>{b(this.state.apiPlayer.getCurrentTime())}),setVolume:b=>(console.log("setting volume of ",b),new Promise((_,E)=>{this.state.apiPlayer.setVolume(b*100),_(!0)})),setMute:b=>new Promise((_,E)=>{b?this.state.apiPlayer.mute():this.state.apiPlayer.unMute(),_(!0)}),getVolume:b=>new Promise((_,E)=>{_(this.state.apiPlayer.getVolume()/100)}),getDuration:()=>new Promise((b,_)=>{b(this.state.apiPlayer.getDuration())}),setPlaybackRate:b=>new Promise((_,E)=>{this.state.apiPlayer.setPlaybackRate(b),_(!0)})})},onStateChange:b=>{switch(b.data){case YT.PlayerState.ENDED:this.props.onEnded?.();break;case YT.PlayerState.PAUSED:this.props.onPause?.();break;case YT.PlayerState.PLAYING:this.props.onPlay?.();break}}}});this.setState({apiPlayer:v})})})};componentDidUpdate(e,i){if((this.props.width!==e.width||this.props.height!==e.height||this.state.nativeSize!==i.nativeSize||this.props["image-fit"]!==e["image-fit"])&&this.setIframeStyles(),this.props.statusPartAppendix!==e.statusPartAppendix){let r=this.divRef.current?.querySelector("iframe");r&&r.setAttribute("part","iframe iframe"+this.props.statusPartAppendix)}e.isLazyLoadable!==this.props.isLazyLoadable&&this.props.isLazyLoadable&&this.setState({wasInLazyLoadRange:!0}),(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted||i.wasInLazyLoadRange!==this.state.wasInLazyLoadRange)&&(e.src&&this.props.onNewPlayer(null),clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(()=>{e.fileType.startsWith("youtube")&&this.state.apiPlayer&&(this.state.apiPlayer?.destroy(),this.loadAPIPlayer()),e.fileType.startsWith("vimeo")&&this.state.apiPlayer&&(this.state.apiPlayer.off("loaded"),this.state.apiPlayer.off("play"),this.state.apiPlayer.off("pause"),this.state.apiPlayer?.destroy().then(()=>{this.loadAPIPlayer()}))},0))}componentDidMount(){this.loadAPIPlayer()}componentWillUnmount(){clearTimeout(this.initPlayerTimeout),ll.delete(this),ul.delete(this)}},Y5=Mr((t,e)=>g(sS,{...t,mediaRef:e}))});var Z5,aS,J5,Q5=M(()=>{Ee();pt();oS();X5();hr();Ne();qe();Z5=pe(we(),1);oe();aS=class extends se{constructor(e){super(e),this.nullPlayer={play:()=>new Promise((i,r)=>{r("null player play")}),pause:()=>new Promise((i,r)=>{r("null player pause")}),stop:()=>new Promise((i,r)=>{r("null player stop")}),getDuration:()=>new Promise((i,r)=>{r("null player getDuration")}),getCurrentTime:()=>new Promise((i,r)=>{r("null player getCurrentTime")}),setCurrentTime:()=>new Promise((i,r)=>{r("null player setCurrentTime")}),setMute:()=>new Promise((i,r)=>{r("null player setMute")}),getVolume:()=>new Promise((i,r)=>{r("null player getVolume")}),setVolume:()=>new Promise((i,r)=>{r("null player setVolume")}),setPlaybackRate:()=>new Promise((i,r)=>{r("null player setPlaybackRate")}),size:{width:0,height:0}},this.state={playing:!1,paused:!0,stopped:!0,hasPlayedThrough:!1,interacted:!1,hasAttention:!1,videoLoaded:!1,posterLoaded:!1,activePlayer:this.nullPlayer},this.posterRef=me(),this.videoRef=me(),this.videoPlayerRef=me()}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e){let{model:i,posterModel:r,adminMode:n,isZoomable:o,alt:a,hash:l,src:c,fileType:d,decoding:m,"browser-default":f,"dynamic-src":v}=e,b=["controlslist","disablepictureinpicture","disableremoteplayback","x-webkit-airplay","playsinline"].reduce((Y,L)=>this.props.baseNode.hasAttribute(L)?{...Y,[L]:this.props.baseNode.getAttribute(L)}:Y,{}),_=e.width??i?.width??1600,E=e.height??i?.height??1600,C=v||c||"",I=null;i&&(i.is_url?I=i.url:I="https://freight.cargo.site/i/"+i.hash+"/"+i.name);let N="";i?.loading||!I?N=C||"":N=I||"";let D=!this.props.muted&&!this.props.autoplay&&this.state.playing;d==="video"&&(N=D||this.props.isLazyLoadable?N:"");let F=null;r&&!r.loading?r.is_video&&r.poster?F=su({w:this.props.renderWidth},r.poster).url||"":F=su({w:this.props.renderWidth},r).url||"":i&&i.poster&&!i.poster.loading?F=su({w:this.props.renderWidth},i.poster).url||"":(this.props["dynamic-poster"]||this.props.poster)&&(F=this.props["dynamic-poster"]||this.props.poster||null,F=F.startsWith("https://")?F:""),F=this.props.isLazyLoadable?F:"";let z=this.state.playing?"-playing":this.state.stopped?"-stopped":this.state.paused?"-paused":"",G=!f;return g("div",{onPointerEnter:this.onPointerEnter,onPointerOut:this.onPointerOut,part:"media video-player"+(z?" video-player"+z:""),ref:this.props.mediaRef,className:`media${o?" image-zoom":""}`,children:g("div",{className:"video-player-crop",children:[G?g(dp,{ref:this.posterRef,src:F||this.blankURI,isZoomable:o,onLoad:this.onPosterLoad,isLazyLoadable:this.props.isLazyLoadable,renderWidth:this.props.renderWidth,renderHeight:this.props.renderHeight,width:_,height:E,style:{transform:"rotate(1deg)"},part:"poster"+(z?" poster"+z:"")}):null,d==="video"?g("video",{...b,ref:this.videoRef,playsinline:"true",autoplay:this.props.autoplay,loop:this.props.loop,src:N,controls:f,onLoadedMetadata:this.onVideoLoad,preload:"metadata",part:"video"+(z?" video"+z:""),poster:f?F+"?cachebreak="+this.state.forceUpdate:null,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,width:_,height:E,onClick:this.onClick}):g(Y5,{...this.props,statusPartAppendix:z,fileType:d,ref:this.videoRef,loop:this.props.loop,width:_,height:E,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,onNewPlayer:this.onNewPlayer,src:N})]})})}onClick=e=>{console.log(e)};componentDidMount(){this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,Object.defineProperty(this.props.baseNode,"playing",{get:()=>this.state.playing,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,configurable:!0}),Object.defineProperty(this.props.baseNode,"stopped",{get:()=>this.state.stopped,configurable:!0}),this.autoplayInterval=setInterval(()=>{this.props.autoplay&&!this.state.playing&&this.props.visible&&!this.state.interacted&&(this.props.loop||!this.state.hasPlayedThrough)&&this.state.activePlayer.setMute(!0).then(()=>{this.play()}).catch(e=>{clearInterval(this.autoplayInterval)})},1200),this.configurePlayer(),this.props.visible&&this.enteredView()}configurePlayer=()=>{this.props.muted||this.props.autoplay?this.state.activePlayer.setMute(!0).then(()=>{this.props.visible&&this.enteredView()}).catch(e=>{}):this.state.activePlayer.setVolume(1).catch(e=>{}),this.props["playback-rate"]!=1&&this.state.activePlayer.setPlaybackRate(this.props["playback-rate"]).catch(e=>{})};componentDidUpdate(e,i){i.activePlayer!=this.state.activePlayer&&(this.configurePlayer(),this.setState({interacted:!1})),(this.props.visible!=e.visible||i.activePlayer!=this.state.activePlayer)&&(this.props.visible?this.enteredView():this.exitedView()),this.props.poster!==e.poster&&this.resetVideoPlayer(),this.props.isLazyLoadable!==e.isLazyLoadable&&(this.props.isLazyLoadable||(this.videoRef.current?.pause(),this.videoRef.current?.removeAttribute("src"),this.videoRef.current?.load())),this.props.muted!==e.muted&&this.state.activePlayer.setVolume(this.props.muted||this.props.autoplay?0:1),this.props.fileType==="video"&&(i.videoLoaded!==this.state.videoLoaded||i.posterLoaded!==this.state.posterLoaded)&&(this.props.poster&&this.state.posterLoaded&&this.state.videoLoaded?this.initializeVideoElementPlayer():this.state.videoLoaded&&this.initializeVideoElementPlayer()),(e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"])&&(this.setState({interacted:!1}),this.state.activePlayer.setCurrentTime(0),this.props.autoplay?this.play():this.stop())}componentWillUnmount(){clearInterval(this.autoplayInterval),this.pause(),this.exitedView.cancel(),delete this.props.baseNode.playing,delete this.props.baseNode.paused,delete this.props.baseNode.stopped,delete this.props.baseNode.play,delete this.props.baseNode.pause,delete this.props.baseNode.getCurrentTime,delete this.props.baseNode.setCurrentTime}play=()=>{this.state.activePlayer&&this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(e=>{this.state.activePlayer.getVolume().then(i=>{i!==0&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(r=>{})}).catch(r=>{})}).catch(i=>{})})};pause=()=>{this.state.activePlayer&&this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0})}).catch(e=>{})};stop=()=>{this.state.activePlayer&&(this.pause(),this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0,stopped:!0}),this.state.activePlayer.setCurrentTime(0)}).catch(e=>{}))};onPointerEnter=e=>{this.props["play-on"]==="hover"&&(this.props.poster&&this.state.activePlayer.setCurrentTime(0),this.play()),this.setState({hasAttention:!0})};onPointerOut=e=>{this.props["play-on"]==="hover"&&this.pause(),this.setState({hasAttention:!1})};onPosterLoad=()=>{this.setState({posterLoaded:!0})};onVideoLoad=()=>{this.setState({videoLoaded:!0})};onNewPlayer=e=>{if(!e){this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:this.nullPlayer},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime});return}this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:e},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,this.props.onLoad&&this.props.onLoad({width:e.size.width,height:e.size.height}),this.props.visible&&this.enteredView()})};initializeVideoElementPlayer=()=>{this.videoRef.current.paused&&this.videoRef.current.currentTime!==0&&(this.videoRef.current.currentTime=0),this.onNewPlayer({play:()=>new Promise((e,i)=>{this.videoRef.current.play().then(function(){e(!0)}).catch(function(r){i(r)})}),pause:()=>new Promise((e,i)=>{this.videoRef.current.pause(),e(!0)}),stop:()=>new Promise((e,i)=>{this.videoRef.current.pause(),this.videoRef.current.currentTime=0,e(!0)}),getDuration:()=>new Promise((e,i)=>{e(this.videoRef.current.duration)}),getCurrentTime:()=>new Promise((e,i)=>{e(this.videoRef.current.currentTime)}),setCurrentTime:e=>new Promise((i,r)=>{this.videoRef.current.currentTime===e?i(!0):(this.videoRef.current.currentTime=e,this.videoRef.current.addEventListener("seeked",()=>{i(!0)},{once:!0}))}),setMute:e=>new Promise((i,r)=>{this.videoRef.current.muted=e,i(e)}),getVolume:()=>new Promise((e,i)=>{e(this.videoRef.current.volume)}),setVolume:e=>new Promise((i,r)=>{this.videoRef.current.volume=e,i(!0)}),setPlaybackRate:e=>new Promise((i,r)=>{this.videoRef.current.playbackRate=Math.max(.1,Math.min(2,parseFloat(e))),"preservesPitch"in this.videoRef.current?this.videoRef.current.preservesPitch=!1:"mozPreservesPitch"in this.videoRef.current?this.videoRef.current.mozPreservesPitch=!1:"webkitPreservesPitch"in this.videoRef.current&&(this.videoRef.current.webkitPreservesPitch=!1),i(!0)}),size:{width:this.videoRef.current.videoWidth||320,height:this.videoRef.current.videoHeight||240}})};onPlay=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!0,i.paused=!1,i.stopped=!1,i})};onPause=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!1,i.paused=!0,i})};onEnded=()=>{this.setState({hasPlayedThrough:!0})};resetVideoPlayer=()=>{Promise.all([this.state.activePlayer.setCurrentTime(0),this.state.activePlayer.pause()]).then(()=>{this.setState({hasPlayedThrough:!1,paused:!0,stopped:!0},()=>{if(this.props.poster&&this.videoRef.current&&this.props["browser-default"]){if(sn()&&this.videoRef.current){let e=this.videoRef.current.cloneNode();this.videoRef.current.replaceWith(e),this.videoRef.current=e}this.videoRef.current.load()}})})};enteredView(){this.exitedView.cancel(),(this.props.autoplay==!0||this.props["play-on"]==="hover"&&this.state.hasAttention)&&!this.state.playing&&this.play()}exitedView=Z5.default.debounce(()=>{!this.props.muted&&!this.props.autoplay&&this.state.playing||(this.pause(),Promise.all([this.state.activePlayer.pause(),this.state.activePlayer.getCurrentTime(),this.state.activePlayer.getDuration()]).then(([i,r,n=0])=>{(n-r<.1&&!this.props.loop||Number.isNaN(n)||r==0&&i)&&this.resetVideoPlayer()}))},500)},J5=Mr((t,e)=>g(aS,{...t,mediaRef:e}))});var kNe,lS,eH,tH=M(()=>{Ee();pt();hr();qe();kNe=pe(we(),1);oe();lS=class extends se{constructor(e){super(e)}render(e){let{model:i,src:r,isLazyLoadable:n}=e,o=(i?.is_url?i.url:r)||"",a=["soundcloud.","mixcloud.","spotify.","bandcamp."].some(c=>o.includes(c));!n&&!a&&(o="");let l=["allow","allowfullscreen","referrerpolicy","sandbox","srcdoc"].reduce((c,d)=>this.props.baseNode.hasAttribute(d)?{...c,[d]:this.props.baseNode.getAttribute(d)}:c,{});return g("iframe",{part:"media iframe",allowfullscreen:!0,mozallowfullscreen:!0,webkitallowfullscreen:!0,frameborder:"0",...l,className:this.props.loaded?"loaded":"",onload:this.onLoad,ref:this.props.mediaRef,src:o})}onLoad=()=>{this.props.onLoad&&this.props.onLoad()};componentDidMount(){this.props.isLazyLoadable&&this.startGDocsLoadCheck()}componentDidUpdate(e,i){this.props.loaded!==e.loaded&&(clearInterval(this.gDocsTimeoutCheck),this.props.loaded||this.startGDocsLoadCheck()),this.props.isLazyLoadable!==e.isLazyLoadable&&(clearInterval(this.gDocsTimeoutCheck),this.props.isLazyLoadable&&this.startGDocsLoadCheck())}componentWillUnmount(){clearInterval(this.gDocsTimeoutCheck)}startGDocsLoadCheck=()=>{let e=this.props.model?.is_url?this.props.model.url:this.props.src;if(e.indexOf("https://docs.google.com/viewer")==0){let i=2500;this.gDocsTimeoutCheck=setInterval(()=>{this.props.mediaRef.current?.contentDocument?(this.props.mediaRef.current.setAttribute("src",""),this.props.mediaRef.current.setAttribute("src",e)):clearInterval(this.gDocsTimeoutCheck),i=i+500,i>4e3&&(console.warn("Google Docs Viewer failed to load"),clearInterval(this.gDocsTimeoutCheck))},i)}}},eH=Mr((t,e)=>g(lS,{...t,mediaRef:e}))});var sa,$u,uS,cS,iH,rH=M(()=>{Ee();qe();Rt();Ne();Ni();Kn();Bi();sa=pe(we(),1);oe();$u=new Set,uS=sa.default.debounce(()=>{let t=Array.from($u),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(c=>{let d;return c.state.selected?d=c.props.baseNode.getBoundingClientRect():d={top:-9e9},{component:c,rect:d}});e=sa.default.sortBy(o,(c,d)=>c.rect.top);let a=e.filter(c=>c.component.state.selected),l=a[a.length-1].component.props.baseNode._size;r=a[a.length-1].rect.bottom+-a[0].rect.top+-l.mediaItemSize.padSize+-l.mediaSize.padSize,e=e.map(c=>c.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r},()=>{o.setEditorFrame()}),n=!0)})},100);ne||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",uS):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",uS)}),document.addEventListener("selectionchange",uS));cS=class extends se{constructor(e){super(e),this.state={selected:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,overlayPosition:{x:0,y:0},mediaItemEditorInfo:{},resizeCorner:0,pointerAttention:!1,pointerProxyAttention:!1,activeGallery:null,disabledFigureOptions:[],editorFramePosition:{x:0,y:0},editorMediaFramePosition:{x:0,y:0},UIWindow:!1,cursorOrientation:"nwse-resize",isResizing:!1,dragStartPosition:{x:0,y:0},dragDelta:{x:0,y:0},scalingLimit:1e3,resizeDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},initialDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},handlePos:{x:100,y:100,w:100,h:100},contextPos:{x:100,y:100,w:100,h:100},mediaCornerPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],multiSelectHeight:null},this.renderElement=He.getPortal(this.props.baseNode,{noPointerEvents:!1,trackResize:!1,extraMargins:!1,component:this}),this.mediaGhostRef=me(),this.observer=new MutationObserver(this.checkForEmptyCaption)}render(e,i){let{mediaItemEditorInfo:r,overlayPosition:n,resizeCorner:o,pointerAttention:a,pointerProxyAttention:l,disabledFigureOptions:c,editorFramePosition:d,editorMediaFramePosition:m,isResizing:f,dragStartPosition:v,dragDelta:b,scalingLimit:_,resizeDimensions:E,handlePos:C,mediaCornerPositions:I,cursorOrientation:N,partOfMultipleSelection:D,showMultipleSelectionButton:F,UIWindow:z,contextPos:G}=i,{rotation:Y,dimensions:L,mediaDimensions:Z,baseNode:$,size:j}=e;if(r?.disableAll==!0)return null;let ie=E.width*E.overSize/j.mediaSize.width,H=E.height*E.overSize/j.mediaSize.height,ae=1/ie||1,ee=e.scale;f&&(E.displayScale?ee=E.displayScale:E.scaleArray[1]=="px"?ee=parseFloat(E.scaleArray[0]).toFixed(0)+E.scaleArray[1]+"":ee=parseFloat(E.scaleArray[0]).toFixed(1)+E.scaleArray[1]+""),ee=ee==="100.0%"?"100%":ee;let J=e.rotation+"\xB0",le=null;(a||l)&&!r?.disableButton&&!z&&!f&&(F&&D?le=g("button",{"data-editor-overlay":"true",class:"media-options-button multiple",style:{transform:`translate(${Math.floor(G.x*2)/2}px, ${Math.floor(G.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!F&&!D&&(le=g("button",{"data-editor-overlay":"true",class:"media-options-button",style:{transform:`translate(${Math.floor(G.x*2)/2}px, ${Math.floor(G.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:g("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),g("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),g("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),g("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),g("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})));let K=null;!f&&a&&!r?.disableResize&&!D&&(K=g("button",{class:`resize-handle ${N}`,style:{transform:`translate(${Math.floor(C.x*2)/2}px, ${Math.floor(C.y*2)/2}px)`},onMouseDown:this.onResizePointerDown,children:g("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",style:"enable-background:new 0 0 32 32;",children:[g("polygon",{class:"outline",points:"24,18 28,15 30,14 30,30 14,30 15,28 18,24 8,14 4,17 2,18 2,2 18,2 17,4 14,8 "}),g("polygon",{class:"inner",points:"8,11 4,14 4,4 14,4 11,8 24,21 28,18 28,28 18,28 21,24 "})]})}));let U=r?.additionalUI?.(this,$)||null;return g(te,{children:[g("style",{children:`:host {
				${f?"visibility: hidden!important;":""}
			}
			`}),g(Vi,{baseNode:$,onSelectionChange:this.onSelectionChange}),Ge(g("div",{class:"editor-overlay",style:{height:j.mediaItemSize.height+"px",width:j.mediaItemSize.width+"px",display:a||f||l?"block":"none",transform:`translate3d(${n.x}px, ${n.y}px, 1px) rotate(${e.rotation}deg)`},children:[g("div",{class:`figure-outline${this.state.usingLocalScale?" using-local-scale":""}`,style:{width:j.mediaItemSize.width+"px",height:j.mediaItemSize.height+"px",top:d.y+"px",left:d.x+"px",transform:`rotate(${-e.rotation}deg)`},children:[f&&a&&g("div",{className:"tool-tip figure-sizing visible",style:{transform:`translate(${Math.floor(G.x*2)/2}px, ${Math.floor(G.y*2)/2}px)`},children:g("div",{className:"tooltip-content",children:g("span",{children:`${this.props.limitBy}: ${ee}`})})}),le,K,U]}),g("div",{class:"media-ghost-container",style:{display:f?"block":"none",width:E.width+j.mediaSize.padSize+"px",height:E.height+j.mediaSize.padSize+"px",top:o===2||o===3?"0":"auto",right:o===1||o===2?"auto":"0",left:o===1||o===2?"0":"auto",bottom:o===2||o===3?"auto":"0"},children:g("div",{class:"media-ghost",ref:this.mediaGhostRef})})]}),this.renderElement)]},"media-item-editor")}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onOptionsButtonClick=e=>{if(this.state.mediaItemEditorInfo?.disableAll||e.metaKey||e.target.closest("figcaption"))return;e.preventDefault();let i=[];$u.forEach(o=>{o.state.selected&&i.push(o.props.baseNode)}),i.indexOf(this.props.baseNode)===-1&&(i=[this.props.baseNode]);let r=this.props.baseNode.getBoundingClientRect(),n={x:r.x+10,y:r.y+10,left:r.left+10,right:r.right+10,top:r.top+10,bottom:r.top+10,width:r.width,height:0};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:n,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:i,clickedMediaItem:this.props.baseNode}})};setUIWindow=e=>{this.setState({UIWindow:e})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1,pointerAttention:!1}),this.setState({selected:e})};checkForEmptyCaption=()=>{let e=this.props.figCaptionElement;if(e){e.classList.contains("caption")||e.classList.add("caption");let i=Array.from(e.childNodes).every(r=>r.nodeType==Node.TEXT_NODE&&r.nodeValue.trim()==="");i&&!e.classList.contains("empty")?e.classList.add("empty"):!i&&e.classList.contains("empty")&&e.classList.remove("empty")}};componentDidMount(){$u.add(this),this.props.baseNode._editorInterface=this,this.checkZoomable(),this.checkHref(),this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),ye.globalDragEventController.on("dragend",this.updatePosition),ye.globalDragEventController.on("drop",this.updatePosition),this.props.baseNode.addEventListener("contextmenu",this.onOptionsButtonClick),this.checkForEmptyCaption(),this.props.figCaptionElement&&this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0})}componentWillUnmount(){if(cancelAnimationFrame(this.onScrollAnimFrame),$u.delete(this),this.observer.disconnect(),ye.globalDragEventController.off("dragend",this.updatePosition),ye.globalDragEventController.off("drop",this.updatePosition),this.state.UIWindow)if(this.props.baseNode.__willBeReplacedWith){let e=[...this.state.UIWindow.state.selectedMediaItems],i=e.indexOf(this.props.baseNode);i>-1&&(e[i]=this.props.baseNode.__willBeReplacedWith);let r=this.state.UIWindow.state.clickedMediaItem;this.props.baseNode==r&&(r=this.props.baseNode.__willBeReplacedWith),this.state.UIWindow.setState({selectedMediaItems:e,clickedMediaItem:r},()=>{this.state.UIWindow?.getSettingsFromNodes()})}else this.state.UIWindow?.onMutate();delete this.props.baseNode._editorInterface,He.removePortal(this.props.baseNode,this.renderElement),this.props.baseNode.removeEventListener("contextmenu",this.onOptionsButtonClick)}updatePosition=()=>{(this.state.pointerAttention||this.state.pointerProxyAttention||this.state.selected)&&this.onScroll()};onScroll=e=>{this.ticking||(this.ticking=!0,this.onScrollAnimFrame=requestAnimationFrame(()=>{let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(r),He.testHover(),this.setEditorFrame(),this.ticking=!1}))};checkZoomable(e=this.props){let i=this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.props.zoomTemporarilyDisabled,r=e["force-quick-view"]||e.imageSettings.image_zoom&&!e["disable-zoom"]&&!e.href&&!e.zoomTemporarilyDisabled;(i!=r||i&&!this.props.baseNode.classList.contains("zoomable")||!i&&this.props.baseNode.classList.contains("zoomable"))&&CargoEditor?.mutationManager?.execute?.(()=>{i?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")},{preventDraft:!0})}checkHref(e=this.props){let i=this.props.href!==void 0&&this.props.href!==null,r=e.href!==void 0&&e.href!==null;(i!=r||i&&!this.props.baseNode.classList.contains("linked")||!i&&this.props.baseNode.classList.contains("linked"))&&CargoEditor?.mutationManager?.execute?.(()=>{i&&this.props.baseNode.classList.add("linked"),this.props.baseNode.classList.remove("linked")},{preventDraft:!0})}componentDidUpdate(e,i){this.checkZoomable(e),this.checkHref(e),this.props.figCaptionElement!==e.figCaptionElement&&(this.observer.disconnect(),this.props.figCaptionElement&&(this.checkForEmptyCaption(),this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0}))),(!this.props.height||!this.props.width)&&(!this.props.model?.width||!this.props.model?.height)&&this.props.nativeMediaDimensions.width&&this.props.nativeMediaDimensions.height&&(this.props.nativeMediaDimensions.width!==e.nativeMediaDimensions.width||this.props.nativeMediaDimensions.height!==e.nativeMediaDimensions.height||this.props.height!==e.height||this.props.width!==e.width)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("width",this.props.nativeMediaDimensions.width),this.props.baseNode.setAttribute("height",this.props.nativeMediaDimensions.height)},{preventDraft:!0}),(this.props.src!==e.src||this.props.hash!==e.hash)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.removeAttribute("width"),this.props.baseNode.removeAttribute("height"),this.props.baseNode.removeAttribute("poster")},{preventDraft:!0}),(this.state.UIWindow!==i.UIWindow||this.state.pointerAttention!==i.pointerAttention||this.state.pointerProxyAttention!==i.pointerProxyAttention||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.state.UIWindow||this.state.pointerProxyAttention||this.state.pointerAttention)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)),(this.props.size.mediaSize.width!==e.size.mediaSize.width||this.props.size.mediaSize.height!==e.size.mediaSize.height||this.props.size.mediaItemSize.width!==e.size.mediaItemSize.width||this.props.size.mediaItemSize.height!==e.size.mediaItemSize.height||this.props.size.mediaSize.padSize!==e.size.mediaSize.padSize||this.props.size.mediaItemSize.padSize!==e.size.mediaItemSize.padSize||this.props.rotation!==e.rotation)&&(this.state.pointerAttention||this.state.pointerProxyAttention)&&(this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),He.testHover(),this.setEditorFrame())}pointerIn=()=>{let e=this.props.baseNode?.parentNode?._mediaItemEditorInfo||{},i=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"?this.props.baseNode.parentElement:null;if(i&&!i.thumbnailsVisible&&!this.props.baseNode.assignedSlot?.parentElement?.hasAttribute?.("data-active-slide")){this.pointerOut();return}this.setState({mediaItemEditorInfo:e}),this.state.selected&&$u.forEach(r=>{r.state.showMultipleSelectionButton&&r.setState({pointerProxyAttention:!0})}),this.setState({pointerAttention:!0},()=>{this.setEditorFrame()})};pointerOut=()=>{this.state.selected&&$u.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onResizePointerDown=e=>{if(e.button==2)return;let i=this.props.mediaElement,r=this.mediaGhostRef.current;if(!i||!r||this.props.size.width?.indexOf?.("%")>-1)return;for(;r.lastChild;)r.lastChild.remove();if(i.tagName=="IMG"){let o=i.cloneNode(!0);o.setAttribute("decoding","sync"),r.appendChild(o)}else if(i.tagName==="VIDEO"&&i.hasAttribute("poster")){let o=document.createElement("img");o.setAttribute("decoding","sync"),o.setAttribute("src",i.getAttribute("poster")),r.appendChild(o)}else i.classList.contains("placeholder")?r.appendChild(i.cloneNode(!0)):r.appendChild(document.createElement("div"));let n=window.getComputedStyle(i);r.firstChild.style.border=n.getPropertyValue("border"),r.firstChild.style.borderRadius=n.getPropertyValue("border-radius"),r.firstChild.style.padding=n.getPropertyValue("padding"),r.firstChild.style.outline=n.getPropertyValue("outline"),this.startDrag(e)};startDrag=e=>{let{handlePos:i,mediaCornerPositions:r,cursorOrientation:n}=this.state,{baseNode:o,rotation:a,limitBy:l,size:c}=this.props,d=this.props.baseNode.closest("bodycopy, column-unit, gallery-freeform"),m=0;if(d){let C=window.getComputedStyle(d);m=d.offsetWidth+-parseFloat(C.getPropertyValue("padding-left"))+-parseFloat(C.getPropertyValue("padding-right"))}else m=window.innerWidth;m=m+-c.mediaSize.padSize+-c.mediaItemSize.padSize;let f={x:e.clientX,y:e.clientY};e.preventDefault();let v=this.props.scale??100,b=Qt(v,l==="width"?"%":"rem");l!=="width"&&l!=="height"&&(b[1]=""),b[0]=parseFloat(b[0]),(b[0]===""||b[1].indexOf("calc(")>-1||b[1].indexOf("var(")>-1)&&(l==="width"?(b[0]=c.mediaSize.width/m*100,b[1]="%"):(b[0]=c.mediaSize.height/window.innerHeight*100,b[1]="vh"));let _=Math.min(b[0].toString().indexOf(".")>-1?b[0].toString().split(".").pop().length:0,3);b[0]=parseFloat(parseFloat(b[0]).toFixed(_));let E={width:c.mediaSize.width,height:c.mediaSize.height,atLimit:Math.abs(c.mediaSize.width-m)<2,scaleArray:b,scale:v,overSize:1,displayScale:null};this.state.mediaItemEditorInfo.beforeScaleChange&&(E=this.state.mediaItemEditorInfo.beforeScaleChange(this.props.baseNode,E)),this.setState({dragStartPosition:f,scalingLimit:m,dragDelta:{x:0,y:0},resizeDimensions:E,initialDimensions:{...E,scaleArray:[...E.scaleArray]},isResizing:!0},()=>{He.lock(),document.body.style.setProperty("cursor",n,"important"),document.body.classList.add("dragging-figure-in-editor"),ye.adminWindow.addEventListener("mouseup",this.onPointerUp),ye.adminWindow.addEventListener("pointermove",this.onDrag),window.addEventListener("pointermove",this.onDrag),window.addEventListener("mouseup",this.onPointerUp)})};onDrag=e=>{e.preventDefault();let{dragStartPosition:i,mediaCornerPositions:r,scalingLimit:n,resizeCorner:o,handlePos:a,handleTrack:l,initialDimensions:c}=this.state,{rotation:d,limitBy:m,baseNode:f,size:v}=this.props,{resizeDimensions:b}=this.state,{scale:_,scaleArray:E}=c,C={x:e.clientX-i.x,y:e.clientY+-i.y},I=d*(Math.PI/180)||0,N=r[o],D=r[(o+1)%4],F=r[(o+2)%4],z=r[(o+3)%4],G=this.getDistance(z,a),Y=this.getDistance(F,a),L=parseInt(v.width),Z=parseInt(v.height),$=45,j=this.getAngle(z,N),ie=this.getAngle(N,D),H={x:a.x+C.x,y:a.y+C.y},ae=[{x:a.x+Math.cos(ie)*10,y:l.y+l.h+-$+Math.sin(ie+Math.PI)*10},{x:a.x,y:l.y+l.h+-$}],ee=[{x:a.x+Math.cos(j)*10,y:l.y+l.h+-$+Math.sin(j+Math.PI)*10},{x:a.x,y:l.y+l.h+-$}],J=0,le=0,K=0,U,W;if(o%2==0){let Le=this.getIntersection(ae,[D,F]),ze=this.getIntersection(ee,[F,z]),rt=this.getDistance(F,a),Ue=this.getDistance(F,H),ot=this.getAngle(F,H),Ie=this.getDistance(F,a);K=Ue/Ie;let at=this.getDistance(F,Le);le=Ue/at;let lt=Math.abs(Math.sin(ot+I));le*=lt;let ht=this.getDistance(ze,F);J=Ue/ht;let Be=Math.cos(ot+I);J*=Be}else{let Le=this.getIntersection(ae,[z,N]),ze=this.getIntersection(ee,[N,D]),rt=this.getDistance(F,a),Ue=this.getDistance(F,H),ot=this.getAngle(F,H),Ie=this.getDistance(F,a);K=Ue/Ie;let at=this.getDistance(F,Le);le=Ue/at;let lt=Math.abs(Math.sin(ot+I));le*=lt;let ht=this.getDistance(ze,F);J=Ue/ht;let Be=Math.cos(ot+I);J*=Be}let re=Math.max(J,K,le),ce=Math.min(v.mediaSize.width/L,v.mediaSize.height/Z),fe=L/Z;U=L*ce*re,W=Z*ce*re;let be=!1,Te=1;if(U>n){let Le=n/U;be=!0,U=n,W=W*Le}let _e=e.altKey||e.metaKey;m==="width"?([E,U]=this.scaleDimension(E,U+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.width+v.mediaSize.padSize+v.mediaItemSize.padSize,_e),U=U+-v.mediaSize.padSize+-v.mediaItemSize.padSize,W=U/fe):([E,W]=this.scaleDimension(E,W+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.height+v.mediaSize.padSize+v.mediaItemSize.padSize,_e),U=fe*(W+-v.mediaSize.padSize+-v.mediaItemSize.padSize),W=U/fe),E[0]=parseFloat(E[0]),b={scale:E.join(""),scaleArray:E,limitBy:m,width:U,height:W,atLimit:be,overSize:Te,displayScale:null},E[1]=="%"&&m=="width"&&parseFloat(E[0])>=100&&(b.scale="100%",b.scaleArray=[100,"%"]),this.state.mediaItemEditorInfo.whileScaleChange&&(b=this.state.mediaItemEditorInfo.whileScaleChange(this.props.baseNode,{...b})),this.setState({resizeDimensions:b})};scaleDimension=(e,i,r,n)=>{let o=e[0]*(i/r),a=o;n?e[1]=="%"||e[1]=="vh"||e[1]=="vw"||e[1]=="vmax"||e[1]=="vmin"?o=Math.round(o/.5)*.5:o=Math.round(o/10)*10:e[1]=="px"?o=Math.round(o):o=Math.round(o*10)/10,o=Math.max(1,o);let l=o/a||0;return[[o,e[1]],i*l]};onPointerUp=e=>{let{resizeDimensions:i,scalingLimit:r}=this.state;e.preventDefault(),CargoEditor.mutationManager.execute(()=>{this.state.mediaItemEditorInfo.afterScaleChange?this.state.mediaItemEditorInfo.afterScaleChange(this.props.baseNode,i):this.props.baseNode.setAttribute("scale",i.scale),this.props.baseNode.flushMutationQueue()}),He.unlock(),this.setState({isResizing:!1},()=>{document.body.style.cursor="",ye.adminWindow.removeEventListener("mouseup",this.onPointerUp),ye.adminWindow.removeEventListener("pointermove",this.onDrag),document.body.classList.remove("dragging-figure-in-editor"),window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("mouseup",this.onPointerUp)})};setEditorFrame=()=>{let{figureElement:e,mediaElement:i,sizingFrameElement:r,baseNode:n,rotation:o,size:a}=this.props;if(!e||!i||!i.parentElement||a.mediaItemSize.width==0||a.mediaItemSize.height==0||!r||!this.state.pointerAttention&&!this.state.pointerProxyAttention)return;let l=o*(Math.PI/180)||0,c=n.getBoundingClientRect(),d={w:a.mediaItemSize.width*Math.cos(l)-a.mediaItemSize.height*Math.sin(l),h:a.mediaItemSize.width*Math.sin(l)+a.mediaItemSize.height*Math.cos(l)},v={x:c.left+(c.width-d.w)*.5+-0,y:c.top+(c.height-d.h)*.5+-0},b=r.getBoundingClientRect(),_=45,E=45,C=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight,I={x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight};C&&(I.h=this.state.multiSelectHeight);let N=i.offsetLeft,D=i.offsetTop,F=i;for(;F&&F.parentNode&&F.parentNode!==n.shadowRoot&&F.parentNode!==e&&F.parentNode!==n;)N=N+F.offsetLeft,D=D+F.offsetTop,F=F.offsetParent;let z={x:N||0,y:D||0},G=[{x:z.x,y:z.y},{x:z.x+a.mediaSize.width+a.mediaSize.padSize,y:z.y},{x:z.x+a.mediaSize.width+a.mediaSize.padSize,y:z.y+a.mediaSize.height+a.mediaSize.padSize},{x:z.x,y:z.y+a.mediaSize.height+a.mediaSize.padSize}],Y=[];if(C)Y=G,Y[2].y=z.y+this.state.multiSelectHeight,Y[3].y=z.y+this.state.multiSelectHeight;else{let Ie={x:I.w*.5,y:I.h*.5};Y=G.map(at=>{let lt={x:at.x-Ie.x,y:at.y-Ie.y},ht={x:lt.x*Math.cos(l)-lt.y*Math.sin(l),y:lt.x*Math.sin(l)+lt.y*Math.cos(l)};return{x:ht.x+Ie.x,y:ht.y+Ie.y}})}if(sa.default.isEqual(Y))return;let L,Z,$,j;L=sa.default.minBy(Y,Ie=>Ie.y);let ie=Y.indexOf(L);Z=Y[(ie+1)%4],$=Y[(ie+2)%4],j=Y[(ie+3)%4];let H={x:0,y:0,w:_,h:E},ae={x:0,y:0},ee={x:L.x,y:L.y},J={w:Z.x-j.x,h:$.y-L.y,x:j.x,y:L.y},le=[{x:J.x+J.w*.5,y:J.y+J.h*.5},{x:J.x+J.w,y:J.y+J.h}],K=this.getIntersection(le,[Z,$]),U=this.getIntersection(le,[j,$]),W=!1,re=sa.default.minBy([U,K],Ie=>Ie.y<le[0].y?9e9:Ie.y);if(re==U)H.x=$.x,H.y=$.y;else{let Ie=this.getDistance(Z,re);this.getDistance($,re)<Ie?(H.x=$.x,H.y=$.y):(H.x=Z.x,H.y=Z.y,W=!0)}let ce,fe=0,be=0;if(W){let Ie=this.getAngle(Z,L),at=Math.PI-(Math.abs(Ie)+Math.PI*.5),lt=E*Math.cos(at),ht=-Math.cos(at+Math.PI*.5)*lt,Be=-Math.sin(at+Math.PI*.5)*lt;ee={x:j.x+-ht,y:j.y+-Be+E},H.x=H.x+ht+-_,ce=H.y+Be+E;let ft=[{x:L.x-_,y:ce},{x:L.x-_,y:ce-10}],Lt=[{x:L.x,y:ce},{x:L.x,y:ce-10}],_t=[this.getIntersection(ft,[j,L]),this.getIntersection(ft,[L,Z]),this.getIntersection(Lt,[j,L]),this.getIntersection(Lt,[L,Z])],Wt=sa.default.maxBy(_t,ri=>ri.y);H.y=Wt.y,H.h=ce-H.y;let nt=Math.max(0,b.bottom+(E+Be)+-Ye.data.window.h+-($.y-Z.y));be=H.h-E+-nt,fe=this.getIntersection([{x:H.x,y:H.y+be},{x:H.x-10,y:H.y+be}],[L,Z]).x-H.x+-_}else{let Ie=this.getAngle($,Z),at=Math.PI-(Math.abs(Ie)+Math.PI*.5),lt=_*Math.cos(at),ht=-Math.cos(at)*lt,Be=-Math.sin(at)*lt;if(ce=H.y+Be,H.x=H.x+ht,H.y=Z.y,H.h=ce-Z.y,ee={x:L.x+-ht+-_,y:L.y+-Be},Math.abs(this.getSlope(Z,$))>1&&b.bottom+Be>=Ye.data.window.h){let Lt=b.bottom+-Ye.data.window.h,_t={x:$.x,y:$.y-Lt},Wt=this.getIntersection([_t,{x:_t.x+10,y:_t.y}],[$,Z]);fe=Wt.x-(H.x+H.w),be=Wt.y-H.y+-E}else{let Lt=[{x:H.x,y:ce},{x:H.x,y:ce-10}],_t=[{x:H.x+H.w,y:ce},{x:H.x+H.w,y:ce-10}],Wt=[this.getIntersection(Lt,[j,L]),this.getIntersection(Lt,[L,Z]),this.getIntersection(_t,[j,L]),this.getIntersection(_t,[L,Z])],nt=sa.default.maxBy(Wt,ri=>ri.y);H.y=nt.y,H.h=ce-H.y;let Ki=Math.max(0,b.bottom+-Ye.data.window.h+Be);be=H.h-E+-Ki,fe=0}}ae.x=H.x+fe,ae.y=Math.max(H.y,H.y+be);let Te=Math.max(0,b.left+b.width+-Ye.data.window.w);ae.x=Math.min(ae.x,Z.x-(Te+_));let _e=Math.min(0,b.left),Le=Math.min(0,b.top);ee.x=Math.max(ee.x,-_e+j.x),ee.y=Math.max(ee.y,-Le+L.y);let ze=this.getIntersection([ee,{x:ee.x,y:ee.y+10}],[j,$]);ee.y=Math.min(ee.y,ze.y+-E);let rt=(ie+2)%4;W&&(rt=(rt+3)%4);let Ue="nwse-resize",ot=this.getAngle(ae,Y[(rt+2)%4]);Math.abs(Math.PI*.5-ot)<.4?Ue="ns-resize":Math.abs(Math.PI-Math.abs(ot))<.4&&(Ue="ew-resize"),this.setState({mediaCornerPositions:Y,resizeCorner:rt,contextPos:ee,handlePos:ae,cursorOrientation:Ue,handleTrack:H,overlayPosition:v,editorMediaFramePosition:{x:z.x,y:z.y},editorFramePosition:{x:0,y:0}})};getAngle=(e,i)=>Math.atan2(-(i.y-e.y),i.x-e.x);getDistance=(e,i)=>Math.sqrt(Math.pow(i.y-e.y,2)+Math.pow(i.x-e.x,2));getSlope=(e,i)=>(i.y-e.y)/(i.x-e.x);getIntersection=(e,i)=>{let r=this.getSlope(...e),n=this.getSlope(...i),o,a;return r==0?(isFinite(n)?o=(n*i[0].x-(i[0].y-e[0].y))/n:o=i[0].x,a=e[0].y):isFinite(r)?(o=(n*i[0].x-r*e[0].x-(i[0].y-e[0].y))/(n-r),a=r*(o-e[0].x)+e[0].y):(o=e[0].x,a=n*(o-i[0].x)+i[0].y),isFinite(o)||(o=null),isFinite(a)||(a=null),{x:o,y:a}}},iH=cS});function jae(t){return It({updateFrontendState:actions.updateFrontendState},t)}var nH,fp,Cg,Gae,Kae,oH=M(()=>{Ee();qe();di();pt();nH=pe(we(),1);Ne();Ui();ki();up();_i();oS();Q5();tH();Wi();rH();il();oe();Ee();ne||(fp=new ResizeObserver(function(t){t.forEach(function(e){if(e.contentRect.width==0&&e.contentRect.height==0&e.contentRect.top==0&&e.contentRect.left==0)return;let i=0,r=0,n=0,o=0,a=0,l=0,c=0,d=0,m=0,f=0,v=e.target.tagName==="DIV";if(e.contentBoxSize&&e.borderBoxSize&&!v)e.borderBoxSize.length?(i=e.borderBoxSize[0].blockSize-e.contentBoxSize[0].blockSize,r=e.borderBoxSize[0].inlineSize-e.contentBoxSize[0].inlineSize):(i=e.borderBoxSize.blockSize-e.contentBoxSize.blockSize,r=e.borderBoxSize.inlineSize-e.contentBoxSize.inlineSize);else{let b=window.getComputedStyle(e.target);n=parseFloat(b.getPropertyValue("padding-left"))||0,o=parseFloat(b.getPropertyValue("padding-right"))||0,a=parseFloat(b.getPropertyValue("border-right-width"))||0,l=parseFloat(b.getPropertyValue("border-left-width"))||0,c=parseFloat(b.getPropertyValue("padding-top"))||0,d=parseFloat(b.getPropertyValue("padding-bottom"))||0,m=parseFloat(b.getPropertyValue("border-bottom-width"))||0,f=parseFloat(b.getPropertyValue("border-top-width"))||0,i=c+d+f+m,r=n+o+a+l}bt(e.target,"elementResize",{padSize:r,vertPadSize:i,horizPadSize:r,width:e.contentRect.width,height:e.contentRect.height,leftPad:n,rightPad:o,leftBorder:a,rightBorder:l,topPad:c,bottomPad:d,bottomBorder:m,topBorder:f},{bubbles:!1})})}));Cg=class extends Ii{constructor(e){super(e),this.state={zoomTemporarilyDisabled:!1,scrollTransitionDisabled:!1,slottedMediaNode:null,nativeMediaDimensions:{width:null,height:null},dimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0},mediaDimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0,leftPad:0,rightPad:0,leftBorder:0,rightBorder:0,topPad:0,bottomPad:0,bottomBorder:0,topBorder:0},isVisible:!1,viewportIntersection:{hasLayout:!1,visible:!1,position:"unknown"},isLazyLoadable:!1,loaded:!1},this.uid=nH.default.uniqueId(),this.figureRef=me(),this.mediaRef=me(),this.lastMediaRef=me(),this.figCaptionRef=me(),this.sizingFrameRef=me(),Object.defineProperty(this.props.baseNode,"_size",{get:()=>({width:this.props.width??this.props.model?.width??this.state.nativeMediaDimensions.width??1600,height:this.props.height??this.props.model?.height??this.state.nativeMediaDimensions.height??1e3,mediaItemSize:this.state.dimensions,mediaSize:this.state.mediaDimensions}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_nativeMediaDimensions",{get:()=>({width:this.state.nativeMediaDimensions.width??1600,height:this.state.nativeMediaDimensions.height??1600}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_model",{get:()=>this.props.model||null,configurable:!0});let i=this.props.baseNode.onload;Object.defineProperty(this.props.baseNode,"onload",{get:()=>this.onloadCallback,set:n=>{this.onloadCallback=n,this.state.loaded&&n&&this.onLoad()},configurable:!0}),this.props.baseNode.onload=i;let r=this.props.baseNode.onerror;Object.defineProperty(this.props.baseNode,"onerror",{get:()=>this.onErrorCallback,set:n=>{this.onErrorCallback=n},configurable:!0}),this.props.baseNode.onerror=r,this.props.baseNode._setZoomStatus=n=>{this.setState(o=>o.zoomTemporarilyDisabled===n?null:{zoomTemporarilyDisabled:n})},this.props.baseNode._setScrollTransitionStatus=n=>{this.setState(o=>o.scrollTransitionDisabled===n?null:{scrollTransitionDisabled:n})},this.props.baseNode._forceRedraw=n=>{this.setState({forceRedraw:Math.random()})},this.props.baseNode.getFileType=this.getFileType}handleClick=e=>{if(e?.defaultPrevented)return;let i=e.composedPath();if(i.find(d=>d.tagName==="A"))return;let n=this.props.baseNode.shadowRoot.querySelector("a.sizing-frame"),o=!1,a=window.getSelection();if(a&&a.rangeCount>0&&!this.props.adminMode){let d=a.getRangeAt(0);d&&d.commonAncestorContainer&&!d.collapsed&&this.props.baseNode.contains(d.commonAncestorContainer)&&(o=!0)}if(n&&!o&&!this.props.adminMode){n.click();return}let l=this.getFileType(),c=this.isZoomable();if((l==="video"||l.startsWith("vimeo")||l.startsWith("youtube"))&&(!this.props.adminMode&&e.detail==1||e.detail==2)&&!this.props.autoplay&&!c){if(i.some(d=>d.nodeName=="VIDEO"||d.nodeName==="IFRAME")&&this.props["browser-default"])return;e.preventDefault(),this.props.baseNode.playing?this.props.baseNode.pause():this.props.baseNode.play();return}!c||o||!i.find(d=>d&&d.classList?.contains("sizing-frame"))||this.props.adminMode||(e.preventDefault(),Kx(this.props.baseNode))};isZoomable=()=>this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.state.zoomTemporarilyDisabled;getFileType=()=>{let{model:e,src:i,"dynamic-src":r}=this.props;if(i=r||i,this.props["dynamic-filetype"]!==void 0&&this.props["dynamic-filetype"]!==null)return this.props["dynamic-filetype"];let n="none";if(e)e.is_image?n="image":e.is_video?n="video":e.is_url&&(n="url",e.url_type&&!e.url_id?n=e.url_type:e.url_id&&e.url_type&&(n=e.url_type+":"+e.url_id));else if(i){let m=i.toLowerCase();if(m.endsWith(".mov")||m.endsWith(".mp4")||m.endsWith(".webm"))n="video";else if(m.endsWith(".png")||m.endsWith(".webp")||m.endsWith(".jpg")||m.endsWith(".jpeg")||m.endsWith(".gif")||m.endsWith(".avif")||m.endsWith(".apng")||m.endsWith(".svg"))n="image";else{n="url";var o="",a=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,d=i.match(a);if(d&&d[0]){let f=d[0].split(/\/|\?h=|&|\?/);for(var l=0;l<f.length;l++)!f[l].includes(":")&&!f[l].includes(".")&&!f[l].includes("vimeo")&&!f[l].includes("=")&&!f[l].includes("video")&&!f[l].includes("showcase")&&!f[l].includes("player")&&f[l].length>3&&(o.length==0?o=f[l]:o+="/"+f[l]);n="vimeo:"+o}var c=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,d=i.match(c);d&&d[7].length==11&&(o=d[7],n="youtube:"+o)}}return n};onCaptionClick=e=>{this.props.adminMode||e.target.closest("a")&&e.stopPropagation()};render(e,i,r){let{dimensions:n,mediaDimensions:o,viewportIntersection:a,loading:l,nativeMediaDimensions:c,scrollTransitionDisabled:d}=i,{rotation:m,drag:f,"force-visible":v,"dynamic-src":b,adminMode:_,imageSettings:E,pageInfo:C,width:I,height:N,baseNode:D,model:F,posterModel:z,href:G,src:Y,hash:L,isMobile:Z}=e,$=v??this.state.isVisible,j=v??this.state.isLazyLoadable,{uid:ie}=this,H=this.props.scale!==void 0?this.props.scale:Z&&E.mobile_image_width_maximize?"100%":E.scale,ae=this.props["limit-by"]!==void 0?this.props["limit-by"]:Z&&E.mobile_image_width_maximize?"width":E.limit_by;Y=b||Y;let ee=I??F?.width??c.width??1600,J=N??F?.height??c.height??1e3,le=Qt(H,ae=="height"?"rem":"%"),K=J/ee,W=o.width*K,re=o.horizPadSize+n.horizPadSize,ce=o.vertPadSize+n.vertPadSize,fe=o.width+o.horizPadSize,Te=(W+o.vertPadSize)/fe,_e=le.join(""),Le,ze=null;isNaN(Te)&&(Te=J/ee);let rt=ee.toString().trim().endsWith("%"),Ue=J.toString().trim().endsWith("%"),ot=Qt(ee,"%"),Ie=Qt(J,"%");if(rt&&Ue)ae==="width"||ae=="height"?(_e=`calc(${ot[0]*.01} * var(--resize-parent-width, 100%) )`,ze=`calc( var(--fit-height) * ${Ie[0]*.01} )`,Le="var(--custom-fit-height)"):(_e=`calc(${ot[0]*le[0]*1e-4} * var(--resize-parent-width, 100%) )`,ze=`calc( var(--fit-height) * ${Ie[0]*le[0]*1e-4} )`,Le="var(--custom-fit-height)");else if(ae=="height")if(Ue)ze=`calc( var(--fit-height) * ${Ie[0]*.01} )`,Le="var(--custom-fit-height)",_e=`${ot[0]*.01}px`;else{let nt="";le[1]=="%"?nt=`( ${le[0]*.01} * var(--resize-parent-width, 100%) )`:le[1].indexOf("calc(")>-1?(le[1]=le[1].replace(/[\d*\.]+%/g,function(Ki){return`( ${Qt(Ki,"%")[0]*.01} * var(--resize-parent-width, 100%) )`}),nt=le[1].replace("calc(","(")):nt=le.join(""),rt?(_e=`calc( ${ot[0]*.01} * var(--resize-parent-width, 100%) )`,Le=`calc( ${nt} )`):(_e=`calc( ( ${nt} - ${ce}px ) * ( 1 / ${K} ) + ${re}px )`,Le=Te*100+"%")}else ae==="width"?rt?(_e=`calc( ${ot[0]*.01} * var(--resize-parent-width, 100%) )`,Le=`${Ie[0]}px`):(le[1]=="%"?_e=`calc(${le[0]*.01} * var(--resize-parent-width, 100%) )`:(le[1].indexOf("calc(")>-1&&(le[1]=le[1].replace(/[\d*\.]+%/g,function(nt){return`( ${Qt(nt,"%")[0]*.01} * var(--resize-parent-width, 100%) )`})),_e=le.join("")),Ue?(ze=`calc( var(--fit-height) * ${Ie[0]*.01} )`,Le="var(--custom-fit-height)"):Le=Te*100+"%"):rt?(_e=`calc(${ot[0]*le[0]*1e-4} * var(--resize-parent-width, 100%) )`,ze=`calc( min( var(--fit-height) * ${le[0]*.01} , ${Ie[0]*le[0]*.01}px ) )`,Le="var(--custom-fit-height)"):Ue?(_e=`calc( min( ${le[0]*.01} * var(--resize-parent-width, 100%) , ${ot[0]*le[0]*.01}px ) )`,ze=`calc(  var(--fit-height) * ${le[0]*Ie[0]*1e-4}  )`,Le="var(--custom-fit-height)"):(_e=`calc( ( ( var(--fit-height, 50vh) * ${le[0]/100} ) - ${re}px ) * ( 1 / ${K} ) + ${re}px )`,Le=Te*100+"%");let at=E?.scroll_animation&&e["disable-scroll-animation"]!==!0&&!d&&this.props.scrollContext.scrollUid!=="default",lt=this.props.uses||"";lt.indexOf("scroll-transition")===-1&&at&&(lt=lt+" scroll-transition");let ht=null,Be=this.getFileType()||"",ft=this.isZoomable(),Lt=e.autoplay&&e.muted;switch(!0){case(!Lt&&ft&&Be.startsWith("youtube")&&z&&!e["browser-default"]):case(!Lt&&ft&&Be.startsWith("vimeo")&&z&&!e["browser-default"]):case(!Lt&&ft&&Be==="video"&&z&&!e["browser-default"]):case(ft&&Be==="url"&&z):ht=g(dp,{...e,model:z,isZoomable:ft,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:j,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Be=="video":case Be.startsWith("vimeo:"):case Be.startsWith("youtube:"):ht=g(J5,{...e,baseNode:this.props.baseNode,isZoomable:ft,ref:this.mediaRef,onLoad:this.onLoad,visible:$,fileType:Be,isLazyLoadable:j,renderWidth:n.width,renderHeight:n.height,src:Y});break;case Be=="image":ht=g(dp,{...e,isZoomable:ft,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:j,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Be=="url":ht=g(eH,{...e,loaded:this.state.loaded,onLoad:this.onLoad,ref:this.mediaRef,isLazyLoadable:j,src:Y});break;default:ht=g("div",{ref:this.mediaRef,className:"placeholder",part:"media placeholder",width:"1600",height:"1000",draggable:"true",children:g("svg",{preserveAspectRatio:"none",part:"placeholder-svg",viewBox:"0 0 1600 1600",style:{display:"block",width:"100%",height:"100%"},children:[g("rect",{part:"placeholder-rect"}),g("line",{part:"placeholder-line","vector-effect":"non-scaling-stroke",x1:"0",y1:"0",x2:"1600",y2:"1600",stroke:"rgb(200,200,200)","stroke-width":"1"})]})});break}let _t=g("slot",{onSlotChange:this.onMediaSlotChange,name:"custom-media",children:ht},"media-slot-key"),Wt=g(te,{children:[g("style",{id:"media-item",children:`
:host {
	 ${this.state.forceRedraw?`/* ${this.state.forceRedraw} */`:""}
	${!_&&G&&G!==""?"cursor: pointer;":""}
	display: inline-flex;
	vertical-align: bottom;
	flex-direction: column; 
	position: relative;

	width: var(--resize-parent-width, 100%);
	max-width: ${_e||"100%"};
	${ze?`--custom-fit-height: ${ze};`:""}
	transform-origin: center center;
	margin: 0;
	padding: 0;
	z-index: var(--z-index, initial);    
}
 :host, * {
	box-sizing: border-box;
}
a {
	cursor: inherit;
}

${!_&&ft?`[part*="media"]:active {
    opacity: 0.7;
}`:""}

${!_&&G?`:host(:active) {
    opacity: 0.7;
}`:""}

figure {
	flex-direction: column;
	position: relative;
	display: flex;
	width: 100%;
	margin: 0;
	padding: 0;
	z-index: 2;
}

::slotted(figcaption){
	-webkit-user-select: text;	
	user-select: text;
	width: 100%;
}

:host([image-fit="fit"]) {
	--object-fit: contain;
}
:host([image-fit="fill"]) {
	--object-fit: cover;
}
:host([image-fit="stretch"]) {
	--object-fit: fill;
}

[part*="media"],
[part*="video"],
[part*="poster"] {
	object-fit: var(--object-fit, cover);
}

[part*="media"]:-webkit-full-screen,
[part*="media"]:fullscreen,
[part*="video"]:-webkit-full-screen,
[part*="video"]:fullscreen {
	object-fit: contain!important;
}


.sizing-frame {
	display: block;
	width: 100%;
	flex-grow: 1;
	height: 0;
	padding-bottom: var(--frame-padding, ${Le});
	position: relative;
}

.frame {
	display:contents;
}

/* for images and custom media */
::slotted([slot="custom-media"]),
[part*="media"] {
	object-position: center center;
	display: block;
	margin: 0;
	width: 100%;
	min-width: 100%;
	min-height: 100%;
	height: 100%;
	position: absolute;
	overflow: clip;
	overflow-clip-margin: content-box;
	inset: 0;
}

/*
	for URL fileType and default setup for iframe-videos
*/
iframe {
	opacity: 0;
	pointer-events: ${!_&&!this.props.href&&!ft?"auto":"none"};
}

iframe.loaded {
	opacity: 1;
}

/* enable proper padding cropping for videos, in most scenarios */
.video-player-crop {
	all: inherit;
	filter: unset;
	will-change: unset;
	width: unset;
	height: unset;
	padding: 0;
	border-left-width: ${o.leftPad+o.leftBorder}px;
	border-right-width: ${o.rightPad+o.rightBorder}px;
	border-top-width: ${o.topPad+o.topBorder}px;
	border-bottom-width: ${o.bottomPad+o.bottomBorder}px;
	top: ${-o.topBorder}px;
	left: ${-o.leftBorder}px;
	right: ${-o.rightBorder}px;
	bottom: ${-o.bottomBorder}px;

	min-width: unset;
	min-height: unset;

	margin: auto;
	border-color: transparent;
	background: transparent;
}

/* for video filetype */
[part*="video"], [part*="poster"] {
	object-position: 50% 50%;	
	display: block;
	margin: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	inset: 0;
}

[part*="video"] iframe[part*="iframe"] {
	opacity: 1;
}

[part*="poster"] {
	object-fit: cover;
	z-index: 2;
	opacity: 0;
}
${e["browser-default"]?`[part*="poster-playing"],
[part*="poster-paused"]{
	pointer-events:none;
}
`:""}	
[part*="poster-stopped"]{
	opacity: 1;
}
${l?`[part*="media"] {
	opacity: 0;
}`:""}

${_?`
::slotted(video[slot="custom-media"]),
::slotted(iframe[slot="custom-media"]){
	pointer-events:none;
}

[part*="media"] iframe {
	pointer-events:none!important;
}

`:`
[part*="media"].image-zoom {
	cursor: -webkit-zoom-in;
	cursor: -moz-zoom-in;
	cursor: zoom-in;
}	
`}

${C.isEditing?`
:host, * {
	-webkit-user-select: text;
	user-select: text;	
}
`:""}

				`}),g(Tn,{scrollContext:this.props.scrollContext,uses:lt,visibility:a,onLazyLoadChange:this.onlazyLoadChange,adminMode:_,customElementMode:!0,baseNode:D,children:g("figure",{draggable:this.props.adminMode?"true":null,part:"figure",ref:this.figureRef,children:[g("div",{part:"frame",className:"frame",children:this.props.href!==void 0?g("a",{ref:this.sizingFrameRef,className:"sizing-frame",part:"link sizing-frame",href:this.props.href,rel:this.props.rel,target:this.props.target,"data-tags":this.props["data-tags"],children:_t}):g("div",{ref:this.sizingFrameRef,className:"sizing-frame",part:"sizing-frame",children:_t})}),g("slot",{name:"caption"})]})},"media-host"),C.isEditing&&_&&Tt(iH,{...this.props,zoomTemporarilyDisabled:this.state.zoomTemporarilyDisabled,fileType:Be,limitBy:ae,width:I,height:N,rotation:m||0,scale:H,scrollContext:this.props.scrollContext,key:`media-item-editor-${this.uid}`,baseNode:D,nativeMediaDimensions:this.state.nativeMediaDimensions,figCaptionElement:this.figCaptionRef.current,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid})]},"media-item-fragment");return Ge(Wt,D.shadowRoot)}onViewportIntersectionChange=e=>{this.state.viewportIntersection?.position!==e.position?this.setState({isVisible:e.position==="inside",viewportIntersection:e}):(this.state.viewportIntersection.hasLayout!==e.hasLayout||this.state.viewportIntersection.visibility!==e.visibility)&&this.setState({viewportIntersection:e})};onLazyloadIntersectionChange=e=>{let i=e.position==="inside";this.state.isLazyLoadable!==i&&this.setState({isLazyLoadable:i})};onMediaSlotChange=e=>{let i=e.target.assignedNodes();i[0]?(this.setState({nativeMediaDimensions:{width:parseFloat(i[0].getAttribute("width"))||null,height:parseFloat(i[0].getAttribute("height"))||null},slottedMediaNode:i[0]}),this.mediaRef.current=i[0]):this.setState({nativeMediaDimensions:{width:null,height:null},slottedMediaNode:null})};bindMediaListeners=e=>{if(!e)return;let i=parseFloat(e.getAttribute("width"))||null,r=parseFloat(e.getAttribute("height"))||null;i&&r&&this.state.nativeMediaDimensions.width!==i&&this.state.nativeMediaDimensions.height!==r&&this.setState({nativeMediaDimensions:{width:i,height:r}}),Ct(e,"elementResize",this.onMediaResize),fp.observe(e)};unbindMediaListeners=e=>{e&&(this.setState({nativeMediaDimensions:{width:null,height:null}}),At(e,"elementResize",this.onMediaResize),fp.unobserve(e))};componentDidMount(){if(ne)return;this.props.adminMode||(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable"),this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked"));let e=this.props["dynamic-src"]||this.props.modelSrc||this.props.src;this.props.hash==="placeholder"&&!e&&!this.props.baseNode.hasAttribute("hash")&&this.onLoad(),Ct(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Ct(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Ct(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.addEventListener("click",this.handleClick),this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current,fp.observe(this.props.baseNode)}componentWillUnmount(){ne||(cancelAnimationFrame(this.itemResizeAfterModelChange),At(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),At(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),At(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("click",this.handleClick),fp.unobserve(this.props.baseNode),this.unbindMediaListeners(this.mediaRef.current))}componentDidUpdate(e,i){(this.props.hash!==e.hash||this.props.src!==e.src)&&this.setState({nativeMediaDimensions:{width:null,height:null}});let r=this.getFileType();(r.startsWith("vimeo")||r.startsWith("youtube"))&&(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&this.setState({loaded:!1}),(this.props.imageSettings.image_zoom!==e.imageSettings.image_zoom||this.props["disable-zoom"]!==e["disable-zoom"]||this.state.zoomTemporarilyDisabled!==i.zoomTemporarilyDisabled)&&(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")),this.props.href!==e.href&&(this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked")),this.props.itemLoad!==e.itemLoad&&this.props.itemLoad&&this.state.loaded&&this.onLoad(),this.props.itemResize&&!(this.props.baseNode.slot&&!this.props.baseNode.assignedSlot)&&(this.props.model&&e.model&&e.model.hash!==this.props.model.hash||this.props.width!==e.width||this.props.height!==e.height||this.state.nativeMediaDimensions.width!==i.nativeMediaDimensions.width||this.state.nativeMediaDimensions.height!==i.nativeMediaDimensions.height||this.state.dimensions.width!=i.dimensions.width||this.state.dimensions.height!=i.dimensions.height||this.state.dimensions.padSize!=i.dimensions.padSize||this.state.mediaDimensions.padSize!=i.mediaDimensions.padSize)&&this.props.itemResize(this.props.baseNode._size,this.props.baseNode),e.hash!=="placeholder"&&this.props.hash==="placeholder"&&this.onLoad(),this.lastMediaRef.current!==this.mediaRef.current&&(this.unbindMediaListeners(this.lastMediaRef.current),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current)}onResize=e=>{this.setState({dimensions:{...e}})};onMediaResize=e=>{(e.width!==this.state.mediaDimensions.width||e.horizPadSize!==this.state.mediaDimensions.horizPadSize||e.vertPadSize!==this.state.mediaDimensions.vertPadSize||e.height!==this.state.mediaDimensions.height)&&this.setState({mediaDimensions:{...e}})};onDragStart=e=>{typeof this.props.itemDragStart=="function"&&this.props.itemDragStart(e);let i=this.props.baseNode.querySelector("figcaption");this.props.baseNode.contains(e.target)&&(i&&!i.contains(e.target)||!i)&&this.props.adminMode&&this.props.pageInfo.isEditing&&e.dataTransfer.setData("media-drag","true")};onLoad=e=>{this.setState(i=>e&&(e.width!==i.nativeMediaDimensions.width||e.height!==i.nativeMediaDimensions.height)?{nativeMediaDimensions:{...e},loaded:!0}:{loaded:!0},()=>{this.onloadCallback&&this.onloadCallback(this.props.baseNode),this.props.itemLoad&&this.props.itemLoad(this.props.baseNode)})}};Cg.defaultProps={scale:void 0,"limit-by":void 0,"force-quick-view":!1,"disable-zoom":!1,"disable-scroll-animation":!1,width:void 0,height:void 0,hash:"placeholder",src:void 0,rotation:0,model:null,"image-fit":"fill","play-on":"click",autoplay:!1,muted:!1,loop:!1,"browser-default":!1,"playback-rate":1};Gae=Ot(De((t,e)=>{let i=e["dynamic-hash"]||e.hash||null,r=i?Ke.getMediaByHash(t)[i]:null;e.model&&(r=e.model);let n=e.poster||null,o=null,a;return e.posterModel?o=e.posterModel:n&&!n.includes?.(".")&&(o=Ke.getMediaByHash(t)[n]||null),{posterModel:o,model:r,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,imageSettings:{limit_by:"width",scale:"100%",...t.siteDesign.images}}},jae)(Cg)),Kae=["itemResize","itemLoad","itemDragStart","model","dynamic-hash","dynamic-filetype","dynamic-src","rotation","limit-by","disable-zoom","disable-scroll-animation","scale","hash","src","force-visible","alt","href","rel","target","tag-text","autoplay","muted","loop","poster","play","browser-default","playback-rate","image-fit","width","height"];Zt(Gae,"media-item",Kae)});var Yae,ju,Pg=M(()=>{Yae=pe(we(),1);Ne();ju=(t,e,i)=>{let r=(ne?1:window.devicePixelRatio)>1,n=i/t-e*((t-1)/t),o=[],a=r?Math.round(e*2)/2:Math.round(e);for(let l=0;l<t;l++){let c={left:n*l+e*l,right:n*l+e*l+n};l<t-1?c.right=r?Math.round(c.right*2)/2:Math.round(c.right):c.right=i,l>0&&(c.left=o[l-1].right+a),o.push(c)}return{columnAndGutterMap:o,columnWidth:n,gutterPixelWidth:a,halfPixels:r}}});var fOe,dS,sH,aH=M(()=>{Ee();fOe=pe(we(),1);Rt();Hu();oe();dS=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,"vertical-align":n}=e,o=!!e?.["blog-gallery"],a=o?!0:!!this.props.disableResize,l=o?!0:!!e?.["disable-button"];return g(Io,{...e,disabledFigureOptions:["scale"],gallerySpecificAttributes:this.props.gallerySpecificAttributes,mediaItemEditorInfo:{disableResize:a,disableButton:l,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},galleryInstance:r,onCleanUp:(c,d,m,f,v,b)=>{m.forEach(_=>{_.getAttribute("grid-vertical-align")===n&&_.removeAttribute("grid-vertical-align"),_.getAttribute("grid-span")===1&&_.removeAttribute("grid-span")}),d.forEach(_=>{_&&(_.classList.remove("last-column"),_.classList.remove("last-row"),_.classList.remove("orphaned-item"))}),this.props.onCleanUp&&this.props.onCleanUp(c,d,m,f,v,b)}})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("grid-span"):e.setAttribute("grid-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let a=i[o+1]?.left||9e9,l=n.right-n.left;return e.width>=n.left+l*.5&&e.width<=a+l*.5})+1;return Math.max(1,r)}},sH=dS});var Ig,io,Ag,pS,Tg=M(()=>{Ee();qe();pt();ea();Uu();Ne();Pg();qu();ki();Bi();aH();Ig=pe(we(),1);Wi();oe();io={name:"grid",displayName:"Grid",tagName:"GALLERY-GRID",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Spans",name:"grid-span",type:"scrubber",allowUnclampedTextEntry:!1,value:1,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Vertical Align",name:"grid-vertical-align",type:"radio",value:"inherit",inheritsFrom:"vertical-align",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]}],options:[{labelName:"Columns",name:"columns",type:"scrubber",allowUnclampedTextEntry:!1,value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",allowUnclampedTextEntry:!1,type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}]};io.mediaItemDefaults=st(io.mediaItemOptions);io.defaults=st(io.options);io.mobileDefaults=st(io.mobileOptions);Ag=class extends se{constructor(e){super(e),this.state={isMobile:Ye.data.mobile.active,sizeIncrement:0,elWidth:1e3,gutterWidth:0,gutterHeight:0,hasSizes:!1,renderLimit:250},this.uid=Ig.default.uniqueId(),this.paginationWatcherRef=me(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+100;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,250))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o}=e,{isMobile:a,gutterWidth:l,gutterHeight:c,hasSizes:d}=i,{elWidth:m}=i;d||(m=this.props.baseNode.offsetWidth);let f=this.state.isMobile&&this.props["mobile-vertical-align"]!==void 0?this.props["mobile-vertical-align"]:this.props["vertical-align"];this.props.verticalAlign&&(f=this.props.verticalAlign);let v=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;v=Math.max(1,parseInt(v))||1;let _=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),E=(_.length>1,_[0]);E=Qt(E,"rem"),E[1]=="rem"&&a&&(E=["","calc( var(--mobile-padding-offset, 1) * "+E.join("")+" )"]);let C=_.length>1?_[1]:_[0];C=Qt(C,"rem"),C[1]=="rem"&&a&&(C=["","calc( var(--mobile-padding-offset, 1) * "+C.join("")+" )"]);let{columnAndGutterMap:I,columnWidth:N,gutterPixelWidth:D}=ju(v,l,m),F=this.getMediaItems(),z=[],G=0,Y=0,L=a&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns);F.forEach((H,ae)=>{if(ae>this.state.renderLimit)return;z[G]||(z[G]=[]);let ee=L?1:parseInt(H.getAttribute("grid-span"))||1;Y%v+ee>v&&(ee=v-Y%v);let J=H.getAttribute("grid-vertical-align")||null;z[G].push({index:ae,spans:ee,hasOrphans:!1,verticalAlign:J,el:H}),Y=Y+ee,Y%v==0&&G++,Y%v!=0&&ae==F.length-1&&(z[z.length-1].hasOrphans=!0)});let Z=F.length%v,$=[],j=[];z.forEach((H,ae)=>{let ee=Ig.default.sumBy(H,ce=>ce.spans),J=0,le=[],K=0,U=0,W=H.map((ce,fe)=>{let be=ce.spans,Te=ce.el._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0,horizPadSize:0,vertPadSize:0},mediaItemSize:{width:0,height:0,padSize:0,vertPadSize:0,horizPadSize:0}},_e=J,Le=J+be+-1,ze=N*be+l*(be-1),rt=(ze+-Te.mediaItemSize.horizPadSize+-Te.mediaSize.horizPadSize)/Te.width||1,Ue=Math.round(Te.height*rt+Te.mediaSize.vertPadSize)||0;ze=I[Le].right-I[_e].left,J+=be,K=Math.max(K,Ue);let ot={},Ie="";return ze<0?(Ue=0,D=0,Ie+=`
					--grid-width: 0px;
					--grid-gutter-width: ${ze+D}px;`):Ie+=` --grid-width: ${ze}px;`,ot.orphanedItem=H.hasOrphans,fe===H.length-1?(ot.lastColumn=!0,ce.index<F.length-1&&(Ie=` --grid-width: ${m-U}px;`),U=0):(fe==0&&(ot.firstColumn=!0),U=U+ze+l),ae==z.length-1&&(ot.lastRow=!0),ot.gridItemPixelHeight=Ue,ot.gridItemPixelWidth=ze,ot.gridWidthStyle=Ie,ot});var re=Ig.default.maxBy(W,ce=>ce.gridItemPixelHeight);K=re.gridItemPixelHeight,H.forEach((ce,fe)=>{let be=W[fe],Te=0,_e=f;switch(ce.verticalAlign){case"top":case"center":case"bottom":_e=ce.verticalAlign;break}switch(_e){case"top":Te=0;break;case"center":Te=(K-be.gridItemPixelHeight)*.5;break;case"bottom":Te=K-be.gridItemPixelHeight;break}let Le=`margin-top: ${Te}px; --frame-padding: ${be.gridItemPixelHeight}px; ${be.gridWidthStyle}`,ze=ae==0?" first-row":be.lastRow?" last-row":"",rt=be.firstColumn?" first-in-row":be.lastColumn?" last-in-row":"",Ue="row-"+ae+"-"+ce.index+ze+rt;$.push({slot:Ue,itemResize:this.onItemResize,"limit-by":null}),j.push({slot:Ue,style:Le,itemStatuses:be})})}),F.forEach((H,ae)=>{let ee=$[ae]||{slot:null},J=H._props||{};Ao(H,{...J,...ee},J,!1,!1)});let ie=[];return z.forEach((H,ae)=>{ie.push(g("div",{part:ae==0?"first-row":ae===z.length-1?"last-row":"row",className:`row ${H.hasOrphans?"has-orphans":""}`,children:H.map(ee=>g("slot",{name:$[ee.index].slot},"slot-"+ae+"-"+ee.index))},"row-"+ae))}),g(te,{children:[this.props.children,Ge(g(te,{children:[g("style",{children:`
						:host {
							display: block;
							width: var(--resize-parent-width, 100%);
							max-width: 100%;
							position: relative;							
			 				--grid-gutter-width: ${D}px;
							--grid-gutter-height: ${c}px;
							--grid-columns: ${v};
							margin-top: calc(var(--gutter-expand, 0) * ${c}px );	
						}				

						* {
							box-sizing: border-box;
						}

						${j.map((H,ae)=>`::slotted(media-item[slot="${H.slot}"]) {
								${H.style}
								${H.itemStatuses.lastColumn&&!H.itemStatuses.orphanedItem?"flex-grow: 1; --object-fit: fill;":""}
								${H.itemStatuses.lastColumn?"":"margin-right: var(--grid-gutter-width);"}
								${H.itemStatuses.lastRow?"":"margin-bottom: var(--grid-gutter-height);"}
							} `).join("")}
								

						.row {
							max-width: ${m}px;
						    align-items: flex-start;
						    justify-content: flex-start;
							position: relative;
							display: flex;
							flex-direction: row;
							flex-wrap: nowrap;					
							width: 100%;
							clear: both;
						}				
		
						.row.has-orphans {
						    justify-content: flex-start;
						}

						${a&&e["mobile-horizontal-align"]?`
							:host([mobile-horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([mobile-horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([mobile-horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`:`
							:host([horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`}
		
						:host([hidden]) {
							display: none;
						}
		
						::slotted(media-item) {
							${r?"pointer-events: auto;":""}
							position: relative;
						    display: flex;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--grid-width);
						    width: var(--grid-width);
						}
		

		
					`}),g(Vr,{values:{elWidth:"100%",gutterWidth:E.join(""),gutterHeight:C.join("")},onResize:this.onResize}),r&&o.isEditing&&!ne&&g(sH,{...e,disableResize:L,gallerySpecificAttributes:["grid-span","grid-vertical-align"],galleryInstance:n,galleryComponent:this,columnAndGutterMap:I}),ie,g("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){Ye.on("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current)}componentWillUnmount(){Ye.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})}};Ag.defaultProps={"show-tags":!0,"show-title":!0,columns:io.defaults.columns.value,gutter:"2rem","vertical-align":io.defaults["vertical-align"].value,"horizontal-align":io.defaults["horizontal-align"].value};pS=Ot(To(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Ag)));Zt(pS,"gallery-grid",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","columns","gutter","mobile-columns","mobile-gutter","vertical-align","horizontal-align","mobile-horizontal-align","mobile-vertical-align"])});var zOe,hS,lH,uH=M(()=>{Ee();zOe=pe(we(),1);Rt();Hu();oe();hS=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,elHeight:a,disabledAttributes:l}=e;return g(Io,{...e,dragIndicationType:"columns",gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:r,mediaItemEditorInfo:{disableResize:this.props.disableResize,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},disabledAttributes:l})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("columnized-span"):e.setAttribute("columnized-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let a=i[o+1]?.left||9e9,l=n.right-n.left;return e.width>=n.left+l*.5&&e.width<=a+l*.5})+1;return Math.max(1,r)}},lH=hS});var fS,gs,Mg,Xae,mS=M(()=>{Ee();qe();pt();ea();Ne();Pg();qu();Uu();ki();uH();Bi();fS=pe(we(),1);Wi();oe();gs={name:"columnized",displayName:"Columnized",tagName:"GALLERY-COLUMNIZED",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Column Span",name:"columnized-span",allowUnclampedTextEntry:!1,type:"scrubber",value:1,min:1,max:11,step:1,numberOnlyMode:!0}],options:[{labelName:"Columns",name:"columns",type:"scrubber",allowUnclampedTextEntry:!1,value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",allowUnclampedTextEntry:!1,type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}]};gs.mediaItemDefaults=st(gs.mediaItemOptions);gs.defaults=st(gs.options);gs.mobileDefaults=st(gs.mobileOptions);Mg=class extends se{constructor(e){super(e),this.state={elWidth:1e3,gutterWidth:0,gutterHeight:0,isMobile:Ye.data.mobile.active,sizeIncrement:0,hasSizes:!1}}render(e,i){let{gutterWidth:r,gutterHeight:n,isMobile:o,hasSizes:a}=i,{baseNode:l,adminMode:c,pageInfo:d}=e,{elWidth:m}=i;a||(m=this.props.baseNode.offsetWidth);let v=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),b=(v.length>1,v[0]);b.includes("rem")&&o&&(b="calc( var(--mobile-padding-offset, 1) * "+b+" )");let _=v.length>1?v[1]:v[0];_.includes("rem")&&o&&(_="calc( var(--mobile-padding-offset, 1) * "+_+" )");let E=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;E=Math.max(1,parseInt(E))||1;let{columnAndGutterMap:C,columnWidth:I,gutterPixelWidth:N,halfPixels:D}=ju(E,r,m),F=Array.from(l.children).filter(J=>J.tagName=="MEDIA-ITEM"),z=[],G=[],Y=[],L=[],Z=0;Z=(m-(E-1)*r)/E;for(let J=0;J<Math.min(F.length,E);J++)z[J]=[],L[J]=[];for(let J=0;J<E;J++)G[J]={height:0,marginTop:-r,index:J};let $=!0,j=0,ie=0;for(j=0;j<12;){let J=parseInt(F[ie]?.getAttribute("columnized-span"))||1;if(j=j+J,j>=E){j=E,$=!1;break}ie++}let H=[],ae=o&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns),ee=[];F.forEach((J,le)=>{let K=ae?1:Math.min(parseInt(J.getAttribute("columnized-span"))||1,E);K=Math.min(K,F.length);let U=-1,W=fS.default.minBy(G,Be=>{U++;let ft=G.slice(U+1,U+K).map(_t=>_t.height);if(ft.length+1<K)return 9e9;let Lt=Be.height==0?0:Math.abs((U+(U%2==0?.25:.75))*2-E);return fS.default.mean([Be.height,...ft])+Lt}),re=`column-${W.index}-slot-${le}`,ce=W.height;W.index+K>E&&(K=E-W.index),Y[W.index]=le;let fe=0,be=null,Te=I*K+r*(K-1),_e=J._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};fe=_e.mediaItemSize.height+_e.mediaItemSize.padSize;let Le=W.index,ze=W.index+K+-1;Te=C[ze].right-C[Le].left,Te=Math.max(0,Te);let rt=(Te+-_e.mediaItemSize.padSize+-_e.mediaSize.padSize)/_e.width;be=D?Math.round((_e.height*rt+_e.mediaSize.padSize)*2)/2||0:Math.round(_e.height*rt+_e.mediaSize.padSize)||0;let Ue=W,ot=W.height;for(let Be=1;Be<K;Be++){let ft=W.index+Be;G[ft].height>=ot&&(Ue=G[ft],ot=G[ft].height)}let Ie=Ue.height,at=Ue.height+_e.mediaItemSize.height+_e.mediaItemSize.padSize+r;for(let Be=0;Be<K;Be++){let ft=W.index+Be;Be===0?(G[ft].marginTop=G[ft].marginTop+(Ie-G[ft].height),G[ft].height=at):(G[ft].marginTop=G[ft].marginTop+(at-G[ft].height),G[ft].height=at)}let lt={},ht=G[W.index].marginTop;G[W.index].marginTop=0,lt.styleString="",ht!==n&&(lt.styleString+=` --column-gutter-height: ${ht+n}px;`),K>1&&(lt.styleString+=` --resize-parent-width:${Te}px; min-width: ${Te}px;`),be!==null&&(lt.styleString+=` --frame-padding: ${be}px;`),ce===0&&(lt.firstColumnItem=!0),lt.slotName=re,ee.push(lt),z[W.index]||(z[W.index]=[]),z[W.index].push(g("slot",{name:re},re)),H.push({slot:re})});for(let J=0;J<j;J++)z[J]||(z[J]=[]);return Y.forEach(J=>{ee[J].lastInColumn=!0}),F.forEach((J,le)=>{let K=H[le]||{};K.itemResize=this.onItemResize;let U=J._props||{};Ao(J,{...U,...K},U,!1,!1)}),g(te,{children:[this.props.children,Ge(g(te,{children:[g("style",{children:`
				:host {
					width: var(--resize-parent-width, 100%);
					max-width: 100%;
					${$?"display: block;":`display: flex;
					    flex-direction: row;
					    flex-wrap: wrap;
					    align-content: flex-start;
					    justify-content: center;`}
				    position: relative;					
					--column-gutter-width: ${N}px;
					--column-gutter-height: ${n}px;
					margin-top: calc(var(--gutter-expand, 0) * ${n}px);
				}

				${ee.map((J,le)=>`::slotted(media-item[slot="${J.slotName}"]){
						margin-top: ${J.firstColumnItem?"0;":"var(--column-gutter-height, 0px);"}
						${J.lastInColumn?`
						    flex-grow: 1;
						    flex-shrink: 1;
						    flex-basis: ${E===1?"100%":0};						
						`:""}
						${J.styleString}
					} `).join("")}

				* {
					box-sizing: border-box;
				}	

				:host[hidden] {
					display:none;
				}

				:host .columns-column {
					${$?`
						display: inline-flex;
						vertical-align: top;
					`:`
					    max-width: ${Math.ceil(m/E)}px;
					`}
					min-height: 10px;			
					flex-grow: 0;
					flex-shrink: 0;
				}

				:host .columns-column.last-column {
				    flex-grow: 1;
				    flex-shrink: 1;
				    flex-basis: ${E===1?"100%":0};
				}
				

				:host .columns-column:not(:last-child){
				    margin-right: var(--column-gutter-width, 0px);
				}

				::slotted(media-item) {
					position: relative;
				    width: 100%;
				    max-width: none;
				    display: flex;
				}




				`}),g(Vr,{values:{gutterWidth:b,gutterHeight:_,elWidth:"100%"},onResize:this.onResize}),c&&d.isEditing&&!ne&&g(lH,{...this.props,disableResize:ae,isMobile:o,gallerySpecificAttributes:["columnized-span"],columnAndGutterMap:C,galleryInstance:l,galleryComponent:this}),z.map((J,le)=>{let K=C[le];return g("div",{className:`columns-column${le===E-1?" last-column":""}`,style:{width:K.right-K.left+"px"},children:J},`columns-column-${le}`)})]}),this.props.baseNode.shadowRoot)]})}componentDidMount(){Ye.on("mobile-change",this.onMobileChange)}componentWillUnmount(){Ye.off("mobile-change",this.onMobileChange)}onMobileChange=e=>{this.setState({isMobile:e})};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}};Mg.defaultProps={"show-tags":!0,"show-title":!0,columns:gs.defaults.columns.value,gutter:"2rem","mobile-gutter":"2rem"};Xae=Ot(To(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Mg)));Zt(Xae,"gallery-columnized",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","columns","gutter","mobile-columns","mobile-gutter"],{renderIntoShadow:!0})});var Gr,gS,cH,dH=M(()=>{Ee();Gr=pe(we(),1);Hu();Ni();Rt();oe();gS=class extends se{constructor(e){super(e),this.state={pauseRealignment:!1,waitingForRealignment:!1,currentZoom:100,currentHorizontalShift:0,transform:{x:0,y:0},previewShifts:[],previewingTransform:!1,dragStartPosition:{x:0,y:0},scrollDelta:{x:0,y:0},dragDelta:{x:0,y:0},initialPosition:{x:0,y:0},ghostRect:{significantShift:!1,width:0,height:0,x:0,y:0},minHeight:0,overrideHeight:!1,dragSrcIndex:-1,UIWindow:!1,draggedItemIndex:-1,isDragging:!1,showDropTarget:!1,breakOutOfGallery:!1,draggedMediaItem:null,timer:0},this.draggedItem=me(),this.dragGhostRef=me(),this.lastPosition=null,this.debouncedCommitTransform=Gr.default.debounce(this.commitTransform,500)}render(e,i){let{showDropTarget:r,draggedMediaItem:n,isDragging:o,dragDelta:a,draggedItemIndex:l,initialPosition:c,dragSrcIndex:d,ghostRect:m}=i,{galleryInstance:f}=e;return g(te,{children:[g("style",{id:"freeform-editor",children:[d>-1&&o?`
			::slotted(media-item:nth-child(${d+1})){
				pointer-events:none;
				opacity: 0;
			}

			.drag-ghost {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1001;	
				pointer-events: none;
				outline: 1px solid #ccc;
			}

			.drag-ghost.snapping {
				outline: 1px solid var(--baseColor-accent);
			}

			.drag-ghost img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				opacity: 0.5;
				transition: none;
				object-fit: cover;
				transform:translateZ(0);
			}

			`:`

			#freeform-holder {
				transform: scale(${this.state.currentZoom}%) translateX(${this.state.currentHorizontalShift}%);
				transform-origin: center top;
			}

			`,this.state.overrideHeight?`
				:host {
					min-height: ${this.state.minHeight}px;
				}
			`:"",this.state.previewingTransform?this.state.previewShifts.map(v=>`::slotted(media-item[slot="${v.slot}"]){
						--base-translate: translate(${v.x}px , ${v.y}px)!important;
					} `):""]}),g(Io,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:f,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,whileScaleChange:this.whileScaling,beforeScaleChange:this.beforeScaleChange},onScrollWhileHovered:this.onScrollWhileHovered,onUIWindowSet:this.getUIWindow,onUIWindowRelease:this.releaseUIWindow,disableDragOver:!0,onCleanUp:this.onCleanUp}),g("div",{className:`drag-ghost ${m.significantShift?"snapping":""}`,style:{display:o&&m.width>0&&m.height>0?"block":"none",transform:`translate3d(${m.x}px, ${m.y}px, 1001px)`,width:m.width+"px",height:m.height+"px"},dangerouslySetInnerHTML:{__html:""},ref:this.dragGhostRef})]})}onScrollWhileHovered=e=>{this.setState(i=>i.isDragging?{scrollDelta:{x:0,y:i.scrollDelta.y+e}}:null)};getUIWindow=e=>{this.setState({UIWindow:e})};releaseUIWindow=e=>{this.setState({UIWindow:!1})};beforeScaleChange=(e,i)=>{let r=e.hasAttribute("freeform-scale")?e.getAttribute("freeform-scale"):20;return{...i,scaleArray:[parseFloat(r),"%"],scale:r+""}};whileScaling=(e,i)=>{let{magneticSnap:r,magneticSnapMargin:n}=this.props,o=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};if(!r)return i;let{width:a,height:l,scaleArray:c,overSize:d,atLimit:m,scale:f}=i,{elWidth:v,attributeMap:b}=this.props;v=v+-o.mediaItemSize.padSize+-o.mediaSize.padSize;let _=n*.01*v,E=a/l,C={width:!1,height:!1},I=Array.from(this.props.galleryInstance.children).filter(G=>G.tagName==="MEDIA-ITEM").indexOf(e),N=b[I],D={x1:N.xPx,y1:N.yPx,x2:N.xPx+a,y2:N.yPx+l},F={top:!0,left:!0,right:!1,bottom:!1},z=this.calculateMagnetism(e,D,F);return Math.abs(z.x)<Math.abs(z.y)&&Math.abs(z.x)>.1?C.width=!0:Math.abs(z.y)>.1&&(C.height=!0),Math.abs(z.x)>15&&(C.width=!1,z.x=0),Math.abs(z.y)>15&&(C.height=!1,z.y=0),C.width?(a=a+z.x,l=a/E):C.height&&(l=l+z.y,a=l*E),c[0]=a/v*100,{...i,scale:c.join(""),width:a,height:l,scaleArray:c,overSize:d,atLimit:m}};afterScaleChange=(e,i)=>{let{elWidth:r}=this.props,n=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};r=r+-n.mediaItemSize.padSize+-n.mediaSize.padSize;let o=(100*(i.width/r)).toFixed(2);e.setAttribute("limit-by","width"),e.setAttribute("scale",o),e.setAttribute("freeform-scale",o),this.props.galleryComponent.onItemResize()};onDragStart=(e,i,r)=>{let n=r.draggedMediaItems?.find(_=>this.props.galleryInstance.contains(_))||null;if(!n){this.setState({draggedItemIsInsideGallery:!1});return}let{attributeMap:o,elWidth:a}=this.props;this.draggedItem.current=n,Array.from(this.dragGhostRef.current?.children).forEach(_=>{_.remove()});let l=this.draggedItem.current?.shadowRoot?.querySelector('.sizing-frame [part="media"]'),c=Array.from(this.props.galleryInstance.children),d=c.indexOf(n),m=c.filter(_=>_.tagName==="MEDIA-ITEM").indexOf(n),f=o[m],v={x:f?.xPx??0,y:f?.yPx??0},b=this.props.galleryInstance.offsetHeight;this.setState(_=>(ye.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),{dragDelta:{x:0,y:0},draggedItemIsInsideGallery:!0,initialPosition:v,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},scrollDelta:{x:0,y:0},ghostRect:{x:0,y:0,width:0,height:0},dragSrcIndex:d,overrideHeight:!0,minHeight:b,isDragging:!0}))};onDragOver=(e,i,r)=>{if(this.ticking)return;this.ticking=!0,this.dragFrame=requestAnimationFrame(()=>{this.ticking=!1});let{elWidth:n,elHeight:o,mediaItems:a,magneticSnapMargin:l,magneticSnap:c,attributeArray:d}=this.props,m=r.draggedMediaItems.length>0,f=this.props.galleryInstance.contains(r.dropTarget),v=this.props.galleryInstance===r.customDropTarget;r.inAdmin||r.fromOutside||!(f||this.state.draggedItemIsInsideGallery)?ye.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance):this.setState(b=>{if(ye.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),b.isDragging){let _={x:r.cursorPosition.x+-b.dragStartPosition.x+b.scrollDelta.x,y:r.cursorPosition.y+-b.dragStartPosition.y+b.scrollDelta.y},E={x:b.initialPosition.x+_.x,y:b.initialPosition.y+_.y};this.lastPosition||(this.lastPosition=E);let C={width:0,height:0,x1:E.x,x2:E.x,y1:E.y,y2:E.y};if(this.draggedItem.current){let F=this.draggedItem.current._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};C.x2=C.x1+F.mediaItemSize.padSize+F.mediaSize.padSize+F.mediaItemSize.width,C.y2=C.y1+F.mediaItemSize.padSize+F.mediaItemSize.height,C.width=F.mediaItemSize.padSize+F.mediaSize.padSize+F.mediaItemSize.width,C.height=F.mediaItemSize.padSize+F.mediaItemSize.height}let I=c?this.calculateMagnetism(this.draggedItem.current,C):{x:0,y:0},N=l*.01*n;Math.abs(I.x)>Math.max(N,6)?I.x=0:I.x!==0&&(E.x=(E.x+I.x)*.5+this.lastPosition.x*.5),Math.abs(I.y)>Math.max(N,6)?I.y=0:I.y!==0&&(E.y=(E.y+I.y)*.5+this.lastPosition.y*.5);let D=Math.abs(I.x)>1||Math.abs(I.y)>1;return this.lastPosition=E,{ghostRect:{significantShift:D,x:E.x,y:E.y,width:C.width,height:C.height},dragDelta:{x:_.x+I.x,y:_.y+I.y}}}else{let _=this.props.galleryInstance.getBoundingClientRect(),E={x:r.cursorPosition.x-_.left,y:r.cursorPosition.y-_.top};return this.draggedItem.current=r.draggedMediaItems[0],{dragDelta:{x:0,y:0},scrollDelta:{x:0,y:0},initialPosition:E,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},ghostRect:{x:0,y:0,width:0,height:0},isDragging:!0,dragSrcIndex:-1}}})};calculateMagnetism=(e,i,r={top:!1,right:!1,bottom:!1,left:!1})=>{let{mediaItems:n,galleryInstance:o,elWidth:a,elHeight:l,magneticSnapMargin:c,attributeMap:d}=this.props,m=Math.round(c*.01*a*32)/32,f=[],v=[],b=[],_={};n.forEach((L,Z)=>{let $=d[Z];if(L===e)return;b.length=0;let j=L._size;_.x1=$.xPx,_.y1=$.yPx,_.x2=j.mediaItemSize.width+j.mediaItemSize.padSize+_.x1,_.y2=j.mediaItemSize.height+j.mediaItemSize.padSize+_.y1,i.x1<_.x2+m*2&&i.x2>_.x1-m*2&&(_.x2<i.x1||_.x1>i.x2?(b.push(_.y1),b.push(_.y2)):(b.push(_.y1-m),b.push(_.y2+m)),b.forEach(ie=>{f.indexOf(ie)===-1&&f.push(ie)})),b.length=0,i.y1<_.y2+m*2&&i.y2>_.y1-m*2&&(_.y2<i.y1||_.y1>i.y2?(b.push(_.x1),b.push(_.x2)):(b.push(_.x1-m),b.push(_.x2+m)),b.forEach(ie=>{v.indexOf(ie)===-1&&v.push(ie)}))}),f.indexOf(0)===-1&&f.push(0),f.indexOf(l)===-1&&f.push(l),v.indexOf(0)===-1&&v.push(0),v.indexOf(a)===-1&&v.push(a);let E=Gr.default.minBy(f,L=>Math.abs(L-i.y1)),C=Gr.default.minBy(f,L=>Math.abs(L-i.y2)),I=E-i.y1,N=C-i.y2,D=Gr.default.minBy(v,L=>Math.abs(L-i.x1)),F=Gr.default.minBy(v,L=>Math.abs(L-i.x2)),z=D-i.x1,G=F-i.x2;return{x:Gr.default.minBy([r.left?9e9:z,r.right?9e9:G],L=>L!==0?Math.abs(L):9e9),y:Gr.default.minBy([r.top?9e9:I,r.bottom?9e9:N],L=>L!==0?Math.abs(L):9e9)}};onDragDrop=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null,!r.inAdmin&&r.customDropTarget===this.props.galleryInstance&&CargoEditor?.mutationManager&&(CargoEditor.rangy.getSelection().removeAllRanges(),He.deactivateHoverElement(this.props.galleryInstance),CargoEditor.mutationManager.execute(()=>{let n=Array.from(this.props.galleryInstance.children).filter(m=>m.tagName==="MEDIA-ITEM"),o=Gr.default.sortBy(n,m=>parseFloat(m.getAttribute("freeform-y"))||0),a=(this.state.initialPosition.x+this.state.dragDelta.x)/this.props.elWidth*100,l=(this.state.initialPosition.y+this.state.dragDelta.y)/this.props.elWidth*100,c=this.draggedItem.current?.getAttribute("freeform-scale")||20,d=o.find(m=>parseFloat(m.getAttribute("freeform-y"))>l);r.draggedMediaItems.forEach((m,f)=>{m.setAttribute("freeform-z",n.length+200+f),m===this.draggedItem.current?(m.setAttribute("freeform-x",a),m.setAttribute("freeform-y",l)):(m.setAttribute("freeform-x",(a+f*5)%80),m.setAttribute("freeform-y",l+f*5)),m.hasAttribute("freeform-scale")||m.setAttribute("freeform-scale",c),this.props.galleryInstance.insertBefore(m,d),m.flushMutationQueue()}),this.stackZ(),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()}))}),this.unsetMinHeight()};unsetMinHeight=Gr.default.debounce(()=>{this.setState({overrideHeight:!1})},100);onDragEnd=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null}),this.unsetMinHeight()};onCleanUp=(e,i,r,n)=>{CargoEditor&&Object.keys(CargoEditor).length>0&&(!Gr.default.isEqual(e,i)||r.length>0)&&CargoEditor.mutationManager.execute(()=>{this.centerY(),this.alignDomWithY()}),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n)};stackZ=()=>{let e=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");Gr.default.sortBy(e,r=>parseFloat(r.getAttribute("freeform-z"))||0).forEach((r,n)=>{r.setAttribute("freeform-z",n+1),r.flushMutationQueue()})};centerY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=Gr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=i[0]?.hasAttribute("freeform-y")?parseFloat(i[0].getAttribute("freeform-y")):0;r!==0&&i.forEach((n,o)=>{let a=n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):r;n.setAttribute("freeform-y",a-r),n.flushMutationQueue()})};alignDomWithY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=Gr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=e[0];i.forEach((n,o,a)=>{if(n!=r){for(let l=r,c=0;(l=l.nextElementSibling)&&c<a.length&&l!=n;c+=1);this.props.galleryInstance.insertBefore(n,r)}else r=n.nextElementSibling;n.flushMutationQueue()})};zoom=e=>{this.setState({currentZoom:e})};commitZoom=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props,{currentZoom:r}=this.state;Array.from(this.props.galleryInstance.children).filter(o=>o.tagName==="MEDIA-ITEM").forEach((o,a)=>{let l=i[a],c=l["freeform-x"],d=l["freeform-y"],m=l["freeform-scale"],f=Math.sqrt(Math.pow(c-50,2)+Math.pow(d,2)),v=Math.atan2(d,c-50);o.setAttribute("freeform-x",Math.cos(v)*f*(r*.01)+50),o.setAttribute("freeform-y",Math.sin(v)*f*(r*.01)+50*(r*.01)),o.setAttribute("freeform-scale",r*.01*m)});let n=Math.abs(r*.01*e);if(n>.1)for(;n>5;)n*=.5;this.centerY(),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":n}),this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()};previewTransform=(e,i)=>{let r=i.map(n=>{let o=(e.x+parseFloat(n.getAttribute("freeform-x")||0))*this.props.elWidth*.01,a=(e.y+parseFloat(n.getAttribute("freeform-y")||0))*this.props.elWidth*.01;return{slot:n.getAttribute("slot"),x:o,y:a}});this.setState({transform:e,previewShifts:r,previewingTransform:!0})};commitTransform=()=>{CargoEditor.mutationManager.execute(()=>{this.state.previewShifts.forEach(i=>{let r=this.props.galleryInstance.querySelector('[slot="'+i.slot+'"]');if(r){let n=parseFloat(r.getAttribute("freeform-x")||0),o=parseFloat(r.getAttribute("freeform-y")||0),a=Math.round((n+this.state.transform.x)*8)/8,l=Math.round((o+this.state.transform.y)*8)/8;r.setAttribute("freeform-x",a),r.setAttribute("freeform-y",l)}}),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()});let e=Array.from(this.props.galleryInstance.children).find(i=>i._editorInterface)?._editorInterface?.state?.UIWindow||null;e&&e.onChange({"shift-x":0,"shift-y":0}),this.setState({transform:{x:0,y:0},previewShifts:[],previewingTransform:!1},()=>{this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()})};horizontalShift=e=>{this.setState({currentHorizontalShift:e})};commitHorizontalShift=()=>{let{currentHorizontalShift:e}=this.state,{attributeMap:i}=this.props;Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{let a=i[n]["freeform-x"];r.setAttribute("freeform-x",a+e)}),this.state.UIWindow?.onChange?.({horizontalShift:0}),this.props.galleryComponent.onItemResize()};fitToWidth=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props;CargoEditor.mutationManager.execute(()=>{let{elWidth:r,attributeMap:n}=this.props,o=Array.from(this.props.galleryInstance.children).filter(f=>f.tagName==="MEDIA-ITEM"),a=9e9,l=-9e9;o.forEach((f,v)=>{let b=n[v];a=Math.min(a,b["freeform-x"]),l=Math.max(l,b["freeform-x"]+b["freeform-scale"])});let c=100/(l-a),d=a,m=Math.abs(c*e);if(m>.1)for(;m>5;)m*=.5;o.forEach((f,v)=>{let b=n[v],_=b["freeform-scale"]||30,E=b["freeform-x"],C=b["freeform-y"],I=(E+-d)*c,N=C*c;f.setAttribute("freeform-x",I),f.setAttribute("freeform-y",N),f.setAttribute("freeform-scale",c*_)}),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":m})})};componentDidMount(){ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("drop",this.onDragDrop),ye.globalDragEventController.on("dragend",this.onDragEnd),this.props.galleryInstance._freeformEditor=this}componentWillUnmount(){this.debouncedCommitTransform.cancel(),this.unsetMinHeight.cancel(),cancelAnimationFrame(this.dragFrame),clearTimeout(this.breakOutTimer),delete this.props.galleryInstance._freeformEditor,ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("dragend",this.onDragEnd)}componentDidUpdate(e,i){i.pauseRealignment!==this.state.pauseRealignment&&!this.state.pauseRealignment&&this.state.waitingForRealignment}},cH=gS});var pH,Rg,Zae,Gi,vS=M(()=>{Ee();qe();qu();ea();Tg();pt();Ne();dH();Uu();ki();Bi();pH=pe(we(),1);Wi();oe();Rg=class extends se{constructor(e){super(e),this.state={elWidth:1e3,sizeIncrement:0},this.holderRef=me()}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-grid":a,"mobile-gutter":l,"mobile-columns":c,"mobile-horizontal-align":d,"mobile-vertical-align":m,"hover-pop":f,"magnetic-snap":v,"magnetic-snap-margin":b}=e;if(a&&e.isMobile)return this.renderedMobileGrid=!0,g(pS,{...this.props,columns:c,gutter:l,verticalAlign:m,horizontalAlign:d,baseNode:n,adminMode:r,pageInfo:o});let{elWidth:_}=i,E=0,C=0,I=0,N=Array.from(n.children).filter(Z=>Z.tagName=="MEDIA-ITEM"),D=[],F=[],z=-1;N.forEach((Z,$)=>{let j=!1,ie={"freeform-scale":parseFloat(Z.getAttribute("freeform-scale")),"freeform-x":parseFloat(Z.getAttribute("freeform-x")),"freeform-y":parseFloat(Z.getAttribute("freeform-y")),"freeform-z":parseFloat(Z.getAttribute("freeform-z"))},H={slot:"slot-"+$,itemResize:this.onItemResize};(isNaN(ie["freeform-scale"])||isNaN(ie["freeform-x"])||isNaN(ie["freeform-y"])||isNaN(ie["freeform-z"]))&&(j=!0,ie["freeform-scale"]=Number.isNaN(parseFloat(Z.getAttribute("freeform-scale")))?20:parseFloat(Z.getAttribute("freeform-scale")),ie["freeform-x"]=Number.isNaN(parseFloat(Z.getAttribute("freeform-x")))?I*1.5:parseFloat(Z.getAttribute("freeform-x")),ie["freeform-x"]=ie["freeform-x"]%80,ie["freeform-y"]=Number.isNaN(parseFloat(Z.getAttribute("freeform-y")))?I*1.5:parseFloat(Z.getAttribute("freeform-y")),ie["freeform-z"]=9999,I++);let ae=parseFloat(ie["freeform-x"])*.01*_,ee=parseFloat(ie["freeform-y"])*.01*_,J=parseInt(ie["freeform-z"]),le=parseFloat(ie["freeform-scale"])*.01*_,K=le,U=Z._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};K=U.mediaItemSize.height+U.mediaItemSize.padSize,E=Math.max(ee+K,E),j||(z=$,C=E),ie.widthPx=le,ie.xPx=ae,ie.yPx=ee,ie.z=J,ie.writeAttributes=H,F.push(ie)});let G=100*(C/_),Y=0;for(var L=z+1;L<F.length;L++){let $=N[L]._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},j=$.mediaItemSize.height+$.mediaItemSize.padSize,ie=Y*1.5+G,H=ie*.01*_;F[L]["freeform-y"]=ie,F[L].yPx=H,E=Math.max(F[L].yPx+j,E),Y++}return F.forEach((Z,$)=>{let j=N[$],{widthPx:ie,yPx:H,xPx:ae,z:ee,writeAttributes:J}=Z,le=j._props||{};this.renderedMobileGrid&&(le.itemResize=null),Ao(j,{...le,...J},le,!1,!1),D.push({width:ie+"px","--base-translate":`translate(${Math.floor(ae)}px, ${Math.floor(H)}px)`,"--z-index":ee+1})}),this.renderedMobileGrid=!1,g(te,{children:[this.props.children,Ge(g(te,{children:[g("style",{children:`
					* {
						box-sizing: border-box;
					}
									
					:host {
						width: var(--resize-parent-width, 100%);
						max-width: 100%;						
						height: ${E}px;
						display: block;
						position: relative;
						contain: layout;
					}
					
					::slotted(media-item) {
						max-width: none;
						position: absolute;
						top: 0;
						left: 0;
						display: flex;
						flex-shrink: 0;
						flex-grow: 0;
					}

					::slotted(media-item)::part(sizing-frame){
						pointer-events:auto;						
					}

					${D.map((Z,$)=>`::slotted(media-item[slot="slot-${$}"]){
							width: ${Z.width};
							--base-translate: ${Z["--base-translate"]};
							--z-index: ${Z["--z-index"]};
						} `).join("")}						
					
					${f?`::slotted(media-item:hover) {
						z-index: 99999;	
					}`:""}
					
					#freeform-holder {
						position: absolute;
						inset: 0;
					}
				`}),g(te,{children:[g("div",{id:"freeform-holder",ref:this.holderRef,children:N.map((Z,$)=>g("slot",{name:`slot-${$}`}))}),g(Vr,{values:{elWidth:"100%"},onResize:this.onResize})]}),r&&o.isEditing&&!ne&&g(cH,{...e,gallerySpecificAttributes:["freeform-x","freeform-y","freeform-z","freeform-scale"],galleryInstance:n,galleryComponent:this,mediaItemOptions:Gi.mediaItemOptions,disabledMediaItemOptions:Gi.disabledMediaItemOptions,mediaItems:N,elWidth:_,elHeight:E,hoverPop:f,magneticSnap:v,magneticSnapMargin:b,attributeMap:F})]}),this.props.baseNode.shadowRoot)]})}componentDidUpdate(e,i){this.props.isMobile!==e.isMobile&&this.onItemResize()}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}},Zae=Ot(To(De((t,e)=>({adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}))(Rg)));Zt(Zae,"gallery-freeform",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","magnetic-snap","magnetic-snap-margin","hover-pop","mobile-grid","mobile-gutter","mobile-columns","mobile-horizontal-align","mobile-vertical-align"],{renderIntoShadow:!0});Gi={name:"freeform",displayName:"Freeform",tagName:"GALLERY-FREEFORM",disabledMediaItemOptions:["limit-by","scale"],nonAttributeValues:["horizontalShift","fitToWidth","zoom","shift-x","shift-y"],mediaItemOptions:[{type:"group",className:"grid-columns-even",children:[{labelName:"X",name:"shift-x",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}},{labelName:"Y",name:"shift-y",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Width",name:"freeform-scale",type:"scrubber",value:20,step:.05,min:0,max:150,numberOnlyMode:!0},{labelName:"Bring to Front",name:"freeform-z",type:"button",onClick:function(t){CargoEditor.mutationManager.execute(()=>{let e=this.state.selectedMediaItems[0].closest("gallery-freeform");if(e){e._freeformEditor?.stackZ();let i=pH.default.sortBy(Array.from(e.querySelectorAll("media-item")),n=>parseInt(n.getAttribute("freeform-z")));this.state.selectedMediaItems.forEach(n=>{n.setAttribute("freeform-z",1+i.length)}),e._freeformEditor?.stackZ()}})}}]}],mobileOptions:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Use Grid",name:"mobile-grid",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-auto",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitZoom()}}]},{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:2,min:1,max:12,step:1,allowUnclampedTextEntry:!1,numberOnlyMode:!0,requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Gutter",name:"mobile-gutter",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1}],options:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitZoom()}}]}],onMediaItemChange:function(t){let e=this.state.galleryParent;return e?(Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"shift-x":e._freeformEditor?.previewTransform({x:r,y:0},this.state.selectedMediaItems);break;case"shift-y":e._freeformEditor?.previewTransform({x:0,y:r},this.state.selectedMediaItems);break}}),{...t}):{...t}},onChange:function(t){let e=this.state.activeGallery;e&&Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"horizontalShift":e._freeformEditor?.horizontalShift(r);break;case"zoom":e._freeformEditor?.zoom(r);break}})}};Gi.mediaItemDefaults=st(Gi.mediaItemOptions);Gi.defaults=st(Gi.options);Gi.mobileDefaults=st(Gi.mobileOptions);Rg.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0,"magnetic-snap":Gi.defaults["magnetic-snap"].value,"magnetic-snap-margin":Gi.defaults["magnetic-snap-margin"].value,"hover-pop":Gi.defaults["hover-pop"].value,"mobile-grid":Gi.mobileDefaults["mobile-grid"].value,"mobile-gutter":Gi.mobileDefaults["mobile-gutter"].value,"mobile-columns":Gi.mobileDefaults["mobile-columns"].value,"mobile-horizontal-align":Gi.mobileDefaults["mobile-horizontal-align"].value,"mobile-vertical-align":Gi.mobileDefaults["mobile-vertical-align"].value}});var hH,yS,fH,mH=M(()=>{Ee();hH=pe(we(),1);Rt();Ni();Hu();oe();yS=class extends se{constructor(e){super(e),this.state={}}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,mediaItems:a}=e;return g(Io,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,onAfterDrop:this.onAfterDrop,galleryInstance:r,disabledMediaItemOptions:["scale"],mediaItemEditorInfo:{disableResize:!0,disableButton:!1,additionalUI:this.props.isMobile?null:this.renderBracket}})}onBracketClick=(e,i,r)=>{this.dragStarted||(r&&(r.preventDefault(),He.setHoveredElements([this.props.galleryInstance])),CargoEditor.mutationManager.execute(()=>{if(e)i.removeAttribute("justify-row-end");else{let n=i.previousSibling,o=1;for(;n;)n.nodeName==="MEDIA-ITEM"&&n.assignedSlot&&n.assignedSlot.parentElement.lastChild==n.assignedSlot&&n.setAttribute("justify-row-end","true"),n=n.previousSibling;i.setAttribute("justify-row-end","true")}}),this.props.incrementLayout&&this.props.incrementLayout())};renderBracket=(e,i)=>{let{gutterWidth:r,gutterHeight:n}=this.props,o=i.assignedSlot;if(!o)return null;let a=o.parentElement.lastChild==o,l=i.getAttribute("justify-row-end")==="true",c="pointer";return l||(c="e-resize"),g("div",{className:`justify-bracket${l?" row-end":""}`,style:{"--media-item-pad":-i._size.mediaItemSize.padSize*.5+-1+"px"},onClick:d=>{this.onBracketClick(l,i,d)},onMouseDown:d=>{this.onMouseDown(i,d)}})};componentWillUnmount(){this.setRow.cancel()}onMouseDown=(e,i)=>{let r=e.assignedSlot;if(!r)return;let{mediaItems:n}=this.props;i.preventDefault();let o=r.parentElement,a=Array.from(o.children);this.delta=0,this.initialPoint=i.clientX,this.rowItems=a,this.indexOfFirstInRow=n.indexOf(this.rowItems[0].assignedNodes()[0]),this.dragStarted=!1,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{let{mediaItems:i}=this.props;if(this.delta=e.clientX-this.initialPoint,!(Math.abs(this.delta)<3)){if(!this.dragStarted){He.setHoveredElements([this.props.galleryInstance]),He.lock(),document.body.classList.add("dragging");let r=i[this.indexOfFirstInRow-1];r&&this.onBracketClick(!1,r,null),this.attrCache=i.map(n=>n.getAttribute("justify-row-end")==="true")}this.dragStarted=!0,this.setRow()}};setRow=hH.default.throttle(()=>{CargoEditor.mutationManager.execute(()=>{let{elWidth:e,mediaItems:i,rowAlign:r}=this.props,n=e/12,o=Math.round(this.delta/n);(r=="fill"||r=="right")&&(o=o*-1);let a=Math.max(o+this.rowItems.length,1);He.setHoveredElements([this.props.galleryInstance]),He.lock(),this.attrCache.forEach((l,c)=>{c>=this.indexOfFirstInRow&&c<=this.indexOfFirstInRow+a&&(l=!1,(c==this.attrCache.length-1||c==this.indexOfFirstInRow+a+-1)&&(l=!0));let d=i[c],m=d.getAttribute("justify-row-end");l&&m!=="true"?d.setAttribute("justify-row-end",l):!l&&d.hasAttribute("justify-row-end")&&d.removeAttribute("justify-row-end")})}),this.props.incrementLayout&&this.props.incrementLayout()},80);onPointerUp=e=>{He.unlock(),He.testHover(),document.body.classList.remove("dragging"),this.setRow.cancel(),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onAfterDrop=(e,i,r)=>{let n=!1,o=i,a=e[e.length-1],l=e[0];for(;a&&e.indexOf(a)>-1;)a=a.nextElementSibling;for(;l&&e.indexOf(l)>-1;)l=l.previousElementSibling;r.left>-1&&r.right>-1?(i===e[e.length-1]&&(a=e[e.length-1]),i===e[0].nextElementSibling&&(l=e[0])):r.left>-1&&r.right==-1?a=null:r.right>-1&&r.left==-1&&(l=null),l&&r.left>-1&&(l.getAttribute("justify-row-end")=="true"||l.getAttribute("justify-row-end")==!0)&&(l.removeAttribute("justify-row-end"),e[e.length-1].setAttribute("justify-row-end",!0))}},fH=yS});var bS,kg,ro,Jae,wS=M(()=>{Ee();qe();qu();qe();ea();pt();Uu();Ne();Wi();mH();Bi();ki();bS=pe(we(),1);oe();kg=class extends Ii{constructor(e){super(e),this.state={isMobile:Ye.data.mobile.active,elWidth:0,gutterPixelWidth:0,gutterHeight:0,targetPxHeight:0,sizeIncrement:0,hasSizes:!1,renderLimit:150},this.paginationWatcherRef=me(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+150;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,200))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{gutterPixelWidth:r,gutterHeight:n,targetPxHeight:o,elHeight:a,isMobile:l,hasSizes:c}=i,{children:d,adminMode:m,pageInfo:f,baseNode:v}=e,{elWidth:b}=i;c||(b=this.props.baseNode.offsetWidth);let{"row-align":_,"row-height":E,gutter:C}=e;C=l&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter;let I="";l&&this.props["mobile-row-align"]!==void 0&&(_=this.props["mobile-row-align"],I="mobile-"),l&&this.props["mobile-row-height"]!==void 0&&(E=this.props["mobile-row-height"]);let N=C.split(" "),D=(N.length>1,N[0]);D.includes("rem")&&l&&(D="calc( var(--mobile-padding-offset, 1) * "+D+" )");let F=N.length>1?N[1]:N[0];F.includes("rem")&&l&&(F="calc( var(--mobile-padding-offset, 1) * "+F+" )");let z=Qt(E,"%").join(""),G=this.getMediaItems(),Y=G.slice(0,this.state.renderLimit),L=this.brickLayout(Y),Z=[];return G.forEach(($,j)=>{let ie=L.attributes[j]||{slot:null},H=$._props||{};Ao($,{...H,...ie},H,!1,!1)}),g(te,{children:[g(te,{children:this.props.children}),Ge(g(te,{children:[g("style",{children:`
* {
	box-sizing: border-box;
}

:host {
	width: var(--resize-parent-width, 100%);
	max-width: 100%;	
	position: relative;
	display: block;
	--gutter-width: ${r}px;
	--gutter-height: ${n}px;
	margin-top: calc(var(--gutter-expand, 0) * ${n}px );	
}

${L.shadowStyleMap.map(($,j)=>`::slotted(media-item[slot="slot-${j}"]){
		${$.style};
		${$.itemStatuses.lastRow?"":"margin-bottom: var(--gutter-height);"}
		${$.itemStatuses.lastChild?"":"margin-right: var(--gutter-width);"}
		${$.itemStatuses.lastChild&&!$.itemStatuses.orphanRow&&_==="fill"?`
			flex-grow: 1;
			--object-fit: fill;
		`:""}
	}`).join("")}

:host .justify-row {
	max-width: ${b+3}px;
	width: 100%;
	display:flex;
	flex-shrink: 0;
	align-items: stretch;
	justify-content: flex-start;
	position: relative;
	flex-wrap: nowrap;
}

:host .justify-row.orphan-row {
	width: ${L.orphanRowWidth}px;
	display: inline-flex;
}

::slotted(media-item) {
	position: relative;
	max-width: 100%;
	display: flex;
	flex-shrink: 0;
	flex-grow: 0;
}    


:host([${I}row-align="left"]) .justify-row {
	justify-content: flex-start;
}

:host([${I}row-align="right"]) .justify-row {
	justify-content: flex-end;
}

:host([${I}row-align="center"]) .justify-row {
	justify-content: center;
}

:host ::slotted(media-item.last-child), :host([${I}row-align="fill"]) ::slotted(media-item.last-child) {
	flex-grow: 1;
}

:host([${I}row-align="center"]) ::slotted(media-item.last-child),
:host([${I}row-align="left"]) ::slotted(media-item.last-child),
:host([${I}row-align="right"]) ::slotted(media-item.last-child) {
	flex-grow: 0;
}

					`}),g(Vr,{values:{targetPxHeight:z,gutterPixelWidth:D,gutterHeight:F,elWidth:"100%"},onResize:this.onResize}),L.shadow,m&&f.isEditing&&!ne&&g(fH,{...e,isMobile:l,gallerySpecificAttributes:["justify-row-end"],galleryInstance:v,gutterWidth:r,gutterHeight:n,elWidth:b,rowHeight:z,rowAlign:_,mediaItems:G,incrementLayout:this.onItemResize}),g("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onResize=(e,i)=>{e==="targetPxHeight"&&(i=Math.max(i,10)),this.setState({[e]:i,hasSizes:!0})};onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){Ye.on("mobile-change",this.onMobileChange),this.props.baseNode._figureEditorInfo={disabledMediaItemOptions:ro.disabledMediaItemOptions,galleryParent:this.props.baseNode,galleryWidth:this.state.elWidth},this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current),this.props.onMount&&this.props.onMount()}componentWillUnmount(){Ye.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};brickLayout=e=>{let i=window.devicePixelRatio>1?2:1,{isMobile:r}=this.state,{"row-align":n}=this.props;r&&this.props["mobile-row-align"]!==void 0&&(n=this.props["mobile-row-align"]);let o={},a=r&&this.props["mobile-row-height"]!==void 0&&this.props["mobile-row-height"]!==this.props["row-height"],l=!1,c=e.map((D,F)=>{let z=this.getItemSize(D,a);return this.getItemSize(D,a)});for(let D=c.length-1;D>=0;D--){let F=c[D];F.rowEnd||l?(F.inDesignatedRow=!0,l=!0):F.inDesignatedRow=!1}this.findValidRowCache={},this.makeNodes(0,0,null,o,c),this.findValidRowCache=null;let d=[],m=bS.default.keys(o).sort(function(D,F){return parseInt(D)-parseInt(F)}),f=m[m.length-1];for(;f!=null;){let D=o[f];o[D.parent]&&(o[D.parent].path=o[D.parent].edges[f]),d.unshift(D),f=D.parent}let v=[],b=[],_=[],E=this.state.targetPxHeight,C=this.state.elWidth,I=this.state.gutterPixelWidth,N=0;return d.forEach((D,F)=>{let z=D.path,G=[];if(!z)return;let Y=0,L=!1;for(let Z=z.startIndex;Z<z.breakBefore;Z++){let $=e[Z],j=z.breakBefore-z.startIndex,ie=Z+1==z.breakBefore,H=this.getItemSize($,!1),ae=H.mediaSize.padSize+H.mediaItemSize.padSize,ee=(E+-ae)/H.height||1,J,le;J=H.width*ee+ae,le=H.height*ee+H.mediaSize.padSize;let K=C+-z.rowWidth;if(n!=="fill"||L)K=Math.min(0,K),N=z.rowWidth;else if(K/C>.5&&ie&&F==0&&!z.position=="forcebreak"){L=!0,Z=z.startIndex-1;continue}if(K!==0){let ce=(J+-ae)/z.contentWidth,fe=z.rowWidth-z.contentWidth,be=C-fe;J=ce*be,le=J*(H.height/H.width)+H.mediaSize.padSize,J=J+ae}J=Math.floor(J*i)/i,Y=le;let U={},W="";Z==z.startIndex&&(U.firstChild=!0),Z+1==z.breakBefore&&(U.lastChild=!0),F+2==d.length&&(U.lastRow=!0),U.orphanRow=L,_[Z]={style:`width: ${J}px`,itemStatuses:U},b[Z]={slot:`slot-${Z}`,itemResize:this.onItemResize},G[Z]=g("slot",{name:`slot-${Z}`},`slot-${Z}`)}Y=Math.floor(Y*i)/i,v.push(g("div",{className:`justify-row${L?" orphan-row":""}`,style:{"--frame-padding":Y+"px"},children:G},`justify-row-${F}`))}),{shadow:v,attributes:b,shadowStyleMap:_,orphanRowWidth:N}};findValidRows=(e,i)=>{if(this.findValidRowCache[e])return this.findValidRowCache[e];e=parseInt(e);let r=e,n=0,o=0,a=0,l=0,c=0,d={},m=this.props["row-align"];this.state.isMobile&&this.props["mobile-row-align"]!==void 0&&(m=this.props["mobile-row-align"]);for(let f=e;f<i.length;f++){let v=a,b=l,_=i[f],E=_.mediaSize.padSize+_.mediaItemSize.padSize,C=(this.state.targetPxHeight+-E)/_.height;if(l=_.width*C,a=l+E,f===e?(c=1,n=a,o=a+-E):(n=n+this.state.gutterPixelWidth+a,o=o+l,c++),_.rowEnd){d[f+1]={position:"forcebreak",penalty:-9e9,itemCount:c,startIndex:e,breakBefore:f+1,rowWidth:n,contentWidth:o};break}else if(n>this.state.elWidth){if(_.inDesignatedRow)continue;d[f]={position:"under",itemCount:c+-1,penalty:0,startIndex:e,breakBefore:f,rowWidth:n+-(this.state.gutterPixelWidth+a),contentWidth:o-l},m==="fill"||f===e?d[f+1]={position:"over",penalty:0,itemCount:c,startIndex:e,breakBefore:f+1,rowWidth:n,contentWidth:o}:f-1>-1&&(d[f-1]={position:"oneunder",penalty:.11,itemCount:c+-2,startIndex:e,breakBefore:f-1,rowWidth:n+-(this.state.gutterPixelWidth*2+a+v),contentWidth:o-(l+b)});break}else if(f==i.length-1){m!=="fill"&&f==e?d[f+1]={position:"orphan",penalty:.5,itemCount:c,startIndex:e,breakBefore:f+1,rowWidth:n,contentWidth:o}:d[f+1]={position:"last",penalty:.06,itemCount:c,startIndex:e,breakBefore:f+1,rowWidth:n,contentWidth:o};break}else c+-2>0&&!_.inDesignatedRow&&m==="fill"&&(d.mid={position:"mid",penalty:.06,itemCount:c+-2,startIndex:e,breakBefore:f-1,rowWidth:n+-(this.state.gutterPixelWidth*2+a+v),contentWidth:o-(l+b)})}if(d.hasOwnProperty("mid")){let f=d.mid.breakBefore;!d.hasOwnProperty(f)&&i.length<15&&(d[d.mid.breakBefore]=d.mid),delete d.mid}for(let f in d){let v=d[f],b=v.rowWidth/this.state.elWidth;v.distance=Math.abs(1-b)*Math.abs(1-b)*Math.abs(1-b),isNaN(v.penalty)||(v.distance=v.distance+v.penalty)}return this.findValidRowCache[e]=d,d};makeNodes=(e,i,r,n,o)=>{if(e===-1)return;let a={index:parseInt(e),edges:this.findValidRows(e,o),distanceToFirstNode:i,parent:r},l=!1;if(n[e]?a.distanceToFirstNode<n[e].distanceToFirstNode&&(n[e]=a,l=!0):(n[e]=a,l=!0),l){let c=bS.default.keys(a.edges);for(let d=0;d<c.length;d++){let m=a.edges[c[d]];this.makeNodes(parseInt(c[d]),m.distance+a.distanceToFirstNode,a.index,n,o)}}};getItemSize=(e,i)=>{let r=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};isNaN(r.width)&&(r.width=300),isNaN(r.height)&&(r.height=300);let n=e.getAttribute("justify-row-end")==="true"&&!i;return{...r,rowEnd:n}}},ro={name:"justify",displayName:"Justify",tagName:"GALLERY-JUSTIFY",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"End Row Here",name:"justify-row-end",type:"check-box",value:!0}],options:[{labelName:"Row Height",name:"row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]},{type:"more-actions",children:[{labelName:"Clear Designated Rows",name:"clear-designated-rows",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),t.stopPropagation();let e=Array.from(this.state.activeGallery.children).filter(i=>i.hasAttribute("justify-row-end")||i.hasAttribute("justify-row-start"));CargoEditor.mutationManager.execute(()=>{e.forEach(i=>{i.removeAttribute("justify-row-end")})}),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())}}]}],mobileOptions:[{labelName:"Row Height",name:"mobile-row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"mobile-row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]}]};ro.mediaItemDefaults=st(ro.mediaItemOptions);ro.defaults=st(ro.options);ro.mobileDefaults=st(ro.mobileOptions);kg.defaultProps={"show-tags":!0,"show-title":!0,"row-align":ro.defaults["row-align"].value,"row-height":ro.defaults["row-height"].value,gutter:"1rem","mobile-gutter":void 0,"mobile-row-height":void 0,"mobile-row-align":void 0};Jae=Ot(To(De((t,e)=>({adminMode:t.frontendState.adminMode}))(kg)));Zt(Jae,"gallery-justify",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","row-align","row-height","gutter","mobile-gutter","mobile-row-height","mobile-row-align"],{renderIntoShadow:!0})});function Qae(t,e){let i=e.pid;return{isMobileOnly:t.site.mobile_homepage_id==i||t.pages.byId[i]&&t.pages.byId[i].pin&&t.pages.byId[i].pin_options.screen_visibility==="mobile"}}var gr,Ng,xS,gH,vH=M(()=>{Ee();pt();ki();qe();Rt();Ni();ds();Kn();Bi();Ne();gr=pe(we(),1);oe();Ng=new Set;ne||(window.addEventListener("mousedown",t=>{Ng.forEach(e=>{e.setState({noPointerEvents:!0})})}),window.addEventListener("mouseup",t=>{Ng.forEach(e=>{e.setState({noPointerEvents:!1})})}));xS=class extends se{constructor(e){super(e),this.handleWidth=20,this.minHandleOverlap=3,this.maxColumns=12,this.state={columnSetAbove:!1,noPointerEvents:!1,buttonHovered:!1,focused:!1,loaded:!1,adminWindow:!1,showGhost:!1,isDraggingHandle:!1,isDragging:!1,activeIndex:-1,pointerStart:{x:0,y:0},delta:{x:0,y:0},instanceRect:{width:100,height:100,left:-999,top:-999},referenceColumnSpans:[]},this.columnAddOrRemoveObserver=new MutationObserver(this.onColumnAddOrRemove),this.columnAddOrRemoveObserverConfig={attributes:!0,childList:!0,subtree:!1},this.columnObserver=new MutationObserver(this.onColumnChange),this.columnObserverConfig={attributeFilter:["span"],childList:!1,subtree:!1},this.columnCache=[],this.columnOutlineRef=me(),this.gearReaf=me(),this.addThreshold=0,this.removeThreshold=0,this.saveColumnSettings=gr.default.debounce(this.saveColumnSettings,150),this.updateColumns=gr.default.throttle(this.updateColumns,40)}render(e,i){let{emptyColumns:r,gutter:n,columnSpans:o,displaySpans:a,layoutColumns:l,unitsToRemove:c,isMobile:d,mobileStack:m,mobileHideEmpty:f,elWidth:v,gutterWidth:b}=e,{activeIndex:_,delta:E,isDraggingHandle:C,adminWindow:I,showGhost:N,loaded:D,buttonHovered:F,focused:z,noPointerEvents:G,columnSetAbove:Y}=i,L=gr.default.uniq(r).length==1&&r[0]==!0,Z=gr.default.uniq(o).length==1&&o[0]==null,$=(v-b*(l-1))/l,j=o.length<l,ie=[],ae=l%o.length==0||!Z?l:o.length-c;d&&m&&(ae=1);let ee=Math.max(0,(v-b*(ae-1))/ae),J=Math.max(1,b);ee=ee-(J-b);let le=23;for(let K=0;K<ae;K++){let U=(ee+J)*K;ie.push(g("div",{className:"ghost-span",style:{transform:`translateX(${U}px)`,opacity:N?.04:0,width:ee+"px"}},`ghost-${K}`))}return g(te,{children:[g(Vi,{baseNode:this.props.columnInstance}),g("style",{children:r.map((K,U)=>K?`
				::slotted(column-unit:nth-child(${U+1})){
					min-height: 1em;
				}`:"").join(`
`)}),g(fr,{onPointerIn:this.checkForColumnSetAbove,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,buttonHeight:le,buttonMode:"outside",baseNode:this.props.columnInstance,el:this.props.columnInstance,render:K=>{let{pointerAttention:U,overlayPosition:W}=K,re=0,ce=0,fe=-le,be=2;return(W.y<=le||Y)&&(fe=W.height+1,W.height+W.y>Ye.data.window.h+-le&&(fe=-W.y+Ye.data.window.h+-le+1,be=0)),g("div",{ref:this.columnOutlineRef,className:`editor-overlay editor-outline columns-outline${U?" hover":""}${U?" button-hover":""}${z?" focus":""}`,style:{transform:`translate3d(${W.x}px, ${W.y}px, 0)`,width:W.width+"px",height:W.height+"px",display:U||F||z?"block":"none"},children:[(U||z||F)&&ie,(U||z||F)&&!(d&&m)?o.map((Te,_e)=>{let Le=a[_e];if(Te||(Te=l/o.length),_e==o.length-1||Le=="hide"||(re+=Te,re>=l))return null;ce+=$*Te+(Te-1)*b+b;let ze=`${ce+-b*.5}px`,rt=this.handleWidth*-.5;return b<=this.handleWidth-this.minHandleOverlap&&(rt=b*-.5+-this.minHandleOverlap),g(te,{children:[j&&_e<l&&g("div",{style:{pointerEvents:G?"none":"auto",display:U||z||F?"block":"none",transform:`translateX(${ze})`,width:this.handleWidth+"px",marginLeft:`${rt}px`},className:"column-divider-handle",onMouseDown:Ue=>this.onMouseDown(Ue,_e)}),g("div",{style:{display:U||z||F?"block":"none",transform:`translateX(${ze})`,transition:C?"transform .08s cubic-bezier(0, 0, 0.2, 1)":""},className:"column-divider"},`col-${_e}`)]})}):null,g("div",{className:"in-editor-buttons",style:{pointerEvents:G?"none":"auto",transform:`translate(${be}px, ${fe}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:g("div",{className:"pointer-mask",children:[g("button",{className:"columns text",ref:this.gearReaf,onMouseDown:this.launchUIWindow,children:"Columns"}),(!d||this.props.isMobileOnly)&&g(te,{children:[g("button",{onMouseDown:this.removeColumn,className:"remove",children:g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:g("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"})})}),g("button",{onMouseDown:this.addColumn,className:`add ${o.length>=this.maxColumns?"disabled":""}`,children:g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[g("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"}),g("rect",{x:"9.5",y:"4",width:"1",height:"12",class:"button-fill"})]})})]})]})})]})}})]})}checkForColumnSetAbove=()=>{let e=this.props.columnInstance.getBoundingClientRect();document.getElementById("editor-overlay").style.display="none";let i=document.elementFromPoint(e.right-10,e.top-15);document.getElementById("editor-overlay").style.display="",this.setState({columnSetAbove:i?.tagName?.startsWith("COLUMN-")})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.gearReaf.current.getBoundingClientRect(),r=this.props.columnInstance.getBoundingClientRect(),n={x:i.x+0,y:r.y+-190,left:i.left+0,right:i.right+0,top:r.top+0+-190,bottom:r.top+27+-190,width:i.width,height:i.height};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"columns-ineditor",windowAlias:"columns",supportsMobile:!0,positionRect:n,closeButton:!1,closeOnAllClickout:!0,props:{columnNodes:[this.props.columnInstance]}})};addColumn=e=>{e?.preventDefault(),e?.stopPropagation(),!(this.props.columnSpans.length>=this.maxColumns)&&(CargoEditor.mutationManager.execute(()=>{let i=this.columnCache.pop()||document.createElement("column-unit");i.removeAttribute("span"),i.removeAttribute("slot"),i.removeAttribute("data-discarded-column"),this.props.columnInstance.appendChild(i),this.addThreshold>1&&this.updateColumns(this.props.columnSpans.map(r=>{})),this.addThreshold++,clearTimeout(this.addTimeout),this.addTimeout=setTimeout(()=>{this.addThreshold=0},500)}),this.props.columnInstance.render(),this.saveColumnSettings())};removeColumn=e=>{e?.preventDefault(),e?.stopPropagation();let i=e?.altKey||!1,r=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT");r.length!=0&&(CargoEditor.mutationManager.execute(()=>{if(this.props.columnSpans.length==1)Array.from(r[0].childNodes).forEach(n=>{this.props.columnInstance.parentNode.insertBefore(n,this.props.columnInstance)}),this.props.columnInstance.parentNode.insertBefore(document.createElement("br"),this.props.columnInstance),this.props.columnInstance.remove();else{let n=r[r.length-1];if(i){let o=r[r.length-2];Array.from(n.childNodes).forEach(a=>{o.appendChild(a)})}this.columnCache.push(n.cloneNode(!0)),this.waiting=!0,n.remove(),n.setAttribute("data-discarded-column",!0),this.removeThreshold>1&&this.updateColumns(this.props.columnSpans.map(o=>{})),this.removeThreshold++,clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.removeThreshold=0},500)}}),this.props.columnInstance.render())};updateUIWindowPosition=e=>{!this.state.focused||!this.state.UIWindow||(this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow.props.superBadScrollHack.scroll(e))};onMouseDown=(e,i)=>{e.button!=2&&(this.props.columnSpans.length<2||(e.preventDefault(),e.stopPropagation(),this.setState({showGhost:!0,isDraggingHandle:!0,activeIndex:i,pointerStart:{x:e.clientX,y:e.clientY},referenceColumnSpans:this.props.columnSpans,instanceRect:this.props.columnInstance.getBoundingClientRect()},()=>{this.dragTimeout=setTimeout(()=>{document.body.classList.add("dragging")},100),ye.adminWindow.addEventListener("pointermove",this.onPointerMove),ye.adminWindow.addEventListener("pointercancel",this.onPointerUp),ye.adminWindow.addEventListener("mouseup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointercancel",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp)})))};onPointerUp=e=>{clearTimeout(this.dragTimeout),ye.adminWindow.removeEventListener("pointermove",this.onPointerMove),ye.adminWindow.removeEventListener("pointercancel",this.onPointerUp),ye.adminWindow.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),this.setState({showGhost:!1,isDraggingHandle:!1,activeIndex:-1,delta:{x:0,y:0}}),document.body.classList.remove("dragging")};onPointerMove=e=>{e.preventDefault();let{activeIndex:i,pointerStart:r,instanceRect:n,referenceColumnSpans:o,isDraggingHandle:a}=this.state,{gutterWidth:l,displaySpans:c,unitsToRemove:d,layoutColumns:m,units:f}=this.props;if(a){let v=[...o];if(gr.default.uniq(o).length==1&&o[0]==null){let L=0,Z=0,$=0,j=f/v.length-Math.floor(f/v.length),ie=Math.floor(f/v.length),H=v.map((ae,ee)=>{Z=Z+j;let J=ie;return Z>1&&(J=J+1,Z=Z-1),ee==v.length-1&&(J=f-L),L=L+J,J});this.setState({referenceColumnSpans:H});return}let _=(n.width-l*(m-1))/m,E=0,C=[];v.forEach((L,Z)=>{L||(L=m/v.length);let $=_*L+(L-1)*l;(Z==i||Z==i+1)&&C.push({x:E,width:$}),c[Z]!="hide"&&(E+=$+l)});let I=20,{left:N}=n,D={x:e.clientX-(C[1].x+N+-l*.5),y:e.clientY-r.y},F=v.map((L,Z)=>{let $=L,j=_*L+(L-1)*l;return Z==i?($=(j+D.x+l)/(_+l),Math.round(Math.max(Math.min($,f-1),1))):c[Z]=="hide"?L:Math.round(Math.max(Math.min($,f-1),1))}),z=i+1;for(;c[z]=="hide";)z++;let G=gr.default.sum(F)-F[z];F[z]=f-G,F[z]==0&&(F[z]+=1,F[i]-=1),gr.default.uniq(F).length==1&&gr.default.sum(F)==f&&(F=F.map(L=>{})),Math.abs(D.x)>4&&this.updateColumns(F),this.setState({delta:D})}};checkColumns=()=>{let{layoutColumns:e,columnSpans:i,units:r}=this.props;if(i.length==0||gr.default.uniq(i).length==1&&i[0]==null)return;let o=i.includes(void 0),a=gr.default.sum(i),l=[...i],c=!1;if(a!=r||o){if(a>r)c=!0;else if(a<=r)if(o){let m=r-a,f=i.filter(b=>b==null).length,v=Math.floor(m/f);i.forEach((b,_)=>{if(_==i.length-1&&m>0)l[_]=m;else if(b==null&&m==0){let E=_;for(;E>=0&&(i[E]<2||i[E]==null);)E--;i[E]>1?(l[_]=Math.floor(i[E]/2),l[E]=i[E]-l[_]):c=!0}else b==null?(l[_]=v,m-=v):l[_]=b})}else{let m=r-a;l[l.length-1]=m+l[l.length-1]}(gr.default.uniq(l).length==1&&gr.default.sum(l)==r||c)&&(l=l.map(m=>{})),this.updateColumns(l)}else this.updateColumns(i)};updateColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT"),r=[];i.forEach((n,o)=>{e[o]==null?r.push([n,null]):parseInt(n.getAttribute("span"))!=e[o]&&r.push([n,e[o]])}),r.length>0&&(CargoEditor?.mutationManager?.execute(()=>{r.forEach(([n,o])=>{o===null?n.removeAttribute("span"):n.setAttribute("span",o)})}),this.saveColumnSettings(),this.props.columnInstance.render())};saveColumnSettings=()=>{ye.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"last-column-settings":this.getColumnInfo()}}})};onDragOver=(e,i,r)=>{r.fromOutside&&!r.inAdmin?(He.activateHoverElement(this.props.columnInstance),He.lockItem(this.props.columnInstance)):(He.unlockItem(this.props.columnInstance),He.deactivateHoverElement(this.props.columnInstance))};onDragStart=(e,i,r)=>{He.activateHoverElement(this.props.columnInstance),He.lockItem(this.props.columnInstance)};onDragEnd=(e,i)=>{He.unlockItem(this.props.columnInstance),He.testHover()};componentDidUpdate(e,i){(!gr.default.isEqual(e.columnSpans,this.props.columnSpans)||e.layoutColumns+e.unitsToRemove!=this.props.layoutColumns+this.props.unitsToRemove)&&(Math.abs(e.layoutColumns+e.unitsToRemove-(this.props.layoutColumns+this.props.unitsToRemove))>2?this.updateColumns(this.props.columnSpans.map(r=>{})):this.checkColumns()),(e.gutter!==this.props.gutter||e["mobile-gutter"]!==this.props["mobile-gutter"])&&this.updateEditorRect()}updateEditorRect=gr.default.throttle(()=>{He.updateElementRect(this.props.columnInstance)},120,{leading:!0,trailing:!0});getColumnInfo=()=>({columnSizes:this.props.columnSpans.map(e=>e??0),units:this.props.units,columns:this.props.columnSpans.length,emptySet:gr.default.uniq(this.props.emptyColumns).length==1&&this.props.emptyColumns[0]==!0});onColumnAddOrRemove=e=>{let i=!1;e.forEach(r=>{Array.from(r.addedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0),Array.from(r.removedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0)}),i&&(this.columnObserver.disconnect(),i&&(Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT").forEach(n=>{this.columnObserver.observe(n,this.columnObserverConfig)}),this.state.UIWindow?.setState?.({activeSettings:this.state.UIWindow.getColumnSettingsFromNodes()}))),this.state.UIWindow?.onMutation?.(),this.props.columnInstance.render()};onColumnChange=e=>{let i=!0;e.forEach(r=>{r.type=="attributes"&&r.attributeName==="span"&&(i=!0)}),i&&(this.props.columnInstance.render(),this.state.UIWindow?.onMutation?.())};setColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(o=>o.tagName=="COLUMN-UNIT"),r=i.length;if(r!=e){if(r<e)for(var n=0;n<e-r;n++){let o=this.columnCache.pop()||document.createElement("column-unit");o.removeAttribute("span"),this.props.columnInstance.appendChild(o)}else if(e<r)for(var n=r-1;n>=e;n--){let a=i[n];this.columnCache.push(a.cloneNode(!0)),a.setAttribute("data-discarded-column",!0),a.remove()}this.saveColumnSettings()}};resetColumns=()=>{this.updateColumns(this.props.columnSpans.map(e=>{}))};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount(){Ng.add(this),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragend",this.onDragEnd),ye.globalDragEventController.on("drop",this.onDragEnd),this.columnAddOrRemoveObserver.observe(this.props.columnInstance,this.columnAddOrRemoveObserverConfig),Array.from(this.props.columnInstance.children).filter(r=>r.tagName=="COLUMN-UNIT").forEach(r=>{this.columnObserver.observe(r,this.columnObserverConfig)}),this.checkColumns(),this.props.columnInstance._editorInterface=this;let i=[];if(Array.from(this.props.columnInstance.childNodes).forEach((r,n)=>{r.tagName!=="COLUMN-UNIT"&&(this.props.columnInstance.removeChild(r),i.push(r))}),i.length>0&&console.warn("removed stray elements from column set",i),this.props.columnInstance._newColumnSet){delete this.props.columnInstance._newColumnSet,He.activateHoverElement(this.props.columnInstance),He.lockItem(this.props.columnInstance);let r=n=>{this.showOutlinesTimeout=setTimeout(()=>{He.unlockItem(this.props.columnInstance),He.testHover()},500),window.removeEventListener("mousedown",r)};window.addEventListener("mousedown",r)}this.testHoverTimeout=setTimeout(()=>{He.testHover()},300)}componentWillUnmount(){Ng.delete(this),clearTimeout(this.testHoverTimeout),this.state.UIWindow?.closeWindow?.(),clearTimeout(this.showOutlinesTimeout),this.updateColumns.cancel(),this.columnAddOrRemoveObserver.disconnect(),this.columnObserver.disconnect(),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragend",this.onDragEnd),ye.globalDragEventController.off("drop",this.onDragEnd),delete this.props.columnInstance._editorInterface}};gH=Ot(De(Qae,null)(xS))});var yH,Og,ele,bH=M(()=>{Ee();qe();pt();Ne();ea();Bi();Pg();yH=pe(we(),1);Wi();ki();il();vH();oe();Og=class extends se{constructor(e){super(e),this.state={mobileActive:Ye.data.mobile.active,elWidth:0,gutterWidth:0,hasSizes:!1,incrementLayout:0},this.props.baseNode.render=()=>{this.setState({incrementLayout:this.state.incrementLayout++})}}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-stack":a,"mobile-hide-empty":l,"mobile-gutter":c,units:d}=e,{gutterWidth:m,mobileActive:f,hasSizes:v}=i,{elWidth:b}=i;v||(b=this.props.baseNode.offsetWidth);let _=[],E="";f?c===void 0?(_=Qt(e.gutter,"rem"),_[1].indexOf("calc(")>-1?E=_[1].replace("calc(","("):E=_.join(""),E="calc( var(--mobile-padding-offset, 1) * "+E+" )"):(_=Qt(c,"rem"),E=_.join(""),E.includes("rem")&&(E="calc( var(--mobile-padding-offset, 1) * "+E+" )")):(_=Qt(e.gutter,"rem"),E=_.join(""));let C=Array.from(n.children).filter($=>$.nodeName==="COLUMN-UNIT"&&!$.hasAttribute("data-discarded-column"));Array.from(n.children).filter($=>$.nodeName==="COLUMN-UNIT"&&$.hasAttribute("data-discarded-column")).forEach($=>{$.remove()});let N=C.map($=>!Array.from($.childNodes).some(j=>j.nodeType===Node.ELEMENT_NODE||j.nodeType===Node.TEXT_NODE&&j.nodeValue.trim().length>0)),D=C.map($=>parseInt($.getAttribute("span"))||void 0),F=0,z=D.map(($,j)=>(f&&N[j]&&(l||a)?(F=F+(parseInt($)||1),$="hide"):$=$||"uniform",$)),G=z.filter($=>$=="uniform"||$=="hide").length==z.length,Y=Math.max(C.length,this.props.units);G&&(F=z.filter($=>$=="hide").length),Y=Y-F;let L=m,Z="";if(f&&a){Z=`::slotted(column-unit){
				--column-width: ${b}px;
				--resize-parent-width: ${b}px;

			}`;let $=yH.default.findLastIndex(z,j=>j!=="hide");z.forEach((j,ie)=>{j=="hide"?Z+=`
					::slotted(column-unit[slot="${ie}"]) {
						display: none;
					}`:ie<$&&(Z+=`
					::slotted(column-unit[slot="${ie}"]) {
						margin-bottom: ${m}px;
					}`)})}else{let $=ju(G?C.length-F:Y,m,b),j=$.columnAndGutterMap;L=$.gutterPixelWidth;let ie=$.columnWidth,H=0;Z=z.map((ae,ee)=>{let J;switch(ae){case"uniform":return J=j[H]?.right-j[H]?.left||10,H+=1,`::slotted(column-unit[slot="${ee}"]) {
							--column-width: ${J}px;
							--resize-parent-width: ${J}px;
						}`;case"hide":return`::slotted(column-unit[slot="${ee}"]) {
							display: none;
						}`;default:return J=j[H+(ae+-1)]?.right-j[H]?.left||10,H+=ae,`::slotted(column-unit[slot="${ee}"]) {
							${J<0?`
								margin-right: ${J+L}px;
								--column-width: 0px;
								--resize-parent-width: 0px;
							`:`
								--column-width: ${J}px;
								--resize-parent-width: ${J}px;							
							`}

						}`}}).join(`
				`)}return C.forEach(($,j)=>{$.setAttribute("slot",j)}),Ge(g(te,{children:[g(Tn,{adminMode:r,baseNode:n,customElementMode:!0,scrollContext:this.props.scrollContext,children:[g("style",{children:`
						:host{
							visibility: ${v?"visible":"hidden"};
			 				--columns-gutter: ${L}px;
							margin-top: calc(var(--gutter-expand, 0) * ${L}px);
		
							width: 100%;
							position: relative;
							contain: layout;
							clear: both;							

							${f&&a?`
									display: flex;
									align-items: start;
									justify-content: flex-start;
									flex-direction: column;
									flex-wrap: nowrap;
									height: auto;
								`:`
									display: flex;
								    align-items: stretch;
								    justify-content: flex-start;							
									flex-direction: row;
									flex-wrap: nowrap;							
								`}
						}
		
					`}),g("style",{children:`
		
						::slotted(column-unit:not(:last-child)) {
						    margin-right: ${f&&a?0:L+"px"};
						}
		
						::slotted(column-unit) {
							display: block;
							word-wrap: break-word;
							position: relative;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: ${f&&a?"auto":"var(--column-width)"};
						    width: var(--column-width);
						}
		
						::slotted(column-unit:last-child) {
						    flex-grow: 1;
						}
		
						${Z}				
					`}),g(Vr,{values:{elWidth:"100%",gutterWidth:E},style:{position:"absolute",inset:"0 auto"},onResize:this.onResize}),C.map(($,j)=>g("slot",{name:j}))]}),r&&o.isEditing&&!ne&&g(gH,{elWidth:b,gutterWidth:m,emptyColumns:N,isMobile:f,mobileStack:a,mobileHideEmpty:l,layoutColumns:Y,units:d,columnSpans:D,unitsToRemove:F,displaySpans:z,gutter:E,columnInstance:n})]}),this.props.baseNode.shadowRoot)}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onMobileChange=e=>{this.setState({mobileActive:e})};componentDidMount(){Ye.on("mobile-change",this.onMobileChange)}componentWillUnmount(){Ye.off("mobile-change",this.onMobileChange)}};Og.defaultProps={units:12,gutter:"1rem","mobile-stack":!0,"mobile-hide-empty":!1,"mobile-gutter":void 0};ele=Ot(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Og));Zt(ele,"column-set",["units","gutter","mobile-gutter","mobile-stack","mobile-hide-empty"])});var WLe,SS,wH,xH=M(()=>{Ee();qe();Rt();ds();Ni();WLe=pe(we(),1);Kn();oe();SS=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{audioPlayerInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:a,focused:l}=i,c=23;return g(te,{children:[g("style",{id:"audio-player-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),g(fr,{hasFocus:l,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.audioPlayerInstance,render:d=>{let{pointerAttention:m,overlayPosition:f}=d,v=0;return f.y<=1&&(v=Math.min(-f.y+1,f.height+-c+1)),g(te,{children:[g(Vi,{baseNode:r,overlayPosition:f,inFront:!1,overlayMode:!0}),g("div",{className:`editor-overlay editor-outline${m?" hover":""}${m?" button-hover":""}${l?" focus":""}`,style:{transform:`translate3d(${f.x}px, ${f.y}px, 0)`,width:f.width+"px",height:f.height+"px",display:m||a||l?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${v}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[g("button",{onMouseDown:b=>{this.launchUIWindow(b)},ref:this.AudioPlayerButtonRef,className:"text",children:"Audio Player"}),e.children]}),e.otherUI]})]})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.audioPlayerInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:10};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"audioplayer-ineditor",windowAlias:"audioplayer",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!1,props:{audioPlayerNode:this.props.audioPlayerInstance}})};scrollIntoView=()=>{let e=this.props.audioPlayerInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.audioPlayerInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.audioPlayerInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.audioPlayerInstance._editorInterface}},wH=SS});var QLe,_S,mp,ES,tle,SH=M(()=>{Ee();qe();Ls();QLe=pe(we(),1);Ne();pt();Wi();ki();xH();oe();ne||(_S=new ResizeObserver(t=>{t.forEach(e=>{if(mp.has(e.target)){let i=mp.get(e.target),r=e.borderBoxSize[0]||e.borderBoxSize;i.setState({size:{width:r.inlineSize,height:r.blockSize}})}})}));mp=new Map,ES=class extends se{constructor(e){super(e);let i=this.getFiletype(e.src);this.audio_track=me(),this.bar=me(),this.track_buffer=me(),this.current_time=me(),this.progressIndicator=me(),this.state={size:{width:100,height:100},mounted:i!=="stream",filetype:i,seeking:!1,mouseInteractionDisabled:!1,mouseMoveActive:!1,dragging:!1,streaming:!1,paused:!0,playing:!1,started:!1,ended:!1,preventTransition:!1,currentProgress:0,currentBuffer:0,remainingBuffer:0,currentTime:"0:00",rawTimeStamp:0,totalTime:"0:00",progress:0,hasError:!1,hasMetadata:!1}}render(e,i){let{baseNode:r,adminMode:n,label:o,loop:a,"total-time":l,"playback-time":c,"seek-controls":d,"browser-default":m,pageInfo:f}=e,{visible:v}=i,b=!this.state.paused||this.state.started,_=this.props.src?this.props.src:null;return Ge(g(te,{children:[n&&f.isEditing&&g(wH,{audioPlayerInstance:r}),g("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
						--audio-player-progress: ${this.state.currentProgress/100||0};
						--audio-player-buffer-progress: ${this.state.currentBuffer/100||0};
						--audio-player-buffer-remaining: ${this.state.remainingBuffer/100||0};
						max-width: 100%;
						${m?`
						    width: 400px;
						    `:`
						    position: relative;
						    display: inline-flex;
						    align-items: stretch;
						    width: 100%;`}
					}

					${m&&`
					audio {
						width: 100%;
					}

					[part="time-bar"], 
					[part="button"],
					[part="separator"]{
						display:none!important;
					}						
					`}



					[part="buffer"],
					[part="progress"] {
						display: ${b&&!this.state.streaming?"block":"none"};
					}

					[part="label"] {
						display: ${this.state.paused&&!this.state.started?"block":"none"};
					}

					[part="current-time"] {
						display: ${!this.state.streaming&&this.state.started?"block":"none"};
					}

					[part="stream-anim"] {
						display: ${b&&this.state.streaming?"block":"none"};
					}

					[part="total-time"] {
						display: ${b&&!this.state.streaming?"block":"none"};
					}

					[part="buffer"]{
						left: calc( var(--audio-player-buffer-progress, 0) * 100% );
						width: calc( var(--audio-player-buffer-remaining, 0) * 100% );
					}

					[part="progress"]{
						width: calc( var(--audio-player-progress, 0) * 100% );
					}

					[part="stream-anim"] > span {
					  animation-name: period;
					  animation-duration: 1.5s;
					  animation-iteration-count: infinite;
					  animation-timing-function: steps(2, end);  
					}

					[part="stream-anim"] > span:before {
						content: '.';
					}

					[part="stream-anim"] > span:nth-child(1){
					  animation-delay: -.4s;
					}

					[part="stream-anim"] > span:nth-child(2){
					  animation-delay: -.2s;
					}

					[part="stream-anim"] > span:nth-child(3){
					  animation-delay: 0s;
					}

					@keyframes period {
					  from {
					    visibility: hidden;
					  }
					  to {
					    visibility: visible;
					  }
					   
					}					
				
					`}),g("div",{part:"button",onClick:E=>this.togglePlay(E),children:g("svg",{"vector-effect":"non-scaling-stroke",part:this.state.paused?"play-icon icon":"pause-icon icon",x:"0px",y:"0px",viewBox:this.state.paused?"0 0 11.3 12":"0 0 10 12",children:this.state.paused?g("polygon",{points:"0 0 0 12 11.3 6 0 0",part:"play-icon-path icon-path"}):g(te,{children:[g("polygon",{part:"pause-icon-path icon-path",points:"0 0 0 12 1 12 4 12 4 0 1 0 0 0"}),g("polygon",{part:"pause-icon-path icon-path",points:"9 0 6 0 6 12 9 12 10 12 10 0 9 0"})]})})}),g("div",{part:"separator",children:"\xA0"}),g("div",{draggable:this.props.adminMode?"true":null,part:"time-bar",ref:this.bar,onMouseDown:E=>this.onMouseDown(E),onTouchStart:E=>this.onMouseDown(E),onTouchEnd:E=>this.onMouseUp(E),children:[g("div",{ref:this.track_buffer,part:"buffer",children:" "}),g("div",{part:"progress",children:g("div",{ref:this.progressIndicator,part:"progress-indicator"})}),g("div",{part:"label",children:this.state.hasError?"Unable to load file":g(te,{children:this.props.label})}),g("div",{part:"current-time",ref:this.current_time,children:this.state.currentTime}),g("div",{part:"stream-anim",children:[g("span",{part:"animated-period period-one"}),g("span",{part:"animated-period period-two"}),g("span",{part:"animated-period period-three"})]}),g("div",{part:"total-time",children:this.state.totalTime})]}),g("audio",{draggable:this.props.adminMode?"true":null,part:"audio-element",controls:m===!0,src:this.state.mounted?_:null,ref:this.audio_track,loop:this.props.loop===!0||this.props.loop==="true"?!0:void 0,preload:this.state.filetype==="file"?"metadata":null,onProgress:E=>this.onProgress(E),onLoadedMetaData:E=>this.onLoadedMetadata(E),onTimeUpdate:E=>this.updatePlayerTime(E),onSeeking:E=>this.onSeekStart(E),onSeeked:E=>this.onSeekEnd(E),onEnded:E=>this.onTrackEnd(E),onError:E=>this.onError(E),onCanPlay:E=>this.clearError(E)})]}),r.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};setPlayState=e=>{this.setState({playing:!0,paused:!1,started:!0,streaming:this.state.filetype==="stream"},()=>{this.props.baseNode.setAttribute("status",this.state.filetype==="stream"?"streaming":"playing")})};setPauseState=e=>{this.setState({paused:!0},()=>{this.props.baseNode.setAttribute("status","stopped")}),this.state.streaming&&this.setInitialState()};setInitialState=(e,i)=>{this.state.streaming&&this.setState({started:!1}),this.setState({playing:!1,paused:!0,animIndex:0,currentTime:0,currentProgress:0,currentBuffer:0,remainingBuffer:0,rawTimeStamp:0},()=>{this.props.baseNode.setAttribute("status",i?.error===!0?"error":"stopped")})};onMouseDown=e=>{this.state.mouseInteractionDisabled||this.state.streaming||e.button===2||this.state.started===!1||(e.preventDefault(),document.body.classList.add("audio-player-dragging"),this.calculateProgressPosition(e),this.setState({mouseMoveActive:!0,preventTransition:!0,dragging:!1}),this.bar.current.addEventListener("mousemove",this.onMouseInteraction),this.bar.current.addEventListener("touchmove",this.onMouseInteraction),window.addEventListener("mousemove",this.onMouseInteraction),window.addEventListener("mouseup",this.onMouseUp))};calculateProgressPosition=e=>{let i=this.bar.current.getBoundingClientRect(),r=e.clientX||e.touches[0].clientX;r<i.left?this.audio_track.current.currentTime=0:r>i.right?this.audio_track.current.currentTime=this.audio_track.current.duration:this.audio_track.current.currentTime=this.audio_track.current.duration*((r-i.left)/this.state.size.width),this.updatePlayerTime()};onMouseInteraction=e=>{this.state.mouseInteractionDisabled||this.state.streaming||!this.state.started||!this.state.mouseMoveActive||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING||(this.calculateProgressPosition(e),this.setState({dragging:!0}))};onMouseUp=e=>{document.body.classList.remove("audio-player-dragging"),this.state.dragging===!0&&(!this.state.mouseInteractionDisabled&&!this.state.streaming&&this.state.started&&this.state.mouseMoveActive&&this.audio_track.current.readyState!==this.audio_track.current.HAVE_NOTHING&&this.calculateProgressPosition(e),this.state.paused===!1&&this.state.started===!0&&(this.audio_track.current.currentTime>=this.audio_track.current.duration-.001?this.setPauseState():this.audio_track.current.play())),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("touchmove",this.onMouseInteraction),this.setState({dragging:!1,mouseMoveActive:!1})};onSeekStart=e=>{this.setState({seeking:!0})};onSeekEnd=e=>{this.setState({seeking:!1})};togglePlay=e=>{if(!(this.state.mouseInteractionDisabled||!this.state.mounted))if(this.audio_track.current.paused){let i=this.audio_track.current.play();mp.forEach((r,n)=>{r!==this&&(r.audio_track.current.pause(),r.setPauseState())}),i?i.then(function(){this.setPlayState(),this.setState({preventTransition:!1})}.bind(this)).catch(this.onError).finally(function(){this.setState({preventTransition:!0})}.bind(this)):this.setPlayState()}else this.audio_track.current.pause(),this.setPauseState()};onError=e=>{this.props.adminMode||(this.setState({hasError:!0},()=>{this.setInitialState(null,{error:!0})}),e instanceof DOMException&&console.error(e))};clearError=e=>{this.state.hasError&&this.setState({hasError:!1},()=>{this.setInitialState(null,{error:!1})})};onTrackEnd=e=>{this.state.dragging!==!0&&(this.setState({ended:!0}),this.setPauseState())};onLoadedMetadata=e=>{if(!this.audio_track.current)return;let i=this.timestampToHumanReadable(this.audio_track.current.duration);this.setState({totalTime:i,streaming:!1,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","stopped")})};onProgress=e=>{this.audio_track.current&&(this.state.filetype==="stream"?this.setState({totalTime:0,streaming:!0,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","streaming")}):this.setState({streaming:!1},()=>{this.props.baseNode.setAttribute("status","playing")}),this.updateBufferSize())};updatePlayerTime=e=>{if(cancelAnimationFrame(this.updateFrame),!this.state.started||!this.audio_track.current||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING)return;this.setState({rawTimeStamp:this.audio_track.current.currentTime});let{"browser-default":i}=this.props;if(i)return;let r=!1,n=this.audio_track.current.currentTime,o=this.timestampToHumanReadable(n),a=n/this.audio_track.current.duration*100,l=this.state.size.width,c=parseInt(window.getComputedStyle(this.progressIndicator.current).width);(this.props.loop==="true"||this.props.loop===!0)&&(a>=99.5||a===0)&&(r=!0),l*(a/100)<c&&(a=(100-a)*(c/l)),this.setState(d=>{let m=a;return d.dragging&&Math.abs(d.currentProgress-a)>1&&(m=a*.1+d.currentProgress*.9),this.updateBufferSize(.01*m*this.audio_track.current.duration),{currentTime:o,currentBuffer:m,currentProgress:m,preventTransition:r}}),this.state.dragging&&(this.updateFrame=requestAnimationFrame(this.updatePlayerTime))};getFiletype=(e="")=>{let i=!1;try{i=new URL(e).pathname.split("/").pop()?.indexOf(".")>-1}catch(n){console.error(n)}return i&&["m3u","pls","m3u8","asx"].some(n=>e.toLowerCase().endsWith(n))?"playlist":i?"file":"stream"};updateBufferSize=e=>{if(!this.audio_track.current)return;let i,r=e||this.audio_track.current.currentTime,n=0;for(var o=0;o<this.audio_track.current.buffered.length;o++)if(r>=this.audio_track.current.buffered.start(o)&&r<=this.audio_track.current.buffered.end(o)){i=Math.max(this.audio_track.current.buffered.end(o)-r,0),n=i/this.audio_track.current.duration*100;break}n!==0&&(n+=1),this.setState({remainingBuffer:n})};timestampToHumanReadable=e=>{if(isNaN(e))return"0:00";var i=Math.floor(e%60),r=Math.floor(e/60),n=Math.floor(r/60);return i<10&&(i="0"+i),n>0?(r=r-n*60,r<10&&(r="0"+r),n+":"+r+":"+i):r+":"+i};onDragStart=e=>{this.setState({started:!1}),this.audio_track.current.pause(),this.setInitialState(),e.dataTransfer.setData("audio-player-drag","true")};componentDidMount(){this.setPauseState(),this.state.mounted||setTimeout(()=>{this.setState({mounted:!0})},this.state.filetype==="stream"?2e3:0),ne||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),mp.set(this.bar.current,this),_S.observe(this.bar.current))}componentDidUpdate(e){e.src!==this.props.src&&(this.setState({filetype:this.getFiletype(this.props.src)}),e.src&&e.src.substring(0,5)==="blob:"&&(this.state.rawTimeStamp!==0&&(this.audio_track.current.currentTime=this.state.rawTimeStamp),this.state.paused===!1&&this.audio_track.current.play()))}componentWillUnmount(){ne||(this.props.baseNode.removeEventListener("dragstart",this.onDragStart),mp.delete(this.bar.current),_S.unobserve(this.bar.current)),window.removeEventListener("mouseup",this.onMouseUp)}},tle=Ot(De((t,e)=>({adminMode:t.frontendState.adminMode}))(ES));Zt(tle,"audio-player",["src","label","loop","total-time","playback-time","seek-controls","browser-default"])});var EH=V((aFe,_H)=>{"use strict";_H.exports=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var r,n,o;if(Array.isArray(e)){if(r=e.length,r!=i.length)return!1;for(n=r;n--!==0;)if(!t(e[n],i[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(i).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(i,o[n]))return!1;for(n=r;n--!==0;){var a=o[n];if(!t(e[a],i[a]))return!1}return!0}return e!==e&&i!==i}});function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ro.apply(null,arguments)}function Ku(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;i[r]=t[r]}return i}function ile(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rle(t){var e=ile(t,"string");return typeof e=="symbol"?e:e+""}function lle(){let[t,e]=cr({});return{mapInstances:t,addMapInstance:(o,a="default")=>{e(l=>Ro({},l,{[a]:o}))},removeMapInstance:(o="default")=>{e(a=>Ku(a,[o].map(rle)))},clearMapInstances:()=>{e({})}}}function ule(t){let{onLoad:e,apiKey:i,version:r,libraries:n=[]}=t,o=Ku(t,ole),[a,l]=cr(cl.loadingStatus),[c,d]=qn((b,_)=>Ro({},b,{[_.name]:_.value}),{}),m=Vt(()=>n?.join(","),[n]),f=Vt(()=>JSON.stringify(Ro({apiKey:i,version:r},o)),[i,r,o]),v=Ds(async b=>{var _;if(c[b])return c[b];if(!((_=google)!=null&&(_=_.maps)!=null&&_.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let E=await window.google.maps.importLibrary(b);return d({name:b,value:E}),E},[c]);return Mt(()=>{(async()=>{try{let b=Ro({key:i},o);r&&(b.v=r),m?.length>0&&(b.libraries=m),b.solutionChannel===void 0?b.solutionChannel=ale:b.solutionChannel===""&&delete b.solutionChannel,await cl.load(b,_=>l(_));for(let _ of["core","maps",...n])await v(_);e&&e()}catch(b){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",b)}})()},[i,m,f]),{status:a,loadedLibraries:c,importLibrary:v}}function cle(t,e){for(let i of fle){let r=e[i],n=TH[i];Mt(()=>{if(!t||!r)return;let o=google.maps.event.addListener(t,n,a=>{r(dle(n,t,a))});return()=>o.remove()},[t,n,r])}}function dle(t,e,i){let r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(ple.includes(t)){let o=r,a=e.getCenter(),l=e.getZoom(),c=e.getHeading()||0,d=e.getTilt()||0,m=e.getBounds();return(!a||!m||!Number.isFinite(l))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),o.detail={center:a?.toJSON()||{lat:0,lng:0},zoom:l||0,heading:c,tilt:d,bounds:m?.toJSON()||{north:90,east:180,south:-90,west:-180}},o}else if(hle.includes(t)){var n;if(!i)throw new Error("[createEvent] mouse events must provide a srcEvent");let o=r;return o.domEvent=i.domEvent,o.stoppable=!0,o.stop=()=>i.stop(),o.detail={latLng:((n=i.latLng)==null?void 0:n.toJSON())||null,placeId:i.placeId},o}return r}function mle(t,e){let i=dr(void 0);(!i.current||!(0,IH.default)(e,i.current))&&(i.current=e),Mt(t,i.current)}function vle(t,e){let i={},r=Object.keys(e);for(let n of r)gle.has(n)&&(i[n]=e[n]);mle(()=>{t&&t.setOptions(i)},[i])}function MH(){var t;return((t=Mi(vp))==null?void 0:t.status)||vs.NOT_LOADED}function yle(t,e){let{viewport:i,viewState:r}=e,n=!!i;return Tr(()=>{if(!t||!r)return;let{latitude:o,longitude:a,bearing:l,pitch:c,zoom:d}=r;t.moveCamera({center:{lat:o,lng:a},heading:l,tilt:c,zoom:d+1})},[t,r]),n}function ble(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function RH(t){return ble(t)?t:t.toJSON()}function wle(t,e,i){let r=i.center?RH(i.center):null,n=null,o=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(n=r.lat,o=r.lng);let a=Number.isFinite(i.zoom)?i.zoom:null,l=Number.isFinite(i.heading)?i.heading:null,c=Number.isFinite(i.tilt)?i.tilt:null;Tr(()=>{if(!t)return;let d={},m=!1;n!==null&&o!==null&&(e.current.center.lat!==n||e.current.center.lng!==o)&&(d.center={lat:n,lng:o},m=!0),a!==null&&e.current.zoom!==a&&(d.zoom=a,m=!0),l!==null&&e.current.heading!==l&&(d.heading=l,m=!0),c!==null&&e.current.tilt!==c&&(d.tilt=c,m=!0),m&&t.moveCamera(d)})}function Sle(){let[t,e]=cr(null),i=Ds(r=>e(r),[e]);return[t,i]}function kH(){return MH()===vs.LOADED}function _le(){let[,t]=qn(e=>e+1,0);return t}function Ele(t,e){let i=t.getCenter(),r=t.getZoom(),n=t.getHeading()||0,o=t.getTilt()||0,a=t.getBounds();(!i||!a||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:i?.toJSON()||{lat:0,lng:0},zoom:r||0,heading:n,tilt:o})}function Cle(t){let e=_le(),i=dr({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return Mt(()=>{if(!t)return;let r=google.maps.event.addListener(t,"bounds_changed",()=>{Ele(t,i),e()});return()=>r.remove()},[t,e]),i}function Ale(t,e){let i=kH(),[r,n]=cr(null),[o,a]=Sle(),l=Cle(r),{id:c,defaultBounds:d,defaultCenter:m,defaultZoom:f,defaultHeading:v,defaultTilt:b,reuseMaps:_,renderingType:E,colorScheme:C}=t,I=Ku(t,Ple),N=t.zoom!==void 0||t.defaultZoom!==void 0,D=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!N||!D)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!I.center&&m&&(I.center=m),!I.zoom&&Number.isFinite(f)&&(I.zoom=f),!I.heading&&Number.isFinite(v)&&(I.heading=v),!I.tilt&&Number.isFinite(b)&&(I.tilt=b);for(let z of Object.keys(I))I[z]===void 0&&delete I[z];let F=dr();return Mt(()=>{if(!o||!i)return;let{addMapInstance:z,removeMapInstance:G}=e,{mapId:Y}=t,L=`${Y||"default"}:${E||"default"}:${C||"LIGHT"}`,Z,$;if(_&&Gu.has(L)?($=Gu.pop(L),Z=$.getDiv(),o.appendChild(Z),$.setOptions(I),setTimeout(()=>$.setCenter($.getCenter()),0)):(Z=document.createElement("div"),Z.style.height="100%",o.appendChild(Z),$=new google.maps.Map(Z,Ro({},I,E?{renderingType:E}:{},C?{colorScheme:C}:{}))),n($),z($,c),d){let{padding:j}=d,ie=Ku(d,Ile);$.fitBounds(ie,j)}else(!N||!D)&&$.fitBounds({east:180,west:-180,south:-90,north:90});if(F.current){let{mapId:j,cameraState:ie}=F.current;j!==Y&&$.setOptions(ie)}return()=>{F.current={mapId:Y,cameraState:l.current},Z.remove(),_?Gu.push(L,$):google.maps.event.clearInstanceListeners($),n(null),G(c)}},[o,i,c,t.mapId,t.renderingType,t.colorScheme]),[r,a,l]}function Tle(...t){let e=JSON.stringify(t);CH.has(e)||(CH.add(e),console.error(...t))}function Mle(t){let e=kH(),i=Mi(vp);return Mt(()=>{!e||!i||i.importLibrary(t)},[e,i,t]),i?.loadedLibraries[t]||null}function Rle(t,e,i){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");let r=t.style;if(i==null){if(e==null)return;for(let n in e)e.hasOwnProperty(n)&&PH(r,n,e[n]);return}for(let n in i)i.hasOwnProperty(n)&&(e==null||!e.hasOwnProperty(n))&&(n.indexOf("--")===0?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="");if(e!=null)for(let n in e){let o=e[n];e.hasOwnProperty(n)&&i[n]!==o&&PH(r,n,o)}}function PH(t,e,i){let r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i=="number"&&i!==0&&!Nle(e)?t[e]=i+"px":e==="float"?t.cssFloat=i:t[e]=(""+i).trim()}function Nle(t){return kle.has(t)}function Dg(t,e,i){Mt(()=>{if(!t||!e||!i)return;let r=google.maps.event.addListener(t,e,i);return()=>r.remove()},[t,e,i])}function gp(t,e,i){Mt(()=>{t&&(t[e]=i)},[t,e,i])}function Dle(t){let[e,i]=cr(null),[r,n]=cr(null),o=dr(null),a=Lg(),l=Mle("marker"),{children:c,className:d,style:m,onClick:f,onDrag:v,onDragStart:b,onDragEnd:_,collisionBehavior:E,clickable:C,draggable:I,position:N,title:D,zIndex:F}=t,z=Oa.count(c);return Mt(()=>{if(!a||!l)return;let G=new l.AdvancedMarkerElement;G.map=a,i(G);let Y=null;return z>0&&(Y=document.createElement("div"),G.content=Y,n(Y)),()=>{var L;G.map=null,(L=Y)==null||L.remove(),i(null),n(null)}},[a,l,z]),Mt(()=>{!e||!e.content||(e.content.className=d||"")},[e,d]),gp(r,"className",d??""),Mt(()=>{r&&(Rle(r,m||null,o.current),o.current=m||null)},[r,d,m]),gp(e,"position",N),gp(e,"title",D??""),gp(e,"zIndex",F),gp(e,"collisionBehavior",E),Mt(()=>{e&&(I!==void 0?e.gmpDraggable=I:v||b||_?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,I,v,_,b]),Mt(()=>{e&&(C!==void 0?e.gmpClickable=C:f?e.gmpClickable=!0:e.gmpClickable=!1)},[e,C,f]),Dg(e,"click",f),Dg(e,"drag",v),Dg(e,"dragstart",b),Dg(e,"dragend",_),[e,r]}function Fle(t){let[e,i]=cr(null),r=Lg(),{onClick:n,onDrag:o,onDragStart:a,onDragEnd:l,onMouseOver:c,onMouseOut:d}=t,m=Ku(t,Lle),{position:f,draggable:v}=m;return Mt(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}let b=new google.maps.Marker(m);return b.setMap(r),i(b),()=>{b.setMap(null),i(null)}},[r]),Mt(()=>{if(!e)return;let b=e,_=google.maps.event;return n&&_.addListener(b,"click",n),o&&_.addListener(b,"drag",o),a&&_.addListener(b,"dragstart",a),l&&_.addListener(b,"dragend",l),c&&_.addListener(b,"mouseover",c),d&&_.addListener(b,"mouseout",d),e.setDraggable(!!v),()=>{_.clearInstanceListeners(b)}},[e,v,n,o,a,l,c,d]),Mt(()=>{e&&m&&e.setOptions(m)},[e,m]),Mt(()=>{v||!f||!e||e.setPosition(f)},[v,f,e]),e}var IH,vs,nle,cl,ole,sle,ale,vp,AH,TH,ple,hle,fle,gle,xle,Ple,Ile,Gu,NH,CS,CH,Lg,kle,Ole,OH,Lle,cFe,DH=M(()=>{qe();qe();IH=pe(EH(),1);vs={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},nle="https://maps.googleapis.com/maps/api/js",cl=class{static async load(e,i){var r;let n=e.libraries?e.libraries.split(","):[],o=this.serializeParams(e);this.listeners.push(i),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=vs.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=o,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==o&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let a=["maps",...n];await Promise.all(a.map(l=>google.maps.importLibrary(l)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let i=null,r=()=>i||(i=new Promise((n,o)=>{var a;let l=document.createElement("script"),c=new URLSearchParams;for(let[d,m]of Object.entries(e)){let f=d.replace(/[A-Z]/g,v=>"_"+v[0].toLowerCase());c.set(f,m)}c.set("loading","async"),c.set("callback","__googleMapsCallback__"),l.async=!0,l.src=nle+"?"+c.toString(),l.nonce=((a=document.querySelector("script[nonce]"))==null?void 0:a.nonce)||"",l.onerror=()=>{this.loadingStatus=vs.FAILED,this.notifyLoadingStatusListeners(),o(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=vs.LOADED,this.notifyLoadingStatusListeners(),n()},window.gm_authFailure=()=>{this.loadingStatus=vs.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=vs.LOADING,this.notifyLoadingStatusListeners(),document.head.append(l)}),i);google.maps.importLibrary=n=>r().then(()=>google.maps.importLibrary(n))}static notifyLoadingStatusListeners(){for(let e of this.listeners)e(this.loadingStatus)}};cl.loadingStatus=vs.NOT_LOADED;cl.serializedApiParams=void 0;cl.listeners=[];ole=["onLoad","apiKey","version","libraries"],sle=["children"],ale="GMP_visgl_rgmlibrary_v1_default",vp=Re.createContext(null);AH=t=>{let{children:e}=t,i=Ku(t,sle),{mapInstances:r,addMapInstance:n,removeMapInstance:o,clearMapInstances:a}=lle(),{status:l,loadedLibraries:c,importLibrary:d}=ule(i),m=Vt(()=>({mapInstances:r,addMapInstance:n,removeMapInstance:o,clearMapInstances:a,status:l,loadedLibraries:c,importLibrary:d}),[r,n,o,a,l,c,d]);return Re.createElement(vp.Provider,{value:m},e)};TH={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},ple=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],hle=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],fle=Object.keys(TH);gle=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);xle=()=>{let t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Re.createElement("div",{style:t},Re.createElement("h2",null,"Error: AuthFailure"),Re.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Re.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};Ple=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],Ile=["padding"],Gu=class{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,i){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(i)}};Gu.entries={};NH=Re.createContext(null),CS=t=>{let{children:e,id:i,className:r,style:n}=t,o=Mi(vp),a=MH();if(!o)throw new Error("<Map> can only be used inside an <ApiProvider> component.");let[l,c,d]=Ale(t,o);wle(l,d,t),cle(l,t),vle(l,t);let m=yle(l,t),f=!!t.controlled;Mt(()=>{if(l)return m&&l.setOptions({disableDefaultUI:!0}),(m||f)&&l.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{l.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[l,m,f,t.gestureHandling,t.keyboardShortcuts]);let v=t.center?RH(t.center):null,b=null,_=null;v&&Number.isFinite(v.lat)&&Number.isFinite(v.lng)&&(b=v.lat,_=v.lng);let E=Vt(()=>{var N,D,F,z,G;return{center:{lat:(N=b)!=null?N:0,lng:(D=_)!=null?D:0},zoom:(F=t.zoom)!=null?F:0,heading:(z=t.heading)!=null?z:0,tilt:(G=t.tilt)!=null?G:0}},[b,_,t.zoom,t.heading,t.tilt]);Tr(()=>{if(!l||!f)return;l.moveCamera(E);let N=l.addListener("bounds_changed",()=>{l.moveCamera(E)});return()=>N.remove()},[l,f,E]);let C=Vt(()=>Ro({width:"100%",height:"100%",position:"relative",zIndex:m?-1:0},n),[n,m]),I=Vt(()=>({map:l}),[l]);return a===vs.AUTH_FAILURE?Re.createElement("div",{style:Ro({position:"relative"},r?{}:C),className:r},Re.createElement(xle,null)):Re.createElement("div",Ro({ref:c,"data-testid":"map",style:r?void 0:C,className:r},i?{id:i}:{}),l?Re.createElement(NH.Provider,{value:I},e):null)};CS.deckGLViewProps=!0;CH=new Set;Lg=(t=null)=>{let e=Mi(vp),{map:i}=Mi(NH)||{};if(e===null)return Tle("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:r}=e;return t!==null?r[t]||null:i||r.default||null};kle=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);Ole=Re.createContext(null);OH=Mr((t,e)=>{let{children:i}=t,[r,n]=Dle(t),o=Vt(()=>r?{marker:r}:null,[r]);return Os(e,()=>r,[r]),n?Re.createElement(Ole.Provider,{value:o},Ge(i,n)):null}),Lle=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];cFe=Mr((t,e)=>{let i=Fle(t);return Os(e,()=>i,[i]),Re.createElement(Re.Fragment,null)})});var bp,yp,zle,Yu,LH,PS,pFe,hFe,ko,fFe,mFe,gFe,vFe,yFe,FH=M(()=>{bp=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-bp.Bounce.Out(1-t)},Out:function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},InOut:function(t){return t<.5?bp.Bounce.In(t*2)*.5:bp.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),yp=function(){return performance.now()},zle=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(){for(var e,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];for(var n=0,o=i;n<o.length;n++){var a=o[n];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},t.prototype.remove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var r=0,n=e;r<n.length;r++){var o=n[r];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},t.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},t.prototype.update=function(e,i){e===void 0&&(e=yp()),i===void 0&&(i=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var o=this._tweens[r[n]],a=!i;o&&o.update(e,a)===!1&&!i&&this.remove(o)}r=Object.keys(this._tweensAddedDuringUpdate)}},t}(),Yu={Linear:function(t,e){var i=t.length-1,r=i*e,n=Math.floor(r),o=Yu.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[i],t[i-1],i-r):o(t[n],t[n+1>i?i:n+1],r-n)},Bezier:function(t,e){for(var i=0,r=t.length-1,n=Math.pow,o=Yu.Utils.Bernstein,a=0;a<=r;a++)i+=n(1-e,r-a)*n(e,a)*t[a]*o(r,a);return i},CatmullRom:function(t,e){var i=t.length-1,r=i*e,n=Math.floor(r),o=Yu.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(n=Math.floor(r=i*(1+e))),o(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],r-n)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[i]-(o(t[i],t[i],t[i-1],t[i-1],r-i)-t[i]):o(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],r-n)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=Yu.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var r=e;r>1;r--)i*=r;return t[e]=i,i}}(),CatmullRom:function(t,e,i,r,n){var o=(i-t)*.5,a=(r-e)*.5,l=n*n,c=n*l;return(2*e-2*i+o+a)*c+(-3*e+3*i-2*o-a)*l+o*n+e}}},LH=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),PS=new zle,pFe=function(){function t(e,i){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=bp.Linear.None,this._interpolationFunction=Yu.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=LH.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof i=="object"?(this._group=i,i.add(this)):i===!0&&(this._group=PS,PS.add(this))}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,i){if(i===void 0&&(i=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=i<0?0:i,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,i){if(e===void 0&&(e=yp()),i===void 0&&(i=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||i){if(this._propertiesAreSetUp=!0,!this._isDynamic){var n={};for(var o in this._valuesEnd)n[o]=this._valuesEnd[o];this._valuesEnd=n}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,i)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,i,r,n,o){for(var a in r){var l=e[a],c=Array.isArray(l),d=c?"array":typeof l,m=!c&&Array.isArray(r[a]);if(!(d==="undefined"||d==="function")){if(m){var f=r[a];if(f.length===0)continue;for(var v=[l],b=0,_=f.length;b<_;b+=1){var E=this._handleRelativeValue(l,f[b]);if(isNaN(E)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}v.push(E)}m&&(r[a]=v)}if((d==="object"||c)&&l&&!m){i[a]=c?[]:{};var C=l;for(var I in C)i[a][I]=C[I];n[a]=c?[]:{};var f=r[a];if(!this._isDynamic){var N={};for(var I in f)N[I]=f[I];r[a]=f=N}this._setupProperties(C,i[a],f,n[a],o)}else(typeof i[a]>"u"||o)&&(i[a]=l),c||(i[a]*=1),m?n[a]=r[a].slice().reverse():n[a]=i[a]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},t.prototype.pause=function(e){return e===void 0&&(e=yp()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},t.prototype.resume=function(e){return e===void 0&&(e=yp()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},t.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},t.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=bp.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Yu.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,i){var r=this,n;if(e===void 0&&(e=yp()),i===void 0&&(i=t.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(i)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,l=this._duration+((n=this._repeatDelayTime)!==null&&n!==void 0?n:this._delayTime),c=this._duration+this._repeat*l,d=function(){if(r._duration===0||a>c)return 1;var E=Math.trunc(a/l),C=a-E*l,I=Math.min(C/r._duration,1);return I===0&&a===r._duration?1:I},m=d(),f=this._easingFunction(m);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,m),this._duration===0||a>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var b=0,_=this._chainedTweens.length;b<_;b++)this._chainedTweens[b].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,i,r,n){for(var o in r)if(i[o]!==void 0){var a=i[o]||0,l=r[o],c=Array.isArray(e[o]),d=Array.isArray(l),m=!c&&d;m?e[o]=this._interpolationFunction(l,n):typeof l=="object"&&l?this._updateProperties(e[o],a,l,n):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(e[o]=a+(l-a)*n))}},t.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},t.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},t.autoStartOnUpdate=!1,t}(),hFe=LH.nextId,ko=PS,fFe=ko.getAll.bind(ko),mFe=ko.removeAll.bind(ko),gFe=ko.add.bind(ko),vFe=ko.remove.bind(ko),yFe=ko.update.bind(ko)});var zH,IS,HH,qH=M(()=>{Ee();qe();Rt();ds();Ni();zH=pe(we(),1);Kn();oe();IS=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1,map:null,markers:[]},this.onMutate=zH.default.debounce(this.onMutate,0),this.changeObserver=new MutationObserver(this.onMutate)}handleMarkerDragEnd=e=>{let{index:i,lat:r,lng:n}=e.detail;if(isNaN(r)||isNaN(n))return;let o=[...this.state.markers];o[i]={...o[i],lat:r,lng:n},CargoEditor.mutationManager.execute(()=>{this.state.map.setAttribute("markers",encodeURIComponent(JSON.stringify(o)))})};onChange(e){CargoEditor.mutationManager.execute(()=>{if(Object.keys(e)[0]==="markers")if(!this.state.markers||e.markers.length!==this.state.markers.length)this.state.map.setAttribute("markers",encodeURIComponent(JSON.stringify(e.markers)));else{let i=this.state.markers.map((r,n)=>e.markers[n]?{...r,...e.markers[n]}:r);console.log("newMarkers",i),this.state.map.setAttribute("markers",encodeURIComponent(JSON.stringify(i)))}})}render(e,i){let{mapInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:a,focused:l}=i,c=23;return g(te,{children:[g("style",{id:"map-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),g(fr,{hasFocus:l,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.mapInstance,render:d=>{let{pointerAttention:m,overlayPosition:f}=d,v=0;return f.y<=1&&(v=Math.min(-f.y+1,f.height+-c+1)),g(te,{children:g("div",{className:`editor-overlay ${m?" button-hover":""}${l?" focus":""}`,style:{transform:`translate3d(${f.x}px, ${f.y}px, 0)`,width:f.width+"px",height:f.height+"px",display:m||a||l?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons map",style:{transform:`translateY(${v}px)`,padding:"10px"},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[g("button",{onMouseDown:b=>{let _=this.state.map.map.getCenter(),E="",C=_.lat(),I=_.lng(),N=this.state.markers?[...this.state.markers,{purl:E,scrollToPage:!1,lat:C,lng:I}]:[{purl:E,scrollToPage:!1,lat:C,lng:I}];this.onChange({markers:N});let D=N.length-1;setTimeout(()=>{this.state.map.dispatchEvent(new CustomEvent("marker-click",{detail:{index:N.length-1,clientY:null,clientX:null}}))},200)},ref:this.MapButtonRef,className:"text",children:"Add Marker"}),g("button",{onMouseDown:b=>{this.launchMapUIWindow(b)},ref:this.MapButtonRef,className:"text",children:"Settings"}),e.children]}),e.otherUI]})})}})]})}handleMarkerClick=e=>{this.launchMarkerUIWindow(e.detail)};launchMarkerUIWindow=({clientX:e,clientY:i,index:r})=>{let o=(this.state.map?.shadowRoot?.querySelectorAll(`.marker-${r}`)[0]).getBoundingClientRect(),a={x:o.x,y:o.y,left:o.right,right:o.right,top:o.top-10,bottom:o.top+27,width:o.width,height:10};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"map-ineditor",windowAlias:"map",positionRect:a,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{mapNode:this.props.mapInstance,markerIndex:r}})};launchMapUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.mapInstance.getBoundingClientRect(),n={x:r.x-10,y:r.y,left:r.right-10,right:r.right-10,top:r.top-10,bottom:r.top+27,width:r.width,height:10};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"map-ineditor",windowAlias:"map",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{mapNode:this.props.mapInstance}})};scrollIntoView=()=>{let e=this.props.mapInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.mapInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};onMutate=()=>{this.getSettingsFromNodes()};getSettingsFromNodes(){this.setState({...this.state,map:this.props.mapInstance,markers:JSON.parse(decodeURIComponent(this.props.mapInstance.getAttribute("markers")||"[]"))})}componentDidUpdate=(e,i)=>{this.changeObserver.disconnect(),this.changeObserver.observe(this.state.map,{attributes:!0})};componentDidMount=()=>{this.props.mapInstance._editorInterface=this,this.canMutateTimeout=setTimeout(()=>{this.setState({...this.state,canMutate:!0})},300),this.getSettingsFromNodes(),this.props.mapInstance.addEventListener("marker-dragend",this.handleMarkerDragEnd),this.props.mapInstance.addEventListener("marker-click",this.handleMarkerClick)};componentWillUnmount=()=>{this.props.mapInstance.removeEventListener("marker-dragend",this.handleMarkerDragEnd),this.props.mapInstance.removeEventListener("marker-click",this.handleMarkerClick),this.state.UIWindow?.closeWindow?.(),delete this.props.mapInstance._editorInterface,clearTimeout(this.canMutateTimeout),this.onMutate.cancel(),this.changeObserver.disconnect()}},HH=IS});var zFe,AS,Hle,Fg,UH,qle,zg,TS,Ule,BH=M(()=>{Ee();qe();zFe=pe(we(),1);Ne();pt();Wi();Rt();_i();DH();FH();Ls();ki();qH();Fx();oe();Hle=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,Fg=(t,e,i,r={})=>{i=Math.round(i);let{duration:n=1e3,easing:o=Hle}=r,a=performance.now(),l=t.getCenter(),c=t.getZoom(),d=t.getProjection(),m=new google.maps.LatLng(e),f=d.fromLatLngToPoint(m),v=d.fromLatLngToPoint(l),b=i-c;function _(C,I,N){return C+(I-C)*N}function E(){let I=performance.now()-a,N=Math.min(I/n,1),D=o(N),F=_(c,i,D),z=new google.maps.Point(_(v.x,f.x,D),_(v.y,f.y,D)),G,Y;b>0&&(G=Math.pow(2,Math.abs(F-c)),Y=new google.maps.Point(f.x+(z.x-f.x)/G,f.y+(z.y-f.y)/G)),b<0&&(G=Math.pow(2,Math.abs(F-i)),Y=new google.maps.Point(v.x+(z.x-v.x)/G,v.y+(z.y-v.y)/G)),b===0&&(Math.sqrt(Math.pow(m.lat()-l.lat(),2)+Math.pow(m.lng()-l.lng(),2))*Math.pow(2,F-c)<4?Y=z:Y=f);let L=d.fromPointToLatLng(Y);t.moveCamera({center:L,zoom:F});let Z={x:f.x-Y.x,y:f.y-Y.y};(b!==0||Z.x!==0||Z.y!==0)&&N<1&&requestAnimationFrame(E)}E()},UH=()=>g("svg",{width:"58",height:"50",viewBox:"0 0 2 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g("path",{d:"M0.112305 0.460083L28.9258 14.1374L2.10889 24.6191V49.701H0.108887V22.9724H0.112305V0.460083Z",fill:"#FF0026"})}),qle=({targetNode:t,activePurl:e})=>{let i=Lg();return Mt(()=>{i&&(google.maps.event.addListenerOnce(i,"idle",()=>{let r=t.hasAttribute("follow-navigation")?t.getAttribute("follow-navigation")==="true":!1;if(e&&r){let o=(t.hasAttribute("markers")?JSON.parse(decodeURIComponent(t.getAttribute("markers"))):[]).find(a=>a.purl===e);o&&i.moveCamera({center:{lat:o.lat,lng:o.lng},zoom:17})}}),t.map=i)},[i]),null};ne||(AS=new ResizeObserver(t=>{t.forEach(e=>{if(zg.has(e.target)){let i=zg.get(e.target),r=e.borderBoxSize[0]||e.borderBoxSize;i.setState({size:{width:r.inlineSize,height:r.blockSize}})}})}));zg=new Map,TS=class extends se{constructor(e){super(e),this.state={mounted:!1,tagText:null,isInCrossOriginIFrame:!0,mapId:this.getMobileMapId(e["map-id"])},this.mapRef=me()}parseMarkersAttr(e){return JSON.parse(decodeURIComponent(e))}encodeMarkersAttr(e){return""}render(e,i){let{baseNode:r,adminMode:n,isEditing:o,pageInfo:a,markers:l,width:c="100%",height:d="50vh","map-id":m="6f83276caebd115a",isMobile:f,"default-bounds":v,"show-zoom-controls":b=!1,"show-street-view-controls":_=!1,"show-map-type-controls":E=!1,"follow-navigation":C=!1}=e,I="AIzaSyAuHt0V0nJ5qTiUoWwsOwDfkTv0n1PJUNA",N=v?JSON.parse(decodeURIComponent(v)):{north:34.199298711595,east:-118.20583547095032,west:34.0103546000496,south:-118.33143248997767,padding:0},D=[];if(l&&(D=this.parseMarkersAttr(l)),this.state.tagText!==null&&C===!0){let z=this.state.tagText.split(",").reduce((G,Y)=>{let L=this.props.purlsByTag[Y];if(!L||L.length===0)return G;for(let Z of L)G.includes(Z)||G.push(Z);return G},[]);D=D.filter(G=>z.includes(G.purl))}return Ge(g(te,{children:[n&&a.isEditing&&g(HH,{mapInstance:r}),g("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
                        width: ${c};
                        height: ${d};
                        max-width: 100%;
                        max-height: var(--fit-height);
                        display: inline-block;
                        overflow: hidden;
					}

                    .gm-style iframe + div { border:none!important; }
				
					`}),I?g(AH,{apiKey:I,children:g(CS,{defaultBounds:N,mapId:this.state.mapId,ref:this.mapRef,fullscreenControl:!1,gestureHandling:"greedy",streetViewControl:_==="true"||_===!0,mapTypeControl:E==="true"||E===!0,zoomControl:b==="true"||b===!0,clickableIcons:!1,children:[D&&D.length?D.map((F,z)=>!F.lat||!F.lng?null:g(OH,{className:`marker-${z} ${F.id?`mid-${F.id}`:""}`,draggable:!!(n&&a.isEditing),onClick:n&&a.isEditing?G=>{this.props.baseNode.dispatchEvent(new CustomEvent("marker-click",{detail:{index:z}}))}:n===!1?()=>{}:null,onDragEnd:G=>{this.props.baseNode.dispatchEvent(new CustomEvent("marker-dragend",{detail:{index:z,lat:G.latLng.lat(),lng:G.latLng.lng()}}))},position:{lat:F.lat,lng:F.lng},children:n||F.purl==="default"||F.purl===""?g(UH,{}):g("a",{href:`${F.scrollToPage?"#":""}${F.purl}`,rel:"history",style:{fontSize:"24px",lineHeight:1,marginBottom:"-4px"},onClick:()=>{Fg(this.props.baseNode.map,{lat:F.lat,lng:F.lng},17)},children:g(UH,{})})},z)):null,g(qle,{targetNode:r,activePurl:this.props.activePurl})]})}):g("div",{style:{width:"100%",height:"100%",background:"gray",color:"red",fontSize:"24px"},children:"API key is required for Google Maps"})]}),r.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};getBoundsZoomLevel(e,i){var r={height:256,width:256},n=21;function o(_){var E=Math.sin(_*Math.PI/180),C=Math.log((1+E)/(1-E))/2;return Math.max(Math.min(C,Math.PI),-Math.PI)/2}function a(_,E,C){return Math.floor(Math.log(_/E/C)/Math.LN2)}var l=e.getNorthEast(),c=e.getSouthWest(),d=(o(l.lat())-o(c.lat()))/Math.PI,m=l.lng()-c.lng(),f=(m<0?m+360:m)/360,v=a(i.height,r.height,d),b=a(i.width,r.width,f);return Math.min(v,b,n)}resetMap=()=>{let e=this.props["default-bounds"]?JSON.parse(decodeURIComponent(this.props["default-bounds"])):{north:34.24028483839939,east:-118.16102709664018,west:-118.32410540683625,south:33.994992380212196,padding:0},i=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east)),r=this.getBoundsZoomLevel(i,{width:this.state.size.width,height:this.state.size.height});Fg(this.props.baseNode.map,i.getCenter(),r)};handleGlobalClick=(e,i)=>{if(!this.props.markers||this.props.adminMode===!0)return;let r=JSON.parse(decodeURIComponent(this.props.markers));if(i.getAttribute("rel")==="map-marker"){let a=i.getAttribute("href");if(a){let l=r.find(c=>c.id===a);l&&Fg(this.props.baseNode.map,{lat:l.lat,lng:l.lng},17);return}else return}let n=i.getAttribute("href");if(!n)return;i.hasAttribute("tag-text")?this.setState({tagText:i.getAttribute("tag-text")}):this.setState({tagText:null});let o=null;for(let a of r)if(a.purl===n){o=a;break}o?Fg(this.props.baseNode.map,{lat:o.lat,lng:o.lng},17):this.resetMap()};componentDidMount(){if(ne)return;zg.set(this.props.baseNode,this),AS.observe(this.props.baseNode),this.props.baseNode.handleGlobalClick=this.handleGlobalClick;let e=!1;try{e=!!(window.parent?.location?.host&&window.location.host!==window.parent.location.host)}catch{e=!0}this.setState({mounted:!0,isInCrossOriginIFrame:e})}getMobileMapId=(e="6f83276caebd115a")=>(console.log("getMobileMapId",e),{"6f83276caebd115a":"253a84a7bd441322","88cce47d0e4397ad":"ed1c36f3c0173c73"}[e]||e);componentDidUpdate(e,i){i.mapId!==this.state.mapId&&console.log("Map ID changed",this.state.mapId),!(e.isMobile===this.props.isMobile&&i.isInCrossOriginIFrame===this.state.isInCrossOriginIFrame)&&(e.isMobile!==this.props.isMobile&&(this.props.isMobile?this.setState({mapId:this.getMobileMapId(this.props["map-id"])}):this.setState({mapId:this.props["map-id"]||"6f83276caebd115a"})),i.isInCrossOriginIFrame!==this.state.isInCrossOriginIFrame&&(this.state.isInCrossOriginIFrame&&mapIdMobileLookup[this.props["map-id"]]?this.setState({mapId:this.getMobileMapId(this.props["map-id"])}):this.setState({mapId:this.props["map-id"]||"6f83276caebd115a"})))}componentWillUnmount(){ne||(zg.delete(this.props.baseNode),AS.unobserve(this.props.baseNode))}},Ule=Ot(De((t,e)=>{let i=t.pages.byId,o=(e.markers?JSON.parse(decodeURIComponent(e.markers)).map(l=>l?.purl):[]).map(l=>Object.values(i).find(c=>c.purl===l)).reduce((l,c)=>(c&&c.tags&&c.tags.forEach(d=>{l[d.url]||(l[d.url]=[]),l[d.url].push(c.purl)}),l),{}),a=t.pages.byId[t.frontendState.activePID]?.purl;return{purlsByTag:o,activePurl:a,adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}})(TS));Zt(Ule,"cargo-map",["api-key"])});var RS,Ble,Wle,Xu,MS,kS,WH,VH=M(()=>{Ee();qe();Rt();ds();Ni();Kn();Ne();RS=pe(we(),1);oe();Ble=["{day}, {month-name} {day-of-month}, {year} {hour}:{minute} {period}","{hour}:{minute}:{second} {period}","{hour}:{minute}:{second}","{day-of-month}-{month}-{year}","{day-of-month} {month-name} {year}","{month-name} {day-of-month}, {year}","{month}/{day-of-month}/{year}","{day-of-month}/{month}/{year}","{time-of-day} of the {ordinal}"],Wle={day:"Day","day-of-month":"Day of Month",ordinal:"Ordinal Date",month:"Month","month-name":"Name of Month",period:"AM/PM",year:"Year",hour:"Hour",minute:"Minute",second:"Second",centisecond:"Centisecond","roman-year":"Year in Roman Numerals","time-of-day":"Time of Day"},Xu=new Set,MS=RS.default.debounce(()=>{let t=Array.from(Xu),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(l=>{let c;return l.state.selected?c=l.props.baseNode.getBoundingClientRect():c={top:-9e9},{component:l,rect:c}});e=RS.default.sortBy(o,(l,c)=>l.rect.top);let a=e.filter(l=>l.component.state.selected);r=a[a.length-1].rect.bottom+-a[0].rect.top,e=e.map(l=>l.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r}),n=!0)})},100);ne||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",MS):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",MS)}),document.addEventListener("selectionchange",MS));kS=class extends se{constructor(e){super(e),this.state={UIWindow:!1,showMultipleSelectionButton:!1,partOfMultipleSelection:!1,fontSizePx:16,lineHeightPx:24,selected:!1}}render(e,i){let{}=e,{UIWindow:r,showMultipleSelectionButton:n,partOfMultipleSelection:o,pointerProxyAttention:a,fontSizePx:l,lineHeightPx:c}=i,d,m=0,f=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight;return g(te,{children:[g("style",{id:"digital-clock-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),g(Vi,{baseNode:this.props.clockInstance,overlayMode:!1,onSelectionChange:this.onSelectionChange}),g(fr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.clockInstance,buttonHeight:0,onPointerIn:this.pointerIn,onPointerOut:this.pointerOut,render:v=>{let{pointerAttention:b,overlayPosition:_}=v,E=0;return _.y<=1&&(E=Math.min(-_.y+1,_.height+-m+1)),n&&o?d=g("button",{style:{transform:`translateY(${E}px)`},"data-editor-overlay":"true",class:`${_.height<30?"small":""} clock-button multiple`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!n&&!o&&(d=g("button",{style:{transform:`translateY(${E}px)`},"data-editor-overlay":"true",class:`${_.height<30?"small":""} clock-button`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:g("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),g("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),g("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),g("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),g("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})),g(te,{children:g("div",{className:`editor-overlay ${n?"edit-multiple":""} digital-clock editor-outline${b||r?" hover":""}${b||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${_.x}px, ${_.y}px, 0)`,width:_.width+"px",height:f?this.state.multiSelectHeight:_.height+"px"},children:[d,e.children]})})}})]})}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onMouseDown=e=>{e.button==2&&!e.metaKey&&(e.preventDefault(),this.launchUIWindow(e))};onOptionsButtonClick=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation(),this.launchUIWindow()}};launchUIWindow=e=>{let i=this.props.clockInstance.getBoundingClientRect(),r=document.documentElement.clientHeight,n=document.documentElement.clientWidth,o=this.props.clockInstance.getAttribute("value"),l=Ble.includes(o)||o?.indexOf?.("{")===-1?270:360,c=220,d=15,m=i.left,f=i.top,v={x:i.left,y:i.top,left:i.left,right:i.left,top:i.top,bottom:i.top+27,width:0,height:10};r-i.bottom>l+d?f=i.top+i.height+d:r-(i.bottom+-i.height*.5)>l+d?f=i.top+i.height*.5+d:i.top>l+-d&&(f=i.top+-l+-d),n-i.left<c&&(m=i.left-c),v.x=m,v.left=m,v.right=m,v.width=0,v.height=0,v.y=f,v.top=f,v.bottom=f,ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"digital-clock",positionRect:v,closeButton:!1,closeOnSingleClickout:!0,ignoreEditorWindowClickout:!1,supportsMobile:!1,props:{clickedElement:this.props.clockInstance,elements:Array.from(Xu).filter(b=>b.state.selected||b.props.clockInstance===this.props.clockInstance).map(b=>b.props.clockInstance)}})};pointerIn=()=>{this.state.selected&&Xu.forEach(i=>{i.state.showMultipleSelectionButton&&i.setState({pointerProxyAttention:!0})});let e=window.getComputedStyle(this.props.clockInstance);this.setState({fontSizePx:e.getPropertyValue("font-size"),lineHeightPx:e.getPropertyValue("line-height"),pointerAttention:!0})};pointerOut=()=>{this.state.selected&&Xu.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1}),this.setState({selected:e})};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){Xu.add(this),this.props.clockInstance._editorInterface=this,this.props.clockInstance._newClock&&(delete this.props.clockInstance._newClock,setTimeout(()=>{this.launchUIWindow()},10)),this.props.clockInstance.addEventListener("contextmenu",this.onMouseDown)}componentWillUnmount(){this.props.clockInstance.removeEventListener("contextmenu",this.onMouseDown),Xu.delete(this),this.state.UIWindow?.closeWindow?.(),delete this.props.clockInstance._editorInterface}componentDidUpdate(e,i){this.props.value!==e.value&&this.props.clockInstance.getAttribute("value")&&this.state.UIWindow?.setState?.({customVal:Wle.hasOwnProperty(this.props.value)?"{"+this.props.value+"}":this.props.value})}},WH=kS});var R2e,wp,Hg,Vle,$le,jle,$H,qg,Gle,jH=M(()=>{Ee();qe();Ne();pt();Ne();ki();Ui();VH();R2e=pe(we(),1);Wi();oe();wp=new Set,Hg=null,Vle=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],$le=["january","february","march","april","may","june","july","august","september","october","november","december"],jle=["time-of-day","day","day-of-month","ordinal","month","month-name","period","roman-year","year","hour","minute","second","centisecond"],$H=t=>{wp.forEach(e=>{let i=new Date;e.updateTime(i)}),Hg=requestAnimationFrame($H)},qg=class extends se{constructor(e){super(e),this.state={}}romanize(e){if(isNaN(e))return NaN;for(var i=String(+e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",o=3;o--;)n=(r[+i.pop()+o*10]||"")+n;return Array(+i.join("")+1).join("M")+n}pad=e=>e<10?"0"+e:e.toString();dateTerms=(e,i)=>{switch(e){case"{time-of-day}":return g("span",{part:"time-of-day section"},"time-of-day-"+i);case"{day-of-month}":return g("span",{part:"day-of-month section",children:this.state["day-of-month"]},"day-of-month-"+i);case"{ordinal}":return g("span",{part:"ordinal section"},"ordinal"+i);case"{month}":return g("span",{part:"month section",children:this.state.month},"month-"+i);case"{day}":return g("span",{part:"day section"},"day-"+i);case"{roman-year}":return g("span",{part:"roman-year section",children:this.state.romanYear},"roman-year-"+i);case"{centisecond}":return g("span",{part:"centisecond section",children:this.state.centisecond},"roman-year-"+i);case"{year}":return g("span",{part:"year section",children:this.state.year},"year-"+i);case"{month-name}":return g("span",{part:"month-name section"},"month-name-"+i);case"{hour}":return g("span",{part:"hour section",children:this.props["twentyfour-hour"]?this.state["24hour"]:this.state["12hour"]},"hour-"+i);case"{minute}":return g("span",{part:"minute section",children:this.state.minute},"minute-"+i);case"{second}":return g("span",{part:"second section",children:this.state.second},"second-"+i);case"{period}":return g("span",{part:"period section"},"period-"+i)}return null};updateTime=e=>{let i=this.props["pad-hour"]||this.props.pad,r=this.props["pad-minute"]||this.props.pad,n=this.props["pad-second"]||this.props.pad,o=this.props["pad-day-of-month"]||this.props.pad,a=this.props["pad-month"]||this.props.pad;if(this.props.timezone!=="local"){let C=e.getTimezoneOffset(),I=this.props.timezone;if(this.props.timezone.indexOf(":")>-1){let F=this.props.timezone.split(":");F.length=2,I=parseFloat(F[0])+parseFloat(F[1]||0)/60}let N=-(-C-parseFloat(I*60))||0,D=Date.now();e=new Date(D+N*6e4)}let l=o?this.pad(e.getDate()):e.getDate(),c=Vle[e.getDay()],d=e.getMonth(),m=e.getFullYear(),f=e.getHours(),v=e.getMinutes(),b=e.getSeconds(),_=e.getMilliseconds(),E=Math.floor(f/3)*3;this.setState({day:c,"day-of-month":l,"time-of-day":E+"-"+(parseInt(E)+3),ordinal:l,"month-name":$le[d],month:a?this.pad(d+1):d+1,romanYear:this.romanize(m),year:this.props["truncate-year"]?m.toString().substring(2,4):m,period:f>=12?"pm":"am","12hour":i?this.pad(f%12==0?12:f%12):f%12==0?12:f%12,"24hour":i?this.pad(f):f,minute:r?this.pad(v):v,second:n?this.pad(b):b,centisecond:this.pad(Math.floor(_/10))})};render(e,i){let{pageInfo:r,adminMode:n,value:o}=this.props,a=[],l;if(o.indexOf("{")==-1&&(l=this.dateTerms("{"+o+"}")),l)a.push(l);else{let c=new RegExp("{"+jle.join("}|{")+"}","gi"),d=[...o.matchAll(c)],m=0;d.length==0?a.push(this.dateTerms("{second}")):d.forEach((f,v)=>{let b=this.dateTerms(f[0],f.index);b&&(m!=f.index&&a.push(g("span",{part:"text",children:o.substring(m,f.index)},f.index)),m=f.index+f[0].length,a.push(b)),v===d.length-1&&a.push(g("span",{part:"text",children:o.substring(m,o.length)},f.index+"-last"))})}return Ge(g(te,{children:[n&&r.isEditing&&!ne&&g(WH,{...this.props,clockInstance:this.props.baseNode}),g("style",{children:`

					:host {

						--0-3: "late night";
						--3-6: "early morning";
						--6-9: "morning";
						--9-12: "late morning";
						--12-15: "afternoon";
						--15-18: "late afternoon";
						--18-21: "evening";
						--21-24: "late evening";

						--am: "AM";
						--pm: "PM";

						--sunday: "Sunday";
						--monday: "Monday";
						--tuesday: "Tuesday";
						--wednesday: "Wednesday";
						--thursday: "Thursday";
						--friday: "Friday";
						--saturday: "Saturday";

						--january: "January";
						--february: "February";
						--march: "March";
						--april: "April";
						--may: "May";
						--june: "June";
						--july: "July";
						--august: "August";
						--september: "September";
						--october: "October";
						--november: "November";
						--december: "December";

						--ordinal-1: "first";
						--ordinal-2: "second";
						--ordinal-3: "third";
						--ordinal-4: "fourth";
						--ordinal-5: "fifth";
						--ordinal-6: "sixth";
						--ordinal-7: "seventh";
						--ordinal-8: "eighth";
						--ordinal-9: "ninth";
						--ordinal-10: "tenth";
						--ordinal-11: "eleventh";
						--ordinal-12: "twelfth";
						--ordinal-13: "thirteenth";
						--ordinal-14: "fourteenth";
						--ordinal-15: "fifteenth";
						--ordinal-16: "sixteenth";
						--ordinal-17: "seventeenth";
						--ordinal-18: "eighteenth";
						--ordinal-19: "nineteenth";
						--ordinal-20: "twentieth";
						--ordinal-21: "twenty-first";
						--ordinal-22: "twenty-second";
						--ordinal-23: "twenty-third";
						--ordinal-24: "twenty-fourth";
						--ordinal-25: "twenty-fifth";
						--ordinal-26: "twenty-sixth";
						--ordinal-27: "twenty-seventh";
						--ordinal-28: "twenty-eighth";
						--ordinal-29: "twenty-ninth";
						--ordinal-30: "thirtieth";
						--ordinal-31: "thirty-first";

						cursor: inherit;
					    display: inline-block;
					    position: relative;
					}

					[part*="section"]{
						font-variant: tabular-nums;
					}

					[part="ordinal section"]:after {
						content: var(--ordinal-${this.state["day-of-month"]}, "${this.state["day-of-month"]}");
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					[part="period section"]:before {
						content: var(--${this.state.period});
					}				

					[part="day section"]:before {
						content: var(--${this.state.day});
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					span[part="month-name section"]:before {
						content: var(--${this.state["month-name"]});
					}

					
				`}),a]}),this.props.baseNode.shadowRoot)}onViewportIntersectionChange=e=>{let i=e.position==="inside";this.setState({visible:i})};componentDidMount(){if(Ct(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),wp.size==0&&(cancelAnimationFrame(Hg),Hg=requestAnimationFrame($H),sn)){let e=this.props.baseNode.parentElement;e.tagName==="SPAN"&&Array.from(e.childNodes).filter(r=>r!==this.props.baseNode).length>0&&(e.style.display="inline-block",requestAnimationFrame(()=>{e.style.display=""}))}this.updateTime(new Date),wp.add(this)}componentDidUpdate(e,i){}componentWillUnmount(){At(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),wp.delete(this),wp.size==0&&cancelAnimationFrame(Hg)}};qg.defaultProps={pad:!1,"pad-day-of-month":!1,"pad-hour":!1,"pad-month":!1,"pad-minute":!0,"pad-second":!0,"twentyfour-hour":!1,"truncate-year":!1,timezone:"local",value:"second"};Gle=Ot(De((t,e)=>({adminMode:t.frontendState.adminMode}))(qg));Zt(Gle,"digital-clock",["pad-day-of-month","pad-hour","pad-month","pad-minute","pad-second","twentyfour-hour","truncate-year","pad","timezone","analogue","value"],{renderIntoShadow:!0})});var j2e,NS,OS,GH=M(()=>{Ee();qe();Rt();ds();Ni();j2e=pe(we(),1);Kn();oe();NS=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{shopProductInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:a,focused:l}=i;return g(te,{children:g(fr,{hasFocus:l,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.shopProductInstance,render:c=>{let{pointerAttention:d,overlayPosition:m}=c;return g(te,{children:[g(Vi,{baseNode:r,overlayPosition:m,inFront:!1,overlayMode:!0}),g("div",{className:`editor-overlay editor-outline${d?" hover":""}${d?" button-hover":""}${l?" focus":""}`,style:{transform:`translate3d(${m.x}px, ${m.y}px, 0)`,width:m.width+"px",height:m.height+"px",display:d||a||l?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${m.dip}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[g("button",{onMouseDown:f=>{this.launchUIWindow(f)},ref:this.AudioPlayerButtonRef,className:"text",children:"Product"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.shopProductInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:20};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"shopproduct-ineditor",windowAlias:"commerce",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!0,props:{shopProductNode:this.props.shopProductInstance}})};scrollIntoView=()=>{let e=this.props.shopProductInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.shopProductInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.shopProductInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.shopProductInstance._editorInterface}},OS=NS});function Jle(t,e,i,r){var n;if(r!==void 0&&(t=t*r),typeof e!="string")n=t/100+"";else{var o=["BIF","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"],a={AED:"\u062F.\u0625",AFN:"\u060B",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20BC",BAM:"KM",BBD:"$",BDT:"\u09F3",BGN:"\u043B\u0432",BHD:".\u062F.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"\u0E3F",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"\xA5",COP:"$",CRC:"\u20A1",CUC:"$",CUP:"\u20B1",CVE:"$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062F\u062C",EEK:"kr",EGP:"\xA3",ERN:"Nfk",ETB:"Br",ETH:"\u039E",EUR:"\u20AC",FJD:"$",FKP:"\xA3",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHC:"\u20B5",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"\u20B9",IQD:"\u0639.\u062F",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u043B\u0432",KHR:"\u17DB",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"$",KZT:"\u043B\u0432",LAK:"\u20AD",LBP:"\xA3",LKR:"\u20A8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043D",MMK:"K",MNT:"\u20AE",MOP:"MOP$",MRO:"UM",MUR:"\u20A8",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"\u20A8",NZD:"$",OMR:"\uFDFC",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"\u20A8",PLN:"z\u0142",PYG:"Gs",QAR:"\uFDFC",RMB:"\uFFE5",RON:"lei",RSD:"\u0414\u0438\u043D.",RUB:"\u20BD",RWF:"R\u20A3",SAR:"\uFDFC",SBD:"$",SCR:"\u20A8",SDG:"\u062C.\u0633.",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xA3",STD:"Db",SVC:"$",SYP:"\xA3",SZL:"E",THB:"\u0E3F",TJS:"SM",TMT:"T",TND:"\u062F.\u062A",TOP:"T$",TRL:"\u20A4",TRY:"\u20BA",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u043B\u0432",VEF:"Bs",VND:"\u20AB",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20A3",YER:"\uFDFC",ZAR:"R",ZWD:"Z$"};e=e.toUpperCase(),o.indexOf(e)===-1&&(t/=100),typeof Intl<"u"?n=new Intl.NumberFormat(i,{style:"currency",currency:e,currencyDisplay:"symbol",useGrouping:!0,minimumFractionDigits:0}).format(t):n=(a.hasOwnProperty(e)?a[e]:e+" ")+""+t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}if(typeof n=="string"&&n.indexOf(".")!==-1){var l=n.split(".");l.length===2&&l[1].length===1&&(l[1]=l[1]+"0",n=l.join("."))}return n}var vr,KH,Kle,Yle,Xle,dl,DS,Ug,Zle,LS,Qle,YH=M(()=>{Ee();qe();Ls();vr=pe(we(),1);Ne();pt();di();Wi();ki();na();GH();il();hr();oe();KH="Product not found",Kle="Out of Stock",Yle="Add to Cart",Xle="Unavailable",dl={buttonInStockText:"button-text",showPrice:"show-price",mergevariantdropdowns:"combine-variants",product:"product"},DS=[],Ug=null,Zle=t=>(Ug||(Ug=new Promise((e,i)=>{requestAnimationFrame(()=>{Dt.dispatch(actions.fetchCommerceProducts({idArray:DS})).then(e).catch(i),DS.length=0,Ug=null})})),DS.push(t),Ug);LS=class extends se{constructor(e){super(e),this.uid=vr.default.uniqueId(),this.state={loading:!0,selectedVariant:null},this.props.fetchShopModel().finally(()=>{this.fetchProduct().finally(()=>{this.setState({loading:!1})})}),this.props.baseNode.__commerce_widget__=this}render(){let e=this.getOptions(),{baseNode:i,adminMode:r}=this.props;if(!this.props.productData)return this.state.loading?null:Ge(g(te,{children:[this.props.adminMode&&this.props.pageInfo.isEditing&&g(OS,{shopProductInstance:this.props.baseNode}),g("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:KH})]}),this.props.baseNode.shadowRoot);let n=this.state.selectedVariant?.inventory!==null&&this.state.selectedVariant?.inventory<=0,o=this.props.uses||"";return Ge(g(Tn,{scrollContext:this.props.scrollContext,uses:o,adminMode:r,customElementMode:!0,baseNode:i,children:g("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:[this.props.adminMode&&g(OS,{shopProductInstance:this.props.baseNode}),this.props.productData?g(te,{children:[e.showPrice&&this.state.selectedVariant&&g("div",{part:"price",class:"price",children:Jle(this.state.selectedVariant.price,this.props.currency,this.props.locale)}),this.props.productData.attributes?e.mergevariantdropdowns?g("select",{part:"dropdown",class:"dropdown","variant-list":!0,onChange:this.getSelectedVariant,children:this.props.productData.variants.map(a=>a.is_default?null:g("option",{value:a.variant_id,dangerouslySetInnerHTML:{__html:vr.default.values(a.attributes).join(", ").replace(/</g,"&lt;")}}))}):vr.default.keys(this.props.productData.attributes).map(a=>g("select",{"variant-option":a,part:"dropdown",class:"dropdown",onChange:this.getSelectedVariant,children:[g("option",{disabled:!0,dangerouslySetInnerHTML:{__html:a?.replace?.(/</g,"&lt;")}}),this.getAttributeVariations(a).map(l=>g("option",{selected:this.state.selectedVariant?.attributes[a]===l,value:l,dangerouslySetInnerHTML:{__html:l?.replace?.(/</g,"&lt;")}}))]})):null,g("a",{part:"button",className:`button${n?" out-of-stock":""}`,onClick:a=>{n||this.addToCart(a)},children:n?Kle:this.state.selectedVariant?e.buttonInStockText:Xle})]}):KH]})},"shop-product-host"),this.props.baseNode.shadowRoot)}onDragStart=e=>{e.dataTransfer.setData("shop-product-drag","true")};getAttributeVariations(e){var i=vr.default.without(vr.default.uniq(this.props.productData.variants.map(function(n){if(n.is_available===!0&&n.is_default!==!0)return n.attributes[e]})),void 0),r=this.props.productData.attributes[e];return r&&i.sort(function(n,o){var a=r.indexOf(n),l=r.indexOf(o);return a<l?-1:a==l?0:1}),i}getProduct(){return this.props.productData}getOptions(){if(this.props.baseNode.hasAttribute("data-options"))try{let i=JSON.parse(vr.default.unescape(this.props.baseNode.getAttribute("data-options")));vr.default.each(i,(r,n)=>{dl[n]&&!this.props.baseNode.hasAttribute(dl[n])&&this.props.baseNode.setAttribute(dl[n],vr.default.escape(r))}),this.props.baseNode.removeAttribute("data-options")}catch{console.error("Unable to read old product widget options",this.props.baseNode)}let e=vr.default.mapValues(dl,(i,r)=>{if(!this.props.baseNode.hasAttribute(i))return;let n=vr.default.unescape(this.props.baseNode.getAttribute(i));return(r==="showPrice"||r==="mergevariantdropdowns")&&(n=n=="true"),n});return vr.default.defaults(e,{showPrice:!0,mergevariantdropdowns:!1,buttonInStockText:Yle}),e}setOptions(e){vr.default.each(e,(i,r)=>{dl.hasOwnProperty(r)&&this.props.baseNode.setAttribute(dl[r],vr.default.escape(i))})}addToCart=e=>{this.props.adminMode||(this.props.addCommerceProductToCart(this.state.selectedVariant.product_id,this.state.selectedVariant.variant_id),to.push("/cart",{preventScrollReset:!0}))};fetchProduct(){return this.props.productData&&this.props.productData.product_id==this.props.product||!this.props.product||!this.props.shopId?Promise.resolve():Zle(this.props.product)}getSelectedVariant=()=>{let e=null;if(this.props.productData)if(this.props.productData.use_default_variant)e=this.props.productData.variants.find(r=>r.is_default===!0);else if(this.getOptions().mergevariantdropdowns){let r=this.props.baseNode.shadowRoot.querySelector("select[variant-list]")?.value;e=this.props.productData.variants.find(n=>n.variant_id==r)}else{var i=vr.default.reduce(this.props.baseNode.shadowRoot.querySelectorAll("select[variant-option]"),function(r,n){return r[n.getAttribute("variant-option")]=n.value,r},{});e=this.props.productData.variants.find(r=>vr.default.isEqual(r.attributes,i))}this.state.selectedVariant!==e&&this.setState({selectedVariant:e})};componentDidUpdate(e,i){this.state.selectedVariant===i.selectedVariant&&this.getSelectedVariant()}componentDidMount(){this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.getSelectedVariant()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}},Qle=Ot(De((t,e)=>({adminMode:t.frontendState.adminMode,productData:t.commerce.products[e.product],currency:t.commerce.shop.currency||"USD",locale:t.commerce.shop.locale||"en-US",shopId:t.site.shop_id}),t=>It({addCommerceProductToCart:actions.addCommerceProductToCart,fetchShopModel:actions.fetchShopModel},t))(LS));Zt(Qle,"shop-product",Object.values(dl),{renderIntoShadow:!0})});var FS,XH,ZH=M(()=>{Ee();oe();FS=class extends se{constructor(e){super(e),this.caveRef=me(),this.shadowRef=me()}render(){return g("div",{"aria-hidden":"true",ref:this.caveRef,tabIndex:"-1","data-nosnippet":!0,style:{position:"absolute",top:"0",left:"50px",right:"50px",margin:"0 auto 0 auto",height:"10px",lineHeight:"0",fontSize:0,pointerEvents:"none",zIndex:-99},children:g("div",{ref:this.shadowRef,tabIndex:"-1","data-nosnippet":!0,style:{display:"inline-block",margin:"0 -20px 0 -50px",width:"40px",height:"10px"}})})}componentDidMount(e,i){this.observer=new IntersectionObserver(r=>{r.forEach(n=>{let o="right";switch(n.intersectionRatio){case 0:o="left";break;case 1:o="center";break}this.props.onTextAlignmentChange?.(o)})},{root:this.caveRef.current,rootMargin:"0px",threshold:[0,.6]}),this.observer.observe(this.shadowRef.current)}componentWillUnmount(){this.observer.disconnect()}},XH=FS});var JH,zS,QH,eq=M(()=>{Ee();qe();Rt();ds();Ni();Kn();Ui();JH=pe(we(),1);oe();zS=class extends se{constructor(e){super(e),this.state={UIWindow:!1,marqueeIsEmpty:!1,draggingInEditor:!1},this.observer=new MutationObserver(this.onMutation),this.innerObserver=new MutationObserver(this.onInnerMutation)}render(e,i){let{}=e,{UIWindow:r}=i,n=23;return g(te,{children:g(fr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.marqueeInstance,buttonHeight:23,render:o=>{let{pointerAttention:a,overlayPosition:l}=o,c=0;return l.y<=1&&(c=Math.min(-l.y+1,l.height+-n+1)),g(te,{children:[g(Vi,{baseNode:this.props.marqueeInstance,overlayPosition:l,overlayMode:!0}),g("div",{className:`editor-overlay editor-outline${a||r?" hover":""}${a||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${l.x}px, ${l.y}px, 0)`,width:l.width+"px",height:l.height+"px",display:a||r?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons marquee",style:{transform:`translateY(${c}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[g("button",{onMouseDown:d=>{this.launchUIWindow(d)},className:"text",children:"Marquee"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.marqueeInstance.getBoundingClientRect(),r={x:i.x+-10,y:i.y,left:i.right+-10,right:i.right+-10,top:i.top+0,bottom:i.top+27,width:i.width,height:20};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"marquee-ineditor",windowAlias:"marquee",positionRect:r,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{activeMarquee:this.props.marqueeInstance}})};onMouseDown=e=>{if(this.state.UIWindow||e.button===2)return;let i={x:e.clientX,y:e.clientY};this.props.marqueeInstance.built&&(this.mouseDownTimeout=setTimeout(()=>{this.props.isDragging||(this.props.marqueeInstance.built=!1,setTimeout(()=>{let r=this.props.marqueeInstance.querySelector("marquee-inner"),n=CargoEditor.helpers.createRangeAtCoordinates(i.x,i.y);(!n||!r.contains(n.commonAncestorContainer))&&(n=CargoEditor.rangy.createRange(),n.setStart(r,0),n.setEnd(r,0)),CargoEditor.helpers.setActiveRange(n),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor(),e)},20))},120))};onInnerMutation=e=>{if(Array.from(e).filter(a=>{if(a.type==="attributes"){if(a.target.nodeName==="MEDIA-ITEM")return!0;if(a.target.nodeName==="MARQUEE-INNER")return!1}else return!a.target.closest?.("media-item")}).length==0)return;let r=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(a=>!a.hasAttribute("slot")||a.getAttribute("slot")==="contents");if(!r)return;let n=Array.from(r?.childNodes??[])[0],o=!0;for(;n&&o;)(n.nodeName==="IMG"||n.nodeName==="VIDEO"||n.nodeName==="IFRAME"||n.nodeName==="MEDIA-ITEM"||n.textContent.trim()!=="")&&(o=!1),n=n.nextSibling;this.setState({marqueeIsEmpty:o})};dispatchVisibility=JH.default.debounce(()=>{Array.from(this.props.marqueeInstance.querySelectorAll("*")).forEach(e=>{bt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),bt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})},30);onMutation=e=>{this.observer.disconnect(),this.innerObserver.disconnect();let i=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(n=>!n.hasAttribute("slot")||n.getAttribute("slot")==="contents"),r=this.props.marqueeInstance.querySelector('marquee-inner[slot="contents-clone"]');i&&r?Array.from(this.props.marqueeInstance.childNodes).forEach(n=>{n!==i&&n!==r&&n.remove()}):i&&!r&&(this.props.marqueeInstance.dirty=!0),this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1}),i&&this.innerObserver.observe(i,{childList:!0,subtree:!0,characterData:!0,attributes:!0})};onDragStart=(e,i,r)=>{this.setState({draggingInEditor:!0}),He.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1};onDragFinish=()=>{this.dragFinishTimeout=setTimeout(()=>{this.setState({draggingInEditor:!1})},100),this.props.marqueeInstance.built=!0};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1});let e=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(i=>!i.hasAttribute("slot")||i.getAttribute("slot")==="contents");e&&this.innerObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.props.marqueeInstance.addEventListener("mousedown",this.onMouseDown),ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragend",this.onDragFinish),ye.globalDragEventController.on("drop",this.onDragFinish),this.props.marqueeInstance._editorInterface=this,this.props.marqueeInstance._newMarqueeSet&&(delete this.props.marqueeInstance._newMarqueeSet,setTimeout(()=>{this.launchUIWindow()},120))}componentWillUnmount(){this.dispatchVisibility.cancel(),clearTimeout(this.mouseDownTimeout),clearTimeout(this.dragFinishTimeout),this.observer.disconnect(),this.innerObserver.disconnect(),this.props.marqueeInstance.removeEventListener("mousedown",this.onMouseDown),ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragend",this.onDragFinish),ye.globalDragEventController.off("drop",this.onDragFinish),this.state.UIWindow?.closeWindow?.(),delete this.props.marqueeInstance._editorInterface}componentDidUpdate(e,i){this.props.adminMode!==e.adminMode&&(this.props.marqueeInstance.dirty=!0),this.props.isDragging!==e.isDragging&&clearTimeout(this.mouseDownTimeout),(i.marqueeIsEmpty!==this.state.marqueeIsEmpty||i.draggingInEditor!==this.state.draggingInEditor)&&!this.state.draggingInEditor&&this.state.marqueeIsEmpty&&CargoEditor?.mutationManager?.execute(()=>{this.props.marqueeInstance.remove()})}},QH=zS});var Bg,aa,xp,Wg,Zu,HS,tq,Vg,eue,iq=M(()=>{Ee();qe();Gm();pt();Ne();ki();ea();ZH();Bi();eq();Ui();Bg=pe(we(),1);Wi();oe();aa=new Map,xp=new Map,Wg=null;ne||(Zu=new ResizeObserver(t=>{t.forEach(e=>{xp.has(e.target)?xp.get(e.target).onMarqueeInnerResize(e):aa.has(e.target)&&aa.get(e.target).onElementResize(e)})}),window.addEventListener("dom-binding-initialized",t=>{aa.forEach((e,i)=>{t.target.contains(i)&&(i.dirty=!0)})}));HS=0,tq=t=>{let e=HS===0?0:t-HS;aa.forEach((i,r)=>{i.animate(e)}),HS=t,Wg=requestAnimationFrame(tq)},Vg=class extends se{constructor(e){super(e),this.uid=Bg.default.uniqueId(),this.initialSizeSet=!1,this.state={dirty:!0,built:!0,marqueeHeight:100,gutterPixelWidth:0,mediaItemLocations:{},contentRect:{marginLeft:0,width:0,height:0,contentWidth:0},elementRect:{horizPad:0,vertPad:0,width:0,height:0},paused:!1,pointerInfo:{type:"mouse",pointerDown:!1,dragging:!1},marqueeInner:null,visible:!0},this.pointerMovement={start:{x:0,y:0},delta:{x:0,y:0},inertia:{x:0,y:0}},this.marqueePositionerRef=me(),this.marqueePositionerCloneRef=me(),this.contentRef=me(),this.contentsObserver=new MutationObserver(this.onContentsChange),this.resetPosition(),this.pauseCount=0,Object.defineProperty(this.props.baseNode,"dragging",{get:()=>this.state.pointerInfo.dragging,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,set:i=>{this.setState({paused:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"built",{get:()=>this.state.built,set:i=>{this.setState({built:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"dirty",{get:()=>this.state.dirty,set:i=>{this.setState({dirty:!!i})},configurable:!0})}render(e,i){let r=e.behavior==="bounce",n=e.behavior==="scroll",o=e.direction==="vertical",a=e.direction==="horizontal",l=e.direction==="diagonal";l&&n&&(l=!1,a=!0);let{adminMode:c,pageInfo:d,baseNode:m,"vertical-height":f,gutter:v=0}=e,{contentRect:b,elementRect:_,built:E,marqueeHeight:C,gutterPixelWidth:I}=i,N=Qt(f,""),D=v!==void 0?Qt(v,"rem").join(""):"0px",F={marqueeHeight:N[1]===""?`calc( var(--fit-height) * ${N[0]*.01} )`:N.join("")};v!==void 0&&v!==0&&(F.gutterPixelWidth=D);let z=I,G=I;a&&(z=0),o&&(G=0);let Y=n&&o?0:2,L=n&&a?0:2;return Ge(g(te,{children:[c&&d.isEditing&&g(XH,{onTextAlignmentChange:this.onTextAlignmentChange}),g("style",{children:`

					:host {
						--marquee-vertical-padding: ${Y}rem;
						--marquee-horizontal-padding: ${L}rem;
						--marquee-vertical-margin: ${-Y}rem;
						--marquee-horizontal-margin: ${-L}rem;
						contain: layout;
						${E?`
							cursor: default;
							min-height: .5em;
							${c&&d.isEditing?`
							-moz-user-select:none;
							-webkit-user-select:none;

							user-select: none;`:""}
						`:`
							min-height: ${r&&!a?C+"px":"auto"};
						`}
						box-sizing: border-box;
						height: ${E?o||l?C+"px":b.height+_.vertPad+"px":"auto"};
					    display: block;
					    
					    position: relative;
						--resize-parent-width: ${_.width}px;				    
					}

					.marquee-margin {
						position: relative;
						${E?`
							pointer-events:none;
							margin-top: var(--marquee-vertical-margin);
							margin-left: var(--marquee-horizontal-margin);
							margin-right: var(--marquee-horizontal-margin);
							margin-bottom: var(--marquee-vertical-margin);
							
							${o||l?"height: "+C+"px;":""}
							padding-top: var(--marquee-vertical-padding);
							padding-bottom: var(--marquee-vertical-padding);
							padding-left: var(--marquee-horizontal-padding);
							padding-right: var(--marquee-horizontal-padding);						
							overflow: hidden;
					
						`:""}
					}

					:host .marquee-contents {
						${E?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
							-moz-user-select:text;
							-webkit-user-select:text;
							user-select: text;
						`}
						-webkit-backface-visibility: hidden;
						backface-visibility: hidden;
						will-change: transform;
						position: relative;

					    display: ${E?"block":"none"};
					}

					::slotted(marquee-inner){
						pointer-events:auto;
						white-space:${E&&a?"nowrap":"normal"};					
						display: ${E?"inline-block":"block"};
						${!E&&(o||l)?"min-height: "+C+"px;":""}
						min-width: ${_.width}px;
						${E?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
						`}
										
					}

					.marquee-positioner {
						position: relative;		
						white-space:nowrap;
						${n?"min-width: 100%;":""}					
					}

					/** scroll mode css **/	
					.marquee-positioner.clone {
						display: ${r||!E?"none":"block"};
						left: ${a?Math.max(b.contentWidth,_.width)+G:0}px;
						top: ${o?Math.max(b.height,_.height)+z:0}px;			
					    position: absolute;
					}

					
				`}),g("div",{className:"marquee-margin",children:[!E&&g("slot",{name:"contents"}),c&&d.isEditing&&!ne&&g(QH,{...this.props,marqueeInstance:m,isDragging:this.state.pointerInfo.dragging}),g(Vr,{values:F,onResize:this.onResize}),g("div",{className:"marquee-contents",style:{willChange:"transform",transform:"translate("+this.lastXClamp+"px, "+(this.lastYClamp+_.vertPad*.5)+"px)"},ref:this.contentRef,children:[g("div",{className:"marquee-positioner",ref:this.marqueePositionerRef,children:E&&g("slot",{name:"contents"})}),g("div",{"aria-hidden":"true",className:"marquee-positioner clone",ref:this.marqueePositionerCloneRef,children:E&&n&&g("slot",{name:"contents-clone"})})]})]})]}),m.shadowRoot)}onClickCapture=e=>{this.dragging&&this.state.built&&e.preventDefault()};onDragStartCapture=e=>{this.state.built&&this.props["pointer-interaction"]==!0&&(e.preventDefault(),e.stopPropagation())};onViewportIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{bt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};onLazyloadIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{bt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};componentDidMount(){this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}),this.props.baseNode.addEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.addEventListener("mousedown",this.onMouseDown),this.props.baseNode.addEventListener("touchstart",this.onMouseDown),Ct(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Ct(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),aa.size==0&&(cancelAnimationFrame(Wg),Wg=requestAnimationFrame(tq)),aa.set(this.props.baseNode,this),Zu.observe(this.props.baseNode),this.innerMarqueeChange()}componentDidUpdate(e,i){(this.props.behavior!==e.behavior||this.props.speed!==e.speed||this.props["vertical-height"]!==e["vertical-height"])&&(this.resetPosition(),this.setState({built:!0})),this.state.dirty!==i.dirty&&this.state.dirty&&this.innerMarqueeChange(),this.state.built!==i.built&&this.state.built&&(this.state.dirty&&this.innerMarqueeChange(),this.resetPosition()),e.adminMode!==this.props.adminMode&&this.setState({built:!0})}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.removeEventListener("mousedown",this.onMouseDown),this.props.baseNode.removeEventListener("touchstart",this.onMouseDown),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0}),At(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),At(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Zu.unobserve(this.props.baseNode),aa.delete(this.props.baseNode),cancelAnimationFrame(this.resizeFrame),clearTimeout(this.afterPointerUp);let e=this.props.baseNode.querySelector("marquee-inner");e&&(xp.delete(e),Zu.unobserve(e)),this.contentsObserver.disconnect(),aa.size==0&&cancelAnimationFrame(Wg)}innerMarqueeChange=()=>{if(!this.state.dirty||!this.state.built||!this.marqueePositionerRef.current||!this.marqueePositionerCloneRef.current)return;let e=Array.from(this.props.baseNode.querySelectorAll("marquee-inner")).find(r=>!r.hasAttribute("slot")||r.getAttribute("slot")==="contents");e?(xp.delete(e),Zu.unobserve(e),Array.from(e.querySelectorAll("marquee-inner")).forEach(r=>{r.remove()})):(e=document.createElement("marquee-inner"),e.setAttribute("slot","contents"),Array.from(this.props.baseNode.childNodes).forEach(r=>{e.appendChild(r)}),this.props.baseNode.appendChild(e)),e.setAttribute("slot","contents"),e.setSaveable(!0),xp.set(e,this),Zu.observe(e),this.contentsObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!1});let i=this.props.baseNode.querySelector('marquee-inner[slot="contents-clone"]');for(i||(i=document.createElement("marquee-inner"),i.setAttribute("slot","contents-clone"),this.props.baseNode.appendChild(i));i.lastChild;)i.lastChild.remove();Array.from(e.childNodes).forEach(r=>{i.appendChild(r.cloneNode(!0))}),Array.from(this.props.baseNode.childNodes).forEach(r=>{r!==e&&r!==i&&r.remove()}),this.setState({dirty:!1,marqueeInner:e})};onContentsChange=()=>{this.setState({dirty:!0})};resetPosition=()=>{this.pauseCount=this.props.adminMode?-30:0,this.movingDown=this.props.speed>0,this.movingRight=this.props.speed>0,this.lastXClamp=0,this.lastYClamp=0,this.positionX=0,this.positionY=0,this.translateX=0,this.translateY=0,this.pointerMovement={start:{x:0,y:0},inertia:{x:0,y:0},delta:{x:0,y:0}},this.props.behavior==="bounce"?((this.props.direction==="diagonal"||this.props.direction==="vertical")&&(this.translateY=this.positionY=this.state.elementRect.height*.5+-this.state.contentRect.height*.5),(this.props.direction==="diagonal"||this.props.direction==="horizontal")&&(this.translateX=this.positionX=this.state.elementRect.width*.5+-this.state.contentRect.width*.5+this.state.elementRect.vertPad*.5)):this.translateX=this.positionX=this.translateY=this.positionY=0};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onTextAlignmentChange=e=>{this.resetPosition(),this.requestTick()};requestTick=()=>{this.ticking||(this.ticking=!0,this.rAf=requestAnimationFrame(()=>{this.getContentWidthAndMargin(),this.ticking=!1}))};getContentWidthAndMargin=Bg.default.debounce(()=>{let{marqueeInner:e}=this.state;if(!e)return;let{contentWidth:i,marginLeft:r,width:n}=this.state.contentRect,o=e.childNodes[0],a=e.childNodes[e.childNodes.length-1];if(o&&a){let l=document.createRange();l.setStartBefore(o),l.setEndAfter(a);let c=l.getBoundingClientRect(),d=e.getBoundingClientRect();r=c.left-d.left,i=c.width}else r=0,i=n;this.setState(l=>({contentRect:{...l.contentRect,marginLeft:r,contentWidth:i}}),()=>{this.initialSizeSet||(this.resetPosition(),this.initialSizeSet=!0)})},this.initialSizeSet?300:0,{leading:!0,trailing:!0});onMarqueeInnerResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=i.inlineSize;this.setState(n=>({contentRect:{...n.contentRect,width:i.inlineSize,height:i.blockSize}}),()=>{this.requestTick()})};onElementResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=e.contentBoxSize[0]||e.contentBoxSize;this.setState({elementRect:{width:i.inlineSize,height:i.blockSize,vertPad:i.blockSize-r.blockSize,horizPad:i.inlineSize-r.inlineSize}})};onMouseDown=e=>{if(!this.state.built||!this.props["pointer-interaction"]||e.button==2)return;this.dragging=!1;let i=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY,n=e.touches?.length>0;!e.target.closest("a, media-item[href]")&&!n&&e.preventDefault(),this.pointerMovement={start:{x:i,y:r},inertia:{x:0,y:0},delta:{x:0,y:0}},this.setState({pointerInfo:{type:e.touches?.length>0?"touch":"mouse",pointerDown:!0,dragging:!1}}),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp)};onPointerMove=e=>{let i={x:e.clientX-this.pointerMovement.start.x+this.pointerMovement.delta.x,y:e.clientY-this.pointerMovement.start.y+this.pointerMovement.delta.y},r=this.state.pointerInfo.dragging||Math.abs(e.clientX-this.pointerMovement.start.x)>3||Math.abs(e.clientY-this.pointerMovement.start.y)>3;this.pointerMovement={start:{x:e.clientX,y:e.clientY},inertia:i,delta:i},this.dragging=r,this.setState({pointerInfo:{type:e.pointerType=="touch"?"touch":"mouse",pointerDown:!0,dragging:r}})};onPointerUp=e=>{this.setState({pointerInfo:{type:e.pointerType=="touch"?"touch":"mouse",dragging:!1,pointerDown:!1}},()=>{document.body.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp)})};animate=e=>{let{built:i,paused:r,elementRect:n,contentRect:o,pointerInfo:a,mediaItemLocations:l,gutterPixelWidth:c}=this.state,{positionX:d,positionY:m,movingRight:f,movingDown:v,translateX:b,translateY:_,pointerMovement:E}=this,{speed:C,friction:I}=this.props;if(!i||!this.contentRef.current)return;let N=!1;C=r||a.dragging?0:C,this.pauseCount<0&&(this.pauseCount++,C=0),C=C*(e/16.6667);let D=this.props.behavior==="bounce",F=this.props.behavior==="scroll",z=this.props.direction==="vertical",G=this.props.direction==="horizontal",Y=this.props.direction==="diagonal",L=c,Z=c;Y&&F&&(Y=!1,G=!0),I=1-parseFloat(I)*.01,C=parseFloat(C)*.1;let $=C,j=C,ie=Math.abs(E.inertia.y)>.01||Math.abs(E.inertia.x)>.01;a.pointerDown||a.dragging?(N=!0,j=E.delta.x,$=E.delta.y):ie&&(N=!0,D?(v?$=Math.abs($)+Math.abs(E.inertia.y):$=-Math.abs($)+-Math.abs(E.inertia.y),f?j=Math.abs(j)+Math.abs(E.inertia.x):j=-Math.abs(j)+-Math.abs(E.inertia.x)):(j=j+E.inertia.x,$=$+E.inertia.y)),D&&!a.dragging&&(v?$=Math.abs($):$=-Math.abs($),f?j=Math.abs(j):j=-Math.abs(j)),$!==0&&(v=$>0),j!==0&&(f=j>0),(z||Y)&&(m=$+m),(G||Y)&&(d=j+d);let H=!1;if(D){let K=o.contentWidth,U=o.height,W=-o.marginLeft,re=n.width+-K+-o.marginLeft,ce=0,fe=n.height-U;K>=n.width&&(W=n.width-K,re=0),U>=n.height&&(ce=n.height-U,fe=0),f&&d>re&&(G||Y)?(H="right",d=re,f=!1):!f&&d<W&&(G||Y)&&(H="left",d=W,f=!0),v&&m>fe&&(z||Y)?(H="bottom",m=fe,v=!1):!v&&m<ce&&(z||Y)&&(H="top",m=ce,v=!0),G?_=0:_=m,z?b=0:b=d}else if(F){G&&(Z=0),z&&(L=0);let K=Math.max(o.contentWidth,n.width)+L,U=Math.max(o.height,n.height)+Z;K>0&&(d=(d-K)%K),U>0&&(m=(m-U)%U),z?(b=0,_=m):G&&(b=d,_=0)}H&&this.dispatchBounceEvent(H);let ae=a.dragging?{x:E.delta.x,y:E.delta.y}:{x:E.inertia.x*I,y:E.inertia.y*I};this.positionX=d,this.positionY=m,this.translateX=b,this.translateY=_,this.movingRight=f,this.movingDown=v;let ee=Math.abs(C)>1?2:4,J=Math.floor(this.translateX*ee)/ee,le=Math.floor(this.translateY*ee)/ee;(J!==this.lastXClamp||le!==this.lastYClamp)&&(this.contentRef.current.style.transform="translate("+J+"px, "+(le+this.state.elementRect.vertPad*.5)+"px)"),this.lastXClamp=J,this.lastYClamp=le,N&&(this.pointerMovement={...this.pointerMovement,inertia:ae,delta:{x:0,y:0}})};dispatchBounceEvent=Bg.default.debounce(e=>{this.props.baseNode.dispatchEvent(new CustomEvent("marquee-bounce",{detail:{edge:e},bubbles:!1,composed:!0}))},40,{leading:!0,tailing:!1})};Vg.defaultProps={speed:-10,direction:"horizontal",behavior:"scroll","pointer-interaction":!0,"vertical-height":"100",friction:5};eue=Ot(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Vg));Zt(eue,"marquee-set",["gutter","speed","direction","behavior","pointer-interaction","vertical-height","friction"],{renderIntoShadow:!0})});var s5e,Ju,$g,tue,rq=M(()=>{Ee();qe();pt();Ne();Gm();Kn();s5e=pe(we(),1);Wi();ki();oe();Ju=new Map,$g=class extends se{constructor(){super(),this.state={iconElement:{imgVdom:null,customDimensions:{width:32,height:32}}}}render(e,i){let r=i.iconElement.customDimensions.width/i.iconElement.customDimensions.height;return g(te,{children:Ge(g(te,{children:[g("style",{id:"text-icon",children:`
		:host {
			cursor: ${e.adminMode?"text":"unset"};
			aspect-ratio: ${r};
			height: 1.2em;
			width: auto;
		    contain: layout;
		    margin-top: -1em;
		    margin-bottom: -.25em;
		    display: inline-block;
		    vertical-align: baseline;
			position: relative;
		}

		:host, *{
		    -moz-user-select: text;
		    -webkit-user-select: text;
		    -ms-user-select: text;
		    user-select: text; 		
		}

		img {
			pointer-events:none;
		}
		
		svg, img {
			object-fit: cover;
			display: block;
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			fill: currentColor;
		}
					`}),this.state.iconElement.imgVdom,this.props.adminMode?g(Vi,{baseNode:this.props.baseNode,inFront:!1}):null]}),this.props.baseNode.shadowRoot)})}getIconSVG=()=>{new Promise((e,i)=>{let r=this.props.icon||null;if(r)if(Ju.has(r))e(Ju.get(r));else{let o=r.indexOf("https://")===0?r:"https://build.cargo.site/frontend/fe282c/icon/icons/"+r+".svg",a=o.split(".")?.pop()||"";if(["jpeg","jpg","png","gif","webp"].indexOf(a.toLowerCase())!=-1){let l=document.createElement("img");l.src=o,l.onload=()=>{let c=g("img",{part:"img",src:r,width:l.naturalWidth,height:l.naturalHeight});Ju.set(r,{imgVdom:c,customDimensions:{width:l.naturalWidth,height:l.naturalHeight}}),l.onload=null,e(Ju.get(r))}}else a=="svg"?fetch(o,{mode:"cors"}).then(l=>l.ok?l.text():i("bad response")).then(l=>{let c=document.createElement("div");c.innerHTML=l;let d={width:32,height:32},m=Array.from(c.children).map((f,v)=>{let b=f.tagName.toLowerCase()=="svg";return b&&f.hasAttribute("width")&&f.hasAttribute("height")&&(d.width=f.getAttribute("width"),d.height=f.getAttribute("height")),zu(f,null,{part:b?"svg":v,key:r+"-"+v,draggable:!0})});if(m.length>0){if(Ju.set(r,{imgVdom:m,customDimensions:d}),r!==this.props.icon){i("Icon name mismatch");return}e(Ju.get(r))}else i("Icon not found at ",o)}).catch(l=>{i(l)}):i("Invalid url")}else i("Icon not found",r)}).then(e=>{this.setState({iconElement:e})}).catch(e=>{console.log("icon loading failed:",e)})};onDragStart=e=>{e.dataTransfer.setData("text-icon-drag","true")};componentDidMount(){for(this.props.baseNode.addEventListener("dragstart",this.onDragStart);this.props.baseNode.childNodes[0];)this.props.baseNode.childNodes[0].remove();this.getIconSVG()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e){e.icon!==this.props.icon&&this.getIconSVG()}};$g.defaultProps={icon:null};tue=Ot(De((t,e)=>({adminMode:t.frontendState.adminMode}))($g));Zt(tue,"text-icon",["icon"],{delegatesFocus:!0})});var qS,nq,oq=M(()=>{qe();qm();oe();qS=class extends Re.Component{constructor(e){super(e)}render(){return g(te,{children:[g("div",{className:"colorfilter-color"}),g("div",{className:"colorfilter-base"})]})}componentDidMount(){$e.isSafari()&&(document.querySelector("#editor-overlay")?.classList.add("safari"),document.querySelector("#cargo-dotsite")?.classList.add("safari"),document.querySelector(".colorfilter-base")?.classList.add("safari"),document.querySelector(".colorfilter-color")?.classList.add("safari"))}componentWillUnmount(){document.querySelector("#editor-overlay")?.classList.remove("safari"),document.querySelector("#cargo-dotsite")?.classList.remove("safari")}},nq=qS});function rue(t){let e=ne?t.site?.is_template:t.site?.is_template&&parent===window;return{hasSitePackage:t.frontendState.hasSitePackage,adminInitialized:t.adminState?.initialized||!1,inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,showCargoLogo:!e&&t.site?.show_cargo_logo,customHTML:t.site?.custom_html,access_level:t.site?.access_level,website_title:t.site?.website_title,domain_active:t.site?.domain_active,domain:t.site?.domain,site_url:t.site?.site_url,site_id:t.site?.id,fonts:t.site?.fonts,fontsLoaded:t.frontendState.fontsLoaded,stylesheet:t.frontendState.pageNotFound?" ":t.css?.stylesheet,hasAuth:t.auth.authenticated,canDuplicate:e,activePID:t.frontendState.activePID,itemsInCart:no.default.values(t.commerce.cart).reduce((i,r)=>i+=r?.quantity||0,0),enableColorFilter:!!t.siteDesign.site?.enableColorFilter}}function nue(t){return It({fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState,getAuthToken:Fe.getAuthToken},t)}var sq,no,aq,jg,Gg,US,iue,BS,lq,uq=M(()=>{Ee();di();pt();sq=pe(Uh(),1),no=pe(we(),1);Vs();Ne();tk();jt();Ya();S5();xo();T5();Bi();Qm();q5();Cx();j5();Wi();oH();Tg();Jm();mS();vS();wS();bH();SH();BH();jH();YH();iq();rq();Ni();hr();oq();oe();aq=!1,jg=!1,Gg=!0,US=(t=!1)=>{(t||aq&&jg&&Gg)&&setTimeout(()=>{Gg&&window.dispatchEvent(new CustomEvent("initial-content-visible",{detail:{screenshots:{hiddenIds:["dl-duplicate-site"]}}}))},1500)},iue=async t=>{let e=[];if(t.hasSitePackage!==!0&&e.push(t.fetchSitePackage()),ne&&t.fonts&&no.default.isArray(t.fonts)){let i=[...t.fonts].filter(n=>n.provider!=="google"),r=iS({context:"server",families:i});r.then(n=>{t.updateFrontendState({fontsLoaded:no.default.uniq(t.fontsLoaded.concat(i.map(o=>o.family))),serverRenderedFontCSS:n.filter(o=>o??!1)})}),e.push(r)}await Promise.allSettled(e),aq=!0,US()},BS=class extends se{constructor(e){if(super(e),this.state={checkedExistingAuth:!!ne,checkedCookieAuth:!!ne,mobileOffsetsString:null,inheritableFontSizesString:null,linkStylesString:null,fontFeatureSettingsStylesString:null},!ne){if(Promise.resolve().then(()=>(up(),Yx)).then(({default:n})=>{this.setState({QuickView:n})}),e.inAdminFrame===!0){let n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href="https://build.cargo.site/frontend/fe282c/css/front-end/frontend-interface.css",o.id="frontend-interface",n.appendChild(o)}this.setMobileClass(this.props.isMobile),this.setOSClass();let i=0,r=0;window.addEventListener("backdrop-load-start",()=>{Gg=!1,i++}),window.addEventListener("backdrop-load-complete",()=>{r++,r===i&&(Gg=!0,US())})}this.globalStyleRef=me(),this.customHTMLRef=me(),this.scrollingElement={current:ne?null:window},this.setWindowTitle()}setWindowTitle=()=>{if(ne)return;let e=this.props.store.getState(),i,r="";this.props.activePID&&this.props.activePID!==e.site.homepage_id&&this.props.activePID!==e.site.mobile_homepage_id&&this.props.activePID!=="root"&&(e.pages.byId[this.props.activePID]?i=e.pages.byId[this.props.activePID]:e.sets.byId[this.props.activePID]&&(i=e.sets.byId[this.props.activePID])),this.props.website_title&&(r=`${i?.title?`${i.title} \u2014 `:""}${this.props.website_title}`),r!==document.title&&(document.title=r)};onFirstSiteLoad(){let e=!1;try{e=parent.__c3_admin__===!0}catch{}window.dispatchEvent(new CustomEvent("cargo-site-load",{detail:{editing:e}}))}render(){if(this.props.hasSitePackage!==!0)return null;if(!ne&&!Ri&&this.props.domain_active===!0&&this.props.domain!==window.location.host&&!Ha)return window.location.hostname=this.props.domain,null;if(this.props.access_level==="password"||this.props.access_level==="private"){let i=null;return this.props.hasAuth&&this.state.checkedExistingAuth===!1?this.fetchingSitePackage||(this.fetchingSitePackage=!0,this.props.fetchSitePackage().finally(()=>{delete this.fetchingSitePackage,this.setState({checkedExistingAuth:!0})})):this.state.checkedCookieAuth===!1?this.checkingAuth||(this.checkingAuth=!0,this.props.getAuthToken({timeout:1500,site_url:this.props.site_url,site_id:this.props.site_id}).then(()=>{this.props.fetchSitePackage().finally(()=>{delete this.checkingAuth,this.setState({checkedCookieAuth:!0})})}).catch(r=>{this.setState({checkedCookieAuth:!0})}).finally(()=>{delete this.checkingAuth})):(this.props.access_level==="password"?i=g(Bu,{target:"site",onSucces:()=>{this.props.fetchSitePackage()}}):this.props.access_level==="private"&&(i=g(og,{message:"This site is private."})),this.onFontLoad(!0)),g(te,{children:g(Zx,{children:i})})}let e=this.props.customHTML;return g(te,{children:[this.props.enableColorFilter?g(nq,{}):null,g("customhtml",{ref:this.customHTMLRef,dangerouslySetInnerHTML:{__html:e}}),g(H5,{}),g(Zx,{}),g("style",{ref:this.globalStyleRef,dangerouslySetInnerHTML:{__html:this.props.stylesheet}}),g("style",{id:"mobile-offset-styles",dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}}),g("style",{id:"text-style-font-sizes",dangerouslySetInnerHTML:{__html:this.state.inheritableFontSizesString}}),g("style",{id:"link-styles",dangerouslySetInnerHTML:{__html:this.state.linkStylesString}}),g("style",{id:"font-feature-settings-styles",dangerouslySetInnerHTML:{__html:this.state.fontFeatureSettingsStylesString}}),g(pu,{scrollingElement:this.scrollingElement,children:[g(x5,{}),this.state.QuickView&&g(this.state.QuickView,{}),this.props.inAdminFrame&&g(Ck,{}),this.state.loginBeforeDuplicatingSite&&g(ek,{loginToUdotCargoOnly:!0,canCreateNewAccount:!this.props.isMobile,animateIn:!0,canClickout:!0,templateID:this.props.site_id,onClickout:()=>{this.setState({loginBeforeDuplicatingSite:!1})},onLoginSuccess:i=>{window.location.href=`${Id}?duplicate=${this.props.site_id}`}}),g(So,{portalHost:ne?null:document.body})]})]})}componentDidMount(){this.loadNewFonts(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,this.showHideAdminInterface(),Ye.on("mobile-change",this.onMobileChange),this.onMobileChange(Ye.data.mobile.active&&Ye.data.mobile.portrait),this.updateCartCounter(),this.props.hasSitePackage&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.onFirstSiteLoad()})})}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error(e)}onMobileChange=()=>{this.props.updateFrontendState({isMobile:Ye.data.mobile.active})};onFontLoad=(e=!1)=>{ne||jg||(jg=!0,document.documentElement.classList.remove("wf-initial-load"),US(e))};componentWillUnmount(){Ye.off("mobile-change",this.onMobileChange)}showHideAdminInterface=()=>{this.inPreviewMode?document.querySelector("#frontend-interface")?.setAttribute("disabled",""):document.querySelector("#frontend-interface")?.removeAttribute("disabled")};setOSClass=()=>{!ud()&&!cd()&&document.body.classList.add("f-f")};setMobileClass=e=>{e?(document.body.classList.add("mobile"),document.documentElement.classList.add("mobile")):(document.body.classList.remove("mobile"),document.documentElement.classList.remove("mobile"))};setEditingClass=e=>{e?document.body.classList.add("editing"):document.body.classList.remove("editing")};loadNewFonts=()=>{if(!this.props.fonts)return;let e=this.props.fonts.filter(i=>!this.props.fontsLoaded.includes(i.family));e&&e.length>0?(this.props.updateFrontendState({fontsLoaded:no.default.uniq(this.props.fontsLoaded.concat(e.map(i=>i.family)))}),iS({families:e}).then(()=>{jg||document.fonts.ready.then(()=>{this.onFontLoad()})})):document.fonts.ready.then(()=>{this.onFontLoad()})};componentDidUpdate(e,i){if(!ne){if(this.setWindowTitle(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,typeof this.props.customHTML=="string"&&this.props.customHTML!==e.customHTML&&this.customHTMLRef.current){let r=document.createRange().createContextualFragment(this.props.customHTML);this.customHTMLRef.current.innerHTML="",this.customHTMLRef.current.appendChild(r)}this.props.stylesheet!==e.stylesheet&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles()),this.props.fonts!==e.fonts&&no.default.isArray(this.props.fonts)&&this.loadNewFonts(),this.props.inAdminFrame===!0?(this.setEditingClass(this.props.adminMode),this.props.adminInitialized!==e.adminInitialized&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles())):this.setEditingClass(!1),e.isMobile!==this.props.isMobile&&(this.setMobileClass(this.props.isMobile),this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles()),this.props.itemsInCart!==e.itemsInCart&&this.updateCartCounter(),this.showHideAdminInterface(),this.props.hasSitePackage&&!e.hasSitePackage&&requestAnimationFrame(()=>{this.onFirstSiteLoad()})}}updateCartCounter=()=>{document.documentElement.style.setProperty("--cart-item-count",this.props.itemsInCart||""),document.documentElement.style.setProperty("--cart-item-count-display",this.props.itemsInCart?"inline":"")};setFontFeatureSettingsStyles=()=>{if(ne||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r=!1;for(let l of i.cssRules)if(l.selectorText==="bodycopy"&&l.style.getPropertyValue("font-feature-settings")){r=!0;break}else continue;if(!r)return;let n="",o=[],a=[];no.default.each(i.rules,l=>{!l||!l.selectorText||l.selectorText.includes(" ")||((l.style.getPropertyValue("--text-style")||l.selectorText===".caption")&&!l.style.getPropertyValue("font-feature-settings")&&o.push(l.selectorText),l.selectorText.match(/h[1-6]/gi)&&!l.style.getPropertyValue("font-feature-settings")&&a.push(l.selectorText))});for(let l of o)n+=l+" { font-feature-settings: normal; } ";for(let l of a)n+=l+" { font-feature-settings: normal; } ";this.setState({fontFeatureSettingsStylesString:n})};setLinkStyles=()=>{if(ne||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="",n=[],o=[];no.default.each(i.rules,a=>{!a||!a.selectorText||((a.style.getPropertyValue("--text-style")||a.selectorText===".caption")&&n.push(a.selectorText),a.selectorText.match(/h[1-6]/gi)&&o.push(a.selectorText))}),no.default.each(i.rules,a=>{!a||!a.selectorText||(n.forEach(l=>{if(a.selectorText.startsWith(l)&&a.selectorText.includes(" a")){let c=a.selectorText.replace(/^(.*)\s(\a(?:[:.]\S*)?)$/i,(f,v,b)=>b+v);a.selectorText!==c&&(r+=c+" { "+(a.style.cssText||"")+" } ");let d=!!(a.selectorText.includes(" a::")||a.selectorText.includes(" a:")),m=a.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";m!==""&&!d&&(r+=c+" { "+(a.style.cssText||"")+m+" } ",r+=a.selectorText+" { "+m+" } ")}}),o.forEach(l=>{if(a.selectorText.startsWith(l)&&a.selectorText.includes(" a")){let c=!!(a.selectorText.includes(" a::")||a.selectorText.includes(" a:")),d=a.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";d!==""&&!c&&(r+=a.selectorText+" { "+d+" } ")}}))}),this.setState({linkStylesString:r})};setInheritableFontSizes=()=>{if(ne||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="";no.default.each(i.rules,n=>{if(n.style?.fontSize&&n.style?.fontSize!==""){let o=n.style.fontSize,a=n.selectorText==="bodycopy"?", "+n.selectorText+" *":"";r+=n.selectorText+" {--font-size: "+o+`;}
`,r+=n.selectorText+a+` {font-size: calc(var(--font-scale) * var(--font-size));}
`}}),this.setState({inheritableFontSizesString:r})};setMobileOffsets=()=>{if(ne)return;if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=au(e.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ul.lineated","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","blockquote","small-caps","match:audio-player","match:cargo-map","match:shop-product",".quick-view",".quick-view .caption",".quick-view .caption-background",".mobile .quick-view",".mobile .quick-view .caption"]},{properties:["margin-top","margin-right","margin-bottom","margin-left"],allowList:[".content",".mobile .content"]}]);this.setState({mobileOffsetsString:i})};getIsolatedStyleSheet=no.default.once(()=>{let e=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),i=document.createElement("style");return e.children[0].appendChild(i),i})};lq=Cn(De(rue,nue)((0,sq.frontloadConnect)(iue,{onMount:!0,onUpdate:!1})(BS)))});var cq,dq=M(()=>{cq=pe(En(),1);cq.default.defaults.validateStatus=function(t){return t>=200&&t<300}});var Kg,Yg,pq,hq=M(()=>{Kg=pe(En(),1);Ne();na();Yg=new Map,pq=t=>{let e;t.subscribe(()=>{let i=t.getState();if(!i.adminState||!i.adminState.crdt)return;let r=i.adminState.crdt.publishedAt;r!==e&&Yg.clear(),e=r})};ne||(Kg.default.interceptors.request.use(async t=>{if(t.use_cache===!0){let e=Kg.default.getUri(t);Yg.has(e)?t.adapter=function(i){return Yg.get(e).cachedResponsePromise}:(t.cachedResponsePromise=new Promise((i,r)=>{t.resolveCachedResponsePromise=i,t.rejectCachedResponsePromise=r}),t.cachedResponsePromise.catch(i=>i),Yg.set(e,t))}return t}),Kg.default.interceptors.response.use(t=>(t.config.resolveCachedResponsePromise&&t.config.resolveCachedResponsePromise(t),t),t=>(t.config?.rejectCachedResponsePromise&&t.config.rejectCachedResponsePromise(t),Promise.reject(t))))});var WS,fq=M(()=>{WS=pe(En(),1);Ne();na();jt();ne||(WS.default.interceptors.request.use(async t=>{if(t.use_auth!==!1){let e=Dt?.getState();t.headers.Authorization===void 0&&e&&e.auth.data&&e.auth.data.access_token&&(t.headers.Authorization=`Bearer ${e.auth.data.access_token}`)}return t}),WS.default.interceptors.response.use(void 0,t=>(t.response?.status===403&&Dt.dispatch({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}}),Promise.reject(t))))});var mq=M(()=>{});var gq=M(()=>{});var vq,yq=M(()=>{Tg();mS();Jm();vS();wS();vq={grid:io,columnized:gs,slideshow:hi,freeform:Gi,justify:ro}});var oue={};var bq,wq=M(()=>{_i();na();bq=pe(zb(),1);di();b0();jt();Rt();yq();Ni();ug();window.getClientAPI=()=>({actions:u0,reducers:y0,selectors:Ke,history:to,store:Dt,globals:s0,addReduxMiddleWare:bq.addMiddleware,combineReducers:$n,galleryData:vq,editorOverlayAPI:He,toggleOverlay:ji.toggleOverlay,openOverlay:ji.openOverlay,closeOverlay:ji.closeOverlay})});var xq,Sq,bHe,Dt,to,na=M(()=>{Ee();pt();xq=pe(Uh(),1);is();Ne();jh();Sq=pe(we(),1),bHe=pe(En(),1);KR();jt();YR();uq();Bi();hr();dq();hq();fq();mq();gq();oe();!ne&&Ri&&(wq(),Dc(oue));({store:Dt}=GR());if(!ne){to=$h(),Ye.setupStore(Dt),pq(Dt);let t;try{t=localStorage.getItem("c3-auth")}catch(o){console.log("unable to retrieve stored auth",o)}let e=new URLSearchParams(window.location.search);if(e.has("auth"))try{Dt.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(e.get("auth"))}}),e.delete("auth");let o=e.toString();o.length>0&&(o="?"+o),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+o)}catch(o){console.error("unable to use querystring auth",o)}else if(t)try{Dt.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(t)}})}catch(o){console.error("unable to retrieve stored auth",o)}window.history.scrollRestoration&&(window.history.scrollRestoration="manual");let i={};to.push=Sq.default.wrap(to.push,function(o){i[window.location.pathname]=document.scrollingElement.scrollTop;var a=Array.prototype.slice.call(arguments);let l=a[1]||"";if(!(l.startsWith("#")&&l.length>1||a.some(c=>c.preventScrollReset===!0))){let c=Dt.getState().frontendState.activePID,d=Dt.getState().frontendState.activeTag,m=null,f=Dt.subscribe(()=>{clearTimeout(m);let v=Dt.getState();if(v.frontendState.activePID&&v.frontendState.activePID!==c||v.frontendState.activeTag&&v.frontendState.activeTag.url!==d?.url){document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"});let b=document.scrollingElement.scrollHeight;E0(10,()=>{let _=document.scrollingElement.scrollHeight;b!==_&&(document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"}),b=_)}),f()}else m=setTimeout(()=>{f()},4e3)})}a.shift(),o.apply(this,a)}),window.addEventListener("popstate",o=>{let a=window.location.pathname,l=to.location.pathname;if(window.location.hash.length>1)return;i[l]=document.scrollingElement.scrollTop;let c=Dt.getState().frontendState.activePID,d=Dt.getState().frontendState.activeTag,m=Dt.subscribe(()=>{let f=Dt.getState();if((f.frontendState.activePID&&f.frontendState.activePID!==c||f.frontendState.activeTag&&f.frontendState.activeTag.url!==d?.url)&&i.hasOwnProperty(a)){let v=f.frontendState.activePID;setTimeout(async()=>{let b=0,_=!0;for(;_&&f.frontendState.activePID===v;)b>10&&(_=!1),document.scrollingElement.scrollHeight>=i[a]&&(document.scrollingElement.scrollTo({top:i[a],left:0,behavior:"instant"}),_=!1),b++,await new Promise(E=>setTimeout(E,100))}),m()}})});let r=g(Sy,{store:Dt,children:g(Hs,{history:to,children:g(xq.Frontload,{noServerRender:!0,children:g(lq,{})})})}),n=document.body;n.querySelector(".content")!==null?Uc(r,n):Ns(r,n),requestAnimationFrame(()=>{document.body.style.opacity=""})}});na();export{to as history,Dt as store};
/*! lightbox - v1.0.0 Build date: 2017-10-10
	Wrapper for PhotoSwipe (http://photoswipe.com) Copyright (c) 2015 Dmitry Semenov
	*/
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov; */
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://build.cargo.site/frontend/fe282c/index.js.map
